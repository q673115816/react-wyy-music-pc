(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[7779],{9622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var l=a(7329),n=a(2137),c=a(4699),r=a(7757),s=a.n(r),i=(a(1249),a(8309),a(9600),a(6992),a(1539),a(8674),a(8783),a(3948),a(2222),a(7042),a(3804)),o=a.n(i),m=a(5325),u=a(847),d=a(5200),p=a(4184),f=a.n(p),v=a(7484),y=a.n(v),E=a(6866),x=a(4857),g=a(2503),N=a(4849),h=function(e){var t=e.tracks,a=void 0===t?[]:t;return o().createElement("div",{className:"official_rank_list mb-3"},a.map((function(e,t){return o().createElement("div",{tabIndex:"2",className:f()("item hover:bg-gray-100 focus:bg-gray-200 focus:outline-none",{"bg-gray-50":t%2==0}),key:e.name},o().createElement("span",{className:f()("index text-sm w-4",t<3?"text-red-500":"text-gray-300")},t+1),o().createElement("span",{className:"status w-4 flex-center"}," 口 "),o().createElement("span",{className:"name",title:e.name+e.alia},e.name,e.alia.length>0&&o().createElement("span",{className:"text-gray-400"},"(",e.alia.map((function(e){return e})),")")),o().createElement("span",{className:"ml-auto text-gray-400",title:e.ar.map((function(e){return e.name})).join("/")},e.ar.map((function(e,t){return o().createElement("span",{key:e.id},t>0&&" / ",o().createElement(u.Link,{to:"/artist/".concat(e.id),className:"artist text-gray-400 hover:text-gray-500"},e.name))}))))})))};const k=(0,i.memo)((function(){var e,t,a,r=(0,m.useSelector)((function(e){return e.home.toplist})).list,p=void 0===r?[]:r,v=(0,i.useState)([]),k=(0,c.Z)(v,2),b=k[0],_=k[1],w=(0,i.useState)({}),P=(0,c.Z)(w,2),L=P[0],I=P[1],Z=(0,i.useState)(!0),H=(0,c.Z)(Z,2),M=H[0],D=H[1],z=(0,m.useDispatch)(),C=function(){var e=(0,n.Z)(s().mark((function e(){var t,a,n,r,i,o,m,u,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,E.I$)();case 3:return t=e.sent,a=t.list,z((0,x.Tt)(a)),e.next=8,Promise.all([].concat((0,l.Z)(a.slice(0,4).map((function(e){return(0,E.MY)({id:e.id,limit:5})}))),[(0,E.MP)(1)]));case 8:n=e.sent,r=(0,c.Z)(n,5),i=r[0],o=r[1],m=r[2],u=r[3],d=r[4],_([i,o,m,u]),I(d),D(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){C()}),[]),M?o().createElement("div",{className:"flex-center w-full h-full"},o().createElement(N.Z,null)):o().createElement("div",{className:"domHome_content px-8 overflow-auto max-h-full flex-auto"},o().createElement("div",{className:"domHome_toplist ui_w1100"},o().createElement("div",{className:"domHome_toplist_title h1 mb-4"},"官方榜"),o().createElement("div",{className:"domHome_toplist_official"},b.map((function(e){var t=e.playlist;return o().createElement("div",{key:t.id,className:"official_rank flex"},o().createElement(u.Link,{to:"/playlist/music/".concat(t.id),className:"official_rank_cover overflow-hidden relative group"},o().createElement("img",{className:"ui_containimg",src:"".concat(t.coverImgUrl,"?param=200y200"),alt:""}),o().createElement("div",{className:"absolute inset-0 m-auto flex-center text-white"},o().createElement("span",{className:"pt-16"},y()(t.updateTime).format("MM月DD日"),"更新")),o().createElement("button",{type:"button",className:"opacity-0 group-hover:opacity-100 absolute inset-0 m-auto flex-center rounded-full w-10 h-10 text-red-500 bg-white bg-opacity-50"},o().createElement(d.IconPlayerPlay,{size:22,className:"fill-current"}))),o().createElement("div",{className:"official_rank_content flex-auto"},o().createElement(h,{tracks:t.tracks.slice(0,5)}),o().createElement(u.Link,{to:"/playlist/music/".concat(t.id),className:"text-gray-400 hover:text-gray-500"},"查看全部 >")))})),o().createElement("div",{className:"official_rank flex"},o().createElement(u.Link,{to:"/toplistartist",className:"official_rank_cover overflow-hidden relative group"},"歌手榜",o().createElement("div",{className:"absolute inset-0 m-auto flex-center text-white"},o().createElement("span",{className:"pt-16"},y()(null===(e=L.list)||void 0===e?void 0:e.updateTime).format("MM月DD日"),"更新")),o().createElement("button",{type:"button",className:"opacity-0 group-hover:opacity-100 absolute inset-0 m-auto flex-center rounded-full w-10 h-10 text-red-500 bg-white bg-opacity-50"},o().createElement(d.IconPlayerPlay,{size:22,className:"fill-current"}))),o().createElement("div",{className:"official_rank_content flex-auto"},o().createElement("div",{className:"official_rank_list mb-3"},null==L||null===(t=L.list)||void 0===t||null===(a=t.artists)||void 0===a?void 0:a.slice(0,5).map((function(e,t){return o().createElement(u.Link,{key:e.id,className:f()("item hover:bg-gray-100",{"bg-gray-50":t%2==0}),to:"/artist/".concat(e.id)},o().createElement("div",{className:f()("index w-4",{"text-red-500":t<3})},t+1),o().createElement("div",{className:"status w-4 flex-center"},e.lastRank===t&&"-",e.lastRank<t&&"↓",e.lastRank>t&&"↑"),o().createElement("div",{className:"name"},e.name))}))),o().createElement(u.Link,{to:"/toplistartist",className:"text-gray-400 hover:text-gray-500"},"查看全部 >")))),o().createElement("div",{className:"domHome_toplist_title h1 mb-4"},"全球榜"),o().createElement("div",{className:"domHome_toplist_cardlist grid grid-cols-5 gap-5"},p.slice(4).map((function(e){return o().createElement("div",{className:"item flex flex-col",key:e.id},o().createElement(u.Link,{to:"/playlist/music/".concat(e.id),className:"cover group rounded overflow-hidden relative"},o().createElement("span",{className:"playCount flex items-center absolute top-0 right-0 py-0.5 px-2 text-white"},o().createElement(d.IconPlayerPlay,{size:12}),(0,g.LU)(e.playCount)),o().createElement("img",{className:"",src:"".concat(e.coverImgUrl,"?param=200y200"),alt:""}),o().createElement("button",{type:"button",className:"play opacity-0 group-hover:opacity-100 absolute inset-0 m-auto bg-white bg-op text-red-500 w-10 h-10 rounded-full flex-center bg-opacity-95"},o().createElement(d.IconPlayerPlay,{size:20,className:"fill-current"}))),o().createElement(u.Link,{to:"/playlist/music/".concat(e.id),className:"name mt-1 text-sm text-gray-600 hover:text-black"},e.name))})))))}))}}]);