{"version":3,"file":"Artist.784b1476.js","mappings":"+PAYMA,GAAQC,E,OAAAA,aAAY,CACxBC,KAAM,SACNC,aANgC,CAChCC,OAAQ,UAMRC,SAAU,CACRC,gBADQ,SACQC,EAAOC,GACrBD,EAAMH,OAASI,EAAOC,QAAQL,WAIrBJ,EAAf,QAEO,IAAQM,EAAoBN,EAAMU,QAA1BJ,gB,6BClBf,SAAeK,EAAAA,EAAAA,OAAK,oBAAGC,UAAAA,OAAH,MAAe,GAAf,SAClB,yBAAKC,UAAU,yCACZD,EAAUE,KAAI,SAACC,GAAD,OACb,yBAAKF,UAAU,OAAOG,IAAKD,EAAKE,IAC9B,yBAAKJ,UAAU,gDACb,kBAAC,EAAAK,KAAD,CAAMC,GAAE,0BAAqBJ,EAAKE,KAChC,yBAAKJ,UAAU,GAAGO,IAAG,UAAKL,EAAKM,OAAV,kBAAkCC,IAAI,MAE7D,4BACEC,KAAK,SACLV,UAAU,qKAEV,kBAAC,EAAAW,eAAD,CAAgBC,KAAM,GAAIZ,UAAU,mBAGxC,yBAAKA,UAAU,qBACb,kBAAC,EAAAK,KAAD,CAAMC,GAAE,0BAAqBJ,EAAKE,IAAMJ,UAAU,cAChD,0BAAMA,UAAU,uBAAuBE,EAAKb,MAC3Ca,EAAKW,MAAMZ,KAAI,SAACa,GAAD,OACd,0BAAMd,UAAU,gBAAgBG,IAAKW,GAArC,WACOA,EADP,WAMN,yBAAKd,UAAU,sBACZe,GAAAA,CAAMb,EAAKc,aAAaC,OAAO,uBC1B1C,GAAenB,EAAAA,EAAAA,OAAK,oBAAGC,UAAAA,OAAH,MAAe,GAAf,SAClB,yBAAKC,UAAU,aACZD,EAAUE,KAAI,SAACC,EAAMgB,GAAP,aACb,yBACElB,UAAWmB,GAAAA,CAAW,8BAA+B,CACnD,aAAcD,EAAQ,GAAM,IAE9Bf,IAAKD,EAAKE,IAEV,kBAAC,EAAAC,KAAD,CAAML,UAAU,QAAQM,GAAE,0BAAqBJ,EAAKE,KAClD,yBACEJ,UAAU,gBACVO,IAAG,UAAKL,EAAKM,OAAV,kBACHC,IAAI,MAGR,kBAAC,EAAAJ,KAAD,CAAML,UAAU,gBAAgBM,GAAE,0BAAqBJ,EAAKE,KACzDF,EAAKb,KADR,KAGG,UAAAa,EAAKW,aAAL,eAAYO,QAAS,GACpB,0BAAMpB,UAAU,iBAAhB,IACIE,EAAKW,MAAMZ,KAAI,SAACa,GAAD,OAAUA,KAD7B,MAKJ,0BAAMd,UAAU,sBAAsBE,EAAKU,KAA3C,KACA,0BAAMZ,UAAU,6BAAhB,QAEGe,GAAAA,CAAMb,EAAKc,aAAaC,OAAO,uB,gDCxB1C,SAAenB,EAAAA,EAAAA,OAAK,YAA4B,EAAzBC,UAAyB,IAATK,EAAS,EAATA,GACrCiB,QAAQC,IAAI,iBACZ,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACMC,EAAU,mCAAG,gHAESC,EAAAA,EAAAA,IAAiB,CACvCzB,GAAAA,IAHa,gBAEP0B,EAFO,EAEPA,MAGRL,EAASK,GALM,gDAOfT,QAAQC,IAAR,MAPe,yDAAH,qDAahB,OAHAS,EAAAA,EAAAA,YAAU,WACRH,MACC,IAED,yBAAK5B,UAAU,cACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,SACb,yBAAKA,UAAU,0GACb,yBAAKA,UAAU,YAAf,OACA,yBAAKA,UAAU,YAAf,QAGJ,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,QACb,0BAAMA,UAAU,uBAAhB,SACA,yBAAKA,UAAU,qBACb,4BACEU,KAAK,SACLV,UAAU,sDAEV,kBAAC,EAAAW,eAAD,CAAgBC,KAAM,GAAIZ,UAAU,kBAEtC,0BAAMA,UAAU,iBAAhB,KACA,4BAAQU,KAAK,SAASV,UAAU,QAC9B,kBAAC,EAAAgC,eAAD,CAAgBpB,KAAM,GAAIqB,OAAQ,OAIxC,yBAAKjC,UAAU,aACZwB,EAAMrC,MAAM,EAAGuC,GAAOzB,KAAI,SAACC,EAAMgB,GAAP,OACzB,yBACElB,UAAWmB,GAAAA,CACT,8DACA,CAAE,aAAcD,EAAQ,GAAM,IAEhCgB,SAAS,IACT/B,IAAKD,EAAKE,IAEV,yBAAKJ,UAAU,4CACZmC,OAAOjB,EAAQ,GAAGkB,SAAS,EAAG,IAEjC,yBAAKpC,UAAU,+BACb,kBAAC,IAAD,CAAUI,GAAIF,EAAKE,MAErB,yBAAKJ,UAAU,kCACb,4BACEU,KAAK,SACLV,UAAU,kCAEV,kBAAC,EAAAqC,aAAD,CAAczB,KAAM,GAAIqB,OAAQ,MAGpC,yBAAKjC,UAAU,gDACb,0BACEA,UAAU,WACVsC,MAAK,UAAKpC,EAAKb,KAAV,YAAkBa,EAAKY,KAAKb,KAAI,SAACa,GAAD,OAAUA,KAA1C,MAEJZ,EAAKb,KAJR,IAME,0BAAMW,UAAU,iBACbE,EAAKY,KAAKb,KAAI,SAACa,GAAD,OAAUA,OAG7B,kBAAC,IAAD,CAASZ,KAAMA,EAAMF,UAAU,eAEjC,yBAAKA,UAAU,oCACZe,GAAAA,CAAMb,EAAKqC,IAAItB,OAAO,cAIlB,KAAVS,GAAgBF,EAAMJ,OAAS,IAC9B,4BACEV,KAAK,SACLV,UAAU,UACVwC,QAAS,kBAAMb,EAAS,MAH1B,OAMGH,EAAMJ,OANT,c,cCnFRqB,EAAU,CACdC,KAAM,CAAEC,IAAKC,EAAAA,eAAgBC,KAAMC,GACnCC,KAAM,CAAEJ,IAAKK,EAAAA,SAAUH,KAAMI,GAC7BC,OAAQ,CAAEP,IAAKQ,EAAAA,WAAYN,KAAMO,IAG7BC,EAAiBC,OAAOC,QAAQd,GAEtC,SAAe3C,EAAAA,EAAAA,OAAK,WAClB,IAuCS+C,EAAM9C,EAvCPK,GAAOoD,EAAAA,EAAAA,aAAPpD,GACFqD,GAAWC,EAAAA,EAAAA,KACTnE,GAAWoE,EAAAA,EAAAA,IAAe,qBAAGC,UAA7BrE,OACR,GAA0BgC,EAAAA,EAAAA,UAAS,CAAExB,UAAW,GAAI8D,KAAM,OAA1D,eAAOC,EAAP,KAAcC,EAAd,KAEMnC,EAAU,mCAAG,kHAEmBoC,EAAAA,EAAAA,IAAe,CAC/C5D,GAAAA,IAHa,gBAEPL,EAFO,EAEPA,UAAW8D,EAFJ,EAEIA,KAInBE,EAAS,CAAEhE,UAAAA,EAAW8D,KAAAA,IANP,gDAQfxC,QAAQC,IAAR,MARe,yDAAH,qDAehB,OAHAS,EAAAA,EAAAA,YAAU,WACRH,MACC,IAED,yBAAK5B,UAAU,8BACb,yBAAKA,UAAU,8GACZqD,EAAepD,KAAI,+BAAEgE,EAAF,KAAUtB,EAAV,KAAUA,IAAV,OAClB,4BACExC,IAAK8D,EACLvD,KAAK,SACLV,UAAWmB,GAAAA,CACT,4BACA,SACA8C,IAAS1E,GAAU,0BAErBiD,QAAS,kBAAMiB,EAAShE,EAAgB,CAAEF,OAAQ0E,OAElD,kBAACtB,EAAD,CAAK/B,KAAM,GAAIqB,OAAQ,SAI7B,yBAAKjC,UAAU,6BACV6C,EAEAJ,EAAQlD,GAAQsD,KAFV9C,EAEgB+D,EAAM/D,UAD7B,kBAAC8C,EAAD,CAAM9C,UAAWA,EAAWK,GAAIA,U,kCCvD1C,SAAeN,EAAAA,EAAAA,OAAK,YAAY,IAATM,EAAS,EAATA,GACrB,GAAsBmB,EAAAA,EAAAA,UAAS,IAA/B,eAAO2C,EAAP,KAAYC,EAAZ,KAEMN,GAAOO,EAAAA,EAAAA,SAAO,GACdC,GAASD,EAAAA,EAAAA,QAAO,GAChBE,GAAYF,EAAAA,EAAAA,UACZG,GAAcH,EAAAA,EAAAA,UAEdxC,EAAU,mCAAG,2FACZiC,EAAKW,QADO,2EAGsBC,EAAAA,EAAAA,IAAY,CAC/CrE,GAAAA,EACAsB,MANQ,GAOR2C,OAAQA,EAAOG,UANF,gBAGPE,EAHO,EAGPA,IAHO,EAGFC,KAAMC,EAHJ,EAGIA,QAKnBP,EAAOG,SATG,GAUVX,EAAKW,QAAUI,EACfT,GAAO,SAACU,GAAD,wBACFA,IADE,OAEFH,EAAIzE,KAAI,gBAAGG,EAAH,EAAGA,GAAI0E,EAAP,EAAOA,OAAQC,EAAf,EAAeA,SAAU1F,EAAzB,EAAyBA,KAAzB,MAAgD,CACzDe,GAAAA,EACA2E,SAAAA,EACAC,UAHS,EAA+BA,UAIxCC,MAAOH,EACPxC,MAAOjD,WAjBI,kDAqBfgC,QAAQC,IAAR,MArBe,0DAAH,qDA0BhB,OAFA4D,EAAAA,EAAAA,GAAYtD,EAAY0C,EAAWC,GAGjC,yBAAKvE,UAAU,yBACb,kBAAC,IAAD,CAAc+C,KAAMmB,IACpB,yBAAKiB,IAAKZ,QCvChB,GAAezE,EAAAA,EAAAA,OAAK,YAAY,MAATM,EAAS,EAATA,GACrB,GAAwBmB,EAAAA,EAAAA,UAAS,IAAjC,eAAO6D,EAAP,KAAaC,EAAb,KACMzD,EAAU,mCAAG,8GAEI0D,EAAAA,EAAAA,IAAc,CAC/BlF,GAAAA,IAHa,OAETgF,EAFS,OAKfC,EAAQD,GALO,gDAOf/D,QAAQC,IAAR,MAPe,yDAAH,qDAahB,OAHAS,EAAAA,EAAAA,YAAU,WACRH,MACC,IAED,yBAAK5B,UAAU,uDACb,yBAAKA,UAAU,gCAAf,MACA,yBACEA,UAAU,kCACVuF,MAAO,CAAEC,WAAY,QAEpBJ,EAAKK,WAER,6BACA,6BATF,UAUGL,EAAKM,oBAVR,aAUG,EAAmBzF,KAAI,SAACyF,GAAD,OACtB,yBAAKvF,IAAKuF,EAAaC,GAAI3F,UAAU,eACnC,yBAAKA,UAAU,gCAAgC0F,EAAaC,IAC5D,yBAAK3F,UAAU,uDACZ0F,EAAaE,a,cC5B1B,SAAe9F,EAAAA,EAAAA,OAAK,YAAY,IAATM,EAAS,EAATA,GACrB,GAAsCmB,EAAAA,EAAAA,UAAS,IAA/C,eAAOsE,EAAP,KAAoBC,EAApB,KACA,GAA8BvE,EAAAA,EAAAA,WAAS,GAAvC,eAAOwE,EAAP,KAAgBC,EAAhB,KACMpE,EAAU,mCAAG,gHAEWqE,EAAAA,EAAAA,IAAc,CACtC7F,GAAAA,IAHa,gBAEP8F,EAFO,EAEPA,QAGRJ,EAAeI,GACfF,GAAW,GANI,gDAQf3E,QAAQC,IAAR,MARe,yDAAH,qDAehB,OAJAS,EAAAA,EAAAA,YAAU,WACRH,MACC,IAECmE,EAEA,yBAAK/F,UAAU,6BACb,kBAAC,IAAD,OAIqB,IAAvB6F,EAAYzE,OAEZ,yBAAKpB,UAAU,2CAAf,UAMF,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,0BACZ6F,EAAY5F,KAAI,SAACC,GAAD,OACf,yBAAKF,UAAU,OAAOG,IAAKD,EAAKE,IAC9B,yBAAKJ,UAAU,wCACb,kBAAC,EAAAK,KAAD,CAAMC,GAAE,kBAAaJ,EAAKE,IAAMJ,UAAU,IACxC,yBACE+F,QAAO,OACP/F,UAAU,sBACVO,IAAG,UAAKL,EAAKM,OAAV,kBACHC,IAAI,OAIV,yBAAKT,UAAU,uBACb,kBAAC,EAAAK,KAAD,CAAMC,GAAE,kBAAaJ,EAAKE,IAAMJ,UAAU,IACvCE,EAAKb,gB,gDC9CtB,SAAeS,EAAAA,EAAAA,OAAK,WAAkB,kBAC5BM,GAAOoD,EAAAA,EAAAA,aAAPpD,GACA+F,GAAkBxC,EAAAA,EAAAA,IAAe,qBAAGyC,WAApCD,cAEFE,GAAQC,EAAAA,EAAAA,UACZ,kBAAMH,EAAcI,MAAK,SAACrG,GAAD,OAAUA,EAAKE,KAAOoG,OAAOpG,QACtD,CAAC+F,EAAe/F,IAEZqD,GAAWC,EAAAA,EAAAA,KACjB,GAA4BnC,EAAAA,EAAAA,UAAS,IAArC,eAAOkF,EAAP,KAAeC,EAAf,KACM9E,EAAU,mCAAG,gHAEgB+E,EAAAA,EAAAA,IAAgB,CAC7CvG,GAAAA,IAHa,gBAEDqG,EAFC,EAEPG,KAGRF,EAAUD,GALK,gDAOfpF,QAAQC,IAAR,MAPe,yDAAH,qDAkBVuF,EAAkB,mCAAG,wGAEjBC,EAAAA,EAAAA,IAAa,CACjB1G,GAAAA,EACA2G,EAAG,IAJkB,OAMvBtD,GAASuD,EAAAA,EAAAA,IAAS,WAClBC,EAAAA,EAAAA,GAAwBxD,GAPD,gDASvBpC,QAAQC,IAAR,MATuB,yDAAH,qDAalB4F,EAAe,mCAAG,kFACtBb,EADsB,gBApBtB5C,GACE0D,EAAAA,EAAAA,IAA4B,CAC1BC,SAAUhH,KAkBQ,sCACiByG,IADjB,2CAAH,qDAOrB,OAHA9E,EAAAA,EAAAA,YAAU,WACRH,MACC,CAACxB,IAEF,yBAAKJ,UAAU,6BACb,yBAAKA,UAAU,yCACb,yBAAKO,IAAG,oBAAKkG,EAAO7C,cAAZ,aAAK,EAAeqB,MAApB,kBAA2CxE,IAAI,MAEzD,yBAAKT,UAAU,0BACb,yBAAKA,UAAU,uBAAf,UAAsCyG,EAAO7C,cAA7C,aAAsC,EAAevE,MACrD,yBAAKW,UAAU,2BAAf,UACGyG,EAAO5F,aADV,aACG,EAAcZ,KAAI,SAACa,GAAD,OAAUA,MAE/B,yBAAKd,UAAU,+BACb,4BACEwC,QAAS0E,EACTxG,KAAK,SACLV,UAAU,yGAETqG,EACC,oCACE,kBAAC,EAAAgB,aAAD,CAAczG,KAAM,GAAIqB,OAAQ,IADlC,OAKA,oCACE,kBAAC,EAAAD,eAAD,CAAgBpB,KAAM,GAAIqB,OAAQ,IADpC,OAMHwE,EAAOa,MACN,kBAAC,EAAAjH,KAAD,CACEC,GAAE,0BAAWmG,EAAOa,YAAlB,aAAW,EAAaC,QAC1BvH,UAAU,yGAFZ,SAQJ,yBAAKA,UAAU,uBACb,0BAAMA,UAAU,QAAhB,iBAEGyG,EAAO7C,cAFV,aAEG,EAAe4D,WAElB,0BAAMxH,UAAU,QAAhB,iBAEGyG,EAAO7C,cAFV,aAEG,EAAe6D,WAElB,0BAAMzH,UAAU,QAAhB,iBAEGyG,EAAO7C,cAFV,aAEG,EAAe8D,cC3F5B,IAAMC,EAAM,CACVC,GAAIC,EACJC,GAAIA,EACJC,KAAMC,EACNC,KAAMC,GAGR,SAAepI,EAAAA,EAAAA,OAAK,WAClB,IAAQM,GAAOoD,EAAAA,EAAAA,aAAPpD,GAIR,GAAsBmB,EAAAA,EAAAA,UAAS,MAA/B,eAAO4G,EAAP,KAAYC,EAAZ,KACA,OACE,yBAAKpI,UAAU,gDACb,kBAACqI,EAAD,MACA,yBAAKrI,UAAU,kBACb,yBAAKA,UAAU,2BACb,yBAAKA,UAAU,0BACZsD,OAAOgF,KAAKX,GAAK1H,KAAI,SAACC,GAAD,OACpB,4BACEC,IAAKD,EACLsC,QAAS,kBAAM4F,EAAOlI,IACtBQ,KAAK,SACLV,UAAWmB,GAAAA,CACT,qBACAgH,IAAQjI,GAAQ,2BAGjBA,OAIP,yBAAKF,UAAU,oCAGf,SAACuI,EAAKnI,GAAN,OACA,kBAACmI,EAAD,CAAKnI,GAAIA,IADT,CAECuH,EAAIQ,GAAM/H,QCxCrB,EARe,WACb,OACE,kBAAC,EAAAoI,OAAD,KACE,kBAAC,EAAAC,MAAD,CAAOC,KAAM,MAAOC,QAAS,kBAACC,EAAD","sources":["webpack://wyy/./src/reducers/artist/slice.ts","webpack://wyy/./src/features/Artist/components/layouts/Grid.tsx","webpack://wyy/./src/features/Artist/components/layouts/List.tsx","webpack://wyy/./src/features/Artist/components/layouts/Column.tsx","webpack://wyy/./src/features/Artist/components/Album.tsx","webpack://wyy/./src/features/Artist/components/MV.tsx","webpack://wyy/./src/features/Artist/components/Detail.tsx","webpack://wyy/./src/features/Artist/components/Similarity.tsx","webpack://wyy/./src/features/Artist/components/Header.tsx","webpack://wyy/./src/features/Artist/Artist.tsx","webpack://wyy/./src/features/Artist/Router.tsx"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface ArtistState {\n  layout: string;\n}\n\ntype Action = PayloadAction<ArtistState>;\n\nconst initialState: ArtistState = {\n  layout: \"column\",\n};\n\nconst slice = createSlice({\n  name: \"artist\",\n  initialState,\n  reducers: {\n    setArtistLayout(state, action: Action) {\n      state.layout = action.payload.layout;\n    },\n  },\n});\nexport default slice.reducer;\n\nexport const { setArtistLayout } = slice.actions;\n","import React, { memo } from \"react\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\nimport { IconPlayerPlay } from \"@tabler/icons\";\n\nexport default memo(({ hotAlbums = [] }) => (\n  <div className=\"grid grid-cols-4 p-8 gap-x-20 gap-y-5\">\n    {hotAlbums.map((item) => (\n      <div className=\"item\" key={item.id}>\n        <div className=\"cover rounded overflow-hidden relative group\">\n          <Link to={`/playlist/album/${item.id}`}>\n            <img className=\"\" src={`${item.picUrl}?param=200y200`} alt=\"\" />\n          </Link>\n          <button\n            type=\"button\"\n            className=\"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"\n          >\n            <IconPlayerPlay size={20} className=\"fill-current\" />\n          </button>\n        </div>\n        <div className=\"name text-sm mt-2\">\n          <Link to={`/playlist/album/${item.id}`} className=\"ui_ellipse\">\n            <span className=\"ui_text_black_hover\">{item.name}</span>\n            {item.alias.map((alia) => (\n              <span className=\"text-gray-500\" key={alia}>\n                {`（${alia}）`}\n              </span>\n            ))}\n          </Link>\n        </div>\n        <div className=\"text-gray-400 mt-2\">\n          {dayjs(item.publishTime).format(\"YYYY-MM-DD\")}\n        </div>\n      </div>\n    ))}\n  </div>\n));\n","import React, { memo } from \"react\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\n\nexport default memo(({ hotAlbums = [] }) => (\n  <div className=\"list pt-4\">\n    {hotAlbums.map((item, index) => (\n      <div\n        className={classNames(\"list_item hover:bg-gray-100\", {\n          \"bg-gray-50\": index % 2 === 0,\n        })}\n        key={item.id}\n      >\n        <Link className=\"cover\" to={`/playlist/album/${item.id}`}>\n          <img\n            className=\"ui_containimg\"\n            src={`${item.picUrl}?param=100y100`}\n            alt=\"\"\n          />\n        </Link>\n        <Link className=\"name truncate\" to={`/playlist/album/${item.id}`}>\n          {item.name}\n          &nbsp;\n          {item.alias?.length > 0 && (\n            <span className=\"text-gray-400\">\n              ({item.alias.map((alia) => alia)})\n            </span>\n          )}\n        </Link>\n        <span className=\"size text-gray-400\">{item.size}首</span>\n        <span className=\"publishTime text-gray-400\">\n          发行时间：\n          {dayjs(item.publishTime).format(\"YYYY-MM-DD\")}\n        </span>\n      </div>\n    ))}\n  </div>\n));\n","import React, { memo, useEffect, useState } from \"react\";\nimport { IconPlayerPlay, IconFolderPlus, IconDownload } from \"@tabler/icons\";\n\nimport dayjs from \"dayjs\";\nimport classNames from \"classnames\";\nimport DomTags from \"@/components/Tags\";\nimport DomHeart from \"@/components/Table/Heart\";\nimport { apiArtistTopSong } from \"@/api\";\n\nexport default memo(({ hotAlbums = [], id }) => {\n  console.log(\"artist_column\");\n  const [top50, setTop50] = useState([]);\n  const [limit, setLimit] = useState(10);\n  const handleInit = async () => {\n    try {\n      const { songs } = await apiArtistTopSong({\n        id,\n      });\n      setTop50(songs);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"column p-8\">\n      <div className=\"column_item\">\n        <div className=\"cover\">\n          <div className=\"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white\">\n            <div className=\"text-4xl\">TOP</div>\n            <div className=\"text-6xl\">50</div>\n          </div>\n        </div>\n        <div className=\"aside flex-auto ml-20 w-0\">\n          <div className=\"flex\">\n            <span className=\"font-bold text-base\">热门50首</span>\n            <div className=\"flex items-center\">\n              <button\n                type=\"button\"\n                className=\"flex-none border rounded-full flex-center mx-3 p-1\"\n              >\n                <IconPlayerPlay size={10} className=\"fill-current\" />\n              </button>\n              <span className=\"text-gray-300\">|</span>\n              <button type=\"button\" className=\"mx-3\">\n                <IconFolderPlus size={20} stroke={1} />\n              </button>\n            </div>\n          </div>\n          <div className=\"list mt-2\">\n            {top50.slice(0, limit).map((item, index) => (\n              <div\n                className={classNames(\n                  \"item hover:bg-gray-100 focus:outline-none focus:bg-gray-200\",\n                  { \"bg-gray-50\": index % 2 === 0 }\n                )}\n                tabIndex=\"2\"\n                key={item.id}\n              >\n                <div className=\"index flex-none text-right text-gray-400\">\n                  {String(index + 1).padStart(2, 0)}\n                </div>\n                <div className=\"heart flex-none text-center\">\n                  <DomHeart id={item.id} />\n                </div>\n                <div className=\"download flex-none text-center\">\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-500 hover:text-black\"\n                  >\n                    <IconDownload size={16} stroke={1} />\n                  </button>\n                </div>\n                <div className=\"name flex-auto flex flex-auto min-w-0 px-2.5\">\n                  <span\n                    className=\"truncate\"\n                    title={`${item.name}(${item.alia.map((alia) => alia)})`}\n                  >\n                    {item.name}\n                    &nbsp;\n                    <span className=\"text-gray-400\">\n                      {item.alia.map((alia) => alia)}\n                    </span>\n                  </span>\n                  <DomTags item={item} className=\"flex-none\" />\n                </div>\n                <div className=\"duration text-gray-400 flex-none\">\n                  {dayjs(item.dt).format(\"mm:ss\")}\n                </div>\n              </div>\n            ))}\n            {limit === 10 && top50.length > 10 && (\n              <button\n                type=\"button\"\n                className=\"seeMore\"\n                onClick={() => setLimit(50)}\n              >\n                查看全部\n                {top50.length}首 &gt;\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { useState, useEffect, memo } from \"react\";\nimport { IconLayoutGrid, IconList, IconLayout } from \"@tabler/icons\";\nimport classNames from \"classnames\";\nimport { apiArtistAlbum } from \"@/api\";\nimport { setArtistLayout } from \"@/reducers/artist/slice\";\nimport DomGrid from \"./layouts/Grid\";\nimport DomList from \"./layouts/List\";\nimport DomColumn from \"./layouts/Column\";\nimport { useAppDispatch, useAppSelector } from \"@/reducers/hooks\";\nimport { useParams } from \"react-router-dom\";\n\nconst layouts = {\n  grid: { Ico: IconLayoutGrid, View: DomGrid },\n  list: { Ico: IconList, View: DomList },\n  column: { Ico: IconLayout, View: DomColumn },\n};\n\nconst layoutsEntries = Object.entries(layouts);\n\nexport default memo(function Album() {\n  const { id } = useParams();\n  const dispatch = useAppDispatch();\n  const { layout } = useAppSelector(({ artist }) => artist);\n  const [album, setAlbum] = useState({ hotAlbums: [], more: null });\n\n  const handleInit = async () => {\n    try {\n      const { hotAlbums, more } = await apiArtistAlbum({\n        id,\n      });\n\n      setAlbum({ hotAlbums, more });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"domArtist_section relative\">\n      <div className=\"absolute right-8 -translate-y-full bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden\">\n        {layoutsEntries.map(([view, { Ico }]) => (\n          <button\n            key={view}\n            type=\"button\"\n            className={classNames(\n              \"px-1.5 py-0.5 bg-gray-200\",\n              \"handle\",\n              view === layout && \"bg-gray-300 text-white\"\n            )}\n            onClick={() => dispatch(setArtistLayout({ layout: view }))}\n          >\n            <Ico size={14} stroke={1} />\n          </button>\n        ))}\n      </div>\n      <div className=\"domArtist_section_layout\">\n        {((View, hotAlbums) => (\n          <View hotAlbums={hotAlbums} id={id} />\n        ))(layouts[layout].View, album.hotAlbums)}\n      </div>\n    </div>\n  );\n});\n","import React, { useState, useRef, memo } from \"react\";\nimport { apiArtistMV } from \"@/api\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport DomGridVideo from \"@/components/GridVideo\";\n\nexport default memo(({ id }) => {\n  const [MVs, setMVs] = useState([]);\n  // const [hasMore, setHasMore] = useState(true);\n  const more = useRef(true);\n  const offset = useRef(0);\n  const domScroll = useRef();\n  const domObserver = useRef();\n  const limit = 24;\n  const handleInit = async () => {\n    if (!more.current) return;\n    try {\n      const { mvs, time, hasMore } = await apiArtistMV({\n        id,\n        limit,\n        offset: offset.current,\n      });\n      offset.current += limit;\n      more.current = hasMore;\n      setMVs((prev) => [\n        ...prev,\n        ...mvs.map(({ id, imgurl, duration, name, playCount }) => ({\n          id,\n          duration,\n          playCount,\n          cover: imgurl,\n          title: name,\n        })),\n      ]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useInfinite(handleInit, domScroll, domObserver);\n\n  return (\n    <div className=\"domArtist_section p-8\">\n      <DomGridVideo list={MVs} />\n      <div ref={domObserver} />\n    </div>\n  );\n});\n","import React, { memo, useEffect, useState } from \"react\";\nimport { apiArtistDesc } from \"@/api\";\n\nexport default memo(({ id }) => {\n  const [desc, setDesc] = useState({});\n  const handleInit = async () => {\n    try {\n      const desc = await apiArtistDesc({\n        id,\n      });\n      setDesc(desc);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"domArtist_section p-8 leading-8 text-sm select-text\">\n      <div className=\"domArtist_subtitle font-bold\">简介</div>\n      <div\n        className=\"domArtist_article text-gray-500\"\n        style={{ textIndent: \"2em\" }}\n      >\n        {desc.briefDesc}\n      </div>\n      <br />\n      <br />\n      {desc.introduction?.map((introduction) => (\n        <div key={introduction.ti} className=\"select-text\">\n          <div className=\"domArtist_subtitle font-bold\">{introduction.ti}</div>\n          <div className=\"domArtist_article text-gray-500 whitespace-pre-line\">\n            {introduction.txt}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n});\n","import React, { useState, useEffect, memo } from \"react\";\nimport { apiSimiArtist } from \"@/api\";\nimport { Link } from \"react-router-dom\";\nimport DomLoading from \"@/components/Loading\";\n\nexport default memo(({ id }) => {\n  const [simiArtists, setSimiArtists] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const handleInit = async () => {\n    try {\n      const { artists } = await apiSimiArtist({\n        id,\n      });\n      setSimiArtists(artists);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center pt-12\">\n        <DomLoading />\n      </div>\n    );\n  }\n  if (simiArtists.length === 0) {\n    return (\n      <div className=\"text-center text-gray-400 text-sm pt-16\">\n        没有相似歌手\n      </div>\n    );\n  }\n  return (\n    <div className=\"domArtist_section p-8\">\n      <div className=\"grid grid-cols-5 gap-5\">\n        {simiArtists.map((item) => (\n          <div className=\"item\" key={item.id}>\n            <div className=\"cover rounded overflow-hidden border\">\n              <Link to={`/artist/${item.id}`} className=\"\">\n                <img\n                  loading={`lazy`}\n                  className=\"ui_aspect-ratio-1/1\"\n                  src={`${item.picUrl}?param=200y200`}\n                  alt=\"\"\n                />\n              </Link>\n            </div>\n            <div className=\"footer text-sm mt-2\">\n              <Link to={`/artist/${item.id}`} className=\"\">\n                {item.name}\n              </Link>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect, useMemo, useState } from \"react\";\nimport { IconFolderPlus, IconCheckbox } from \"@tabler/icons\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { setDialogUnSubscriptionShow, setToast } from \"@/reducers/mask/slice\";\nimport { apiArtistDetail, apiArtistSub } from \"@/api\";\nimport { useRefreshArtistSublist } from \"@/hooks/useHelp\";\nimport { useAppDispatch, useAppSelector } from \"@/reducers/hooks\";\n\nexport default memo(function Header() {\n  const { id } = useParams();\n  const { artistSublist } = useAppSelector(({ account }) => account);\n\n  const isSub = useMemo(\n    () => artistSublist.find((item) => item.id === Number(id)),\n    [artistSublist, id]\n  );\n  const dispatch = useAppDispatch();\n  const [detail, setDetail] = useState({});\n  const handleInit = async () => {\n    try {\n      const { data: detail } = await apiArtistDetail({\n        id,\n      });\n      setDetail(detail);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleUnSubscription = () => {\n    dispatch(\n      setDialogUnSubscriptionShow({\n        artistId: id,\n      })\n    );\n  };\n\n  const handleSubscription = async () => {\n    try {\n      await apiArtistSub({\n        id,\n        t: 1,\n      });\n      dispatch(setToast(\"收藏成功！\"));\n      useRefreshArtistSublist(dispatch);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleToggleSub = async () => {\n    isSub ? handleUnSubscription() : await handleSubscription();\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, [id]);\n  return (\n    <div className=\"domArtist_header flex p-8\">\n      <div className=\"avatar border overflow-hidden rounded\">\n        <img src={`${detail.artist?.cover}?param=200y200`} alt=\"\" />\n      </div>\n      <div className=\"content flex-auto px-5\">\n        <div className=\"name h1 select-text\">{detail.artist?.name}</div>\n        <div className=\"enname my-3 select-text\">\n          {detail.alias?.map((alia) => alia)}\n        </div>\n        <div className=\"actions mt-3 flex space-x-2\">\n          <button\n            onClick={handleToggleSub}\n            type=\"button\"\n            className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm\"\n          >\n            {isSub ? (\n              <>\n                <IconCheckbox size={20} stroke={1} />\n                已收藏\n              </>\n            ) : (\n              <>\n                <IconFolderPlus size={20} stroke={1} />\n                收藏\n              </>\n            )}\n          </button>\n          {detail.user && (\n            <Link\n              to={`/user/${detail.user?.userId}`}\n              className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm\"\n            >\n              个人主页\n            </Link>\n          )}\n        </div>\n        <div className=\"info mt-5 space-x-5\">\n          <span className=\"size\">\n            单曲数:\n            {detail.artist?.musicSize}\n          </span>\n          <span className=\"size\">\n            专辑数:\n            {detail.artist?.albumSize}\n          </span>\n          <span className=\"size\">\n            MV数:\n            {detail.artist?.mvSize}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useState } from \"react\";\n\nimport classNames from \"classnames\";\n\nimport \"./style.scss\";\n\nimport Album from \"./components/Album\";\nimport MV from \"./components/MV\";\nimport Detail from \"./components/Detail\";\nimport Similarity from \"./components/Similarity\";\nimport Header from \"./components/Header\";\nimport { useParams } from \"react-router-dom\";\n\nconst nav = {\n  专辑: Album,\n  MV: MV,\n  歌手详情: Detail,\n  相似歌手: Similarity,\n};\n\nexport default memo(function Artist() {\n  const { id } = useParams();\n  // if (!/^\\d*$/.test(id)) {\n  //   return <Navigate to=\"/\" />;\n  // }\n  const [tab, setTab] = useState(\"专辑\");\n  return (\n    <div className=\"domArtist overflow-auto max-h-full flex-auto\">\n      <Header />\n      <div className=\"domArtist_main\">\n        <div className=\"domArtist_nav flex mx-8\">\n          <div className=\"flex space-x-4 text-sm\">\n            {Object.keys(nav).map((item) => (\n              <button\n                key={item}\n                onClick={() => setTab(item)}\n                type=\"button\"\n                className={classNames(\n                  \"domArtist_nav_link\",\n                  tab === item && \"font-bold ui_underline\"\n                )}\n              >\n                {item}\n              </button>\n            ))}\n          </div>\n          <div className=\"domArtist_album_layout ml-auto\" />\n        </div>\n        {/* <DomSimilarity id={id} /> */}\n        {((Dom, id) => (\n          <Dom id={id} />\n        ))(nav[tab], id)}\n      </div>\n    </div>\n  );\n});\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Artist from \"./Artist\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route path={\":id\"} element={<Artist />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["slice","createSlice","name","initialState","layout","reducers","setArtistLayout","state","action","payload","actions","memo","hotAlbums","className","map","item","key","id","Link","to","src","picUrl","alt","type","IconPlayerPlay","size","alias","alia","dayjs","publishTime","format","index","classNames","length","console","log","useState","top50","setTop50","limit","setLimit","handleInit","apiArtistTopSong","songs","useEffect","IconFolderPlus","stroke","tabIndex","String","padStart","IconDownload","title","dt","onClick","layouts","grid","Ico","IconLayoutGrid","View","DomGrid","list","IconList","DomList","column","IconLayout","DomColumn","layoutsEntries","Object","entries","useParams","dispatch","useAppDispatch","useAppSelector","artist","more","album","setAlbum","apiArtistAlbum","view","MVs","setMVs","useRef","offset","domScroll","domObserver","current","apiArtistMV","mvs","time","hasMore","prev","imgurl","duration","playCount","cover","useInfinite","ref","desc","setDesc","apiArtistDesc","style","textIndent","briefDesc","introduction","ti","txt","simiArtists","setSimiArtists","loading","setLoading","apiSimiArtist","artists","artistSublist","account","isSub","useMemo","find","Number","detail","setDetail","apiArtistDetail","data","handleSubscription","apiArtistSub","t","setToast","useRefreshArtistSublist","handleToggleSub","setDialogUnSubscriptionShow","artistId","IconCheckbox","user","userId","musicSize","albumSize","mvSize","nav","专辑","Album","MV","歌手详情","Detail","相似歌手","Similarity","tab","setTab","Header","keys","Dom","Routes","Route","path","element","Artist"],"sourceRoot":""}