{"version":3,"file":"Exclusive.3b286c44.js","mappings":"oLAAA,e,aAIA,WACA,WAEA,W,aACA,UACA,WAOA,W,6BAEe,WACb,IAAQA,GAAW,IAAAC,cAAXD,OACFE,GAAW,IAAAC,kBACjB,GAA8B,IAAAC,iBAAe,qBAAGC,aAAxCC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAEVC,GAAS,IAAAC,QAAO,GAKhBC,GAAW,IAAAD,QAAuB,MAClCE,GAAc,IAAAF,QAAuB,MAc3C,OAbA,cANmB,YACjB,IAAAG,eAAc,CAACC,MAHH,GAGUL,OAAAA,IACtBA,EAAOM,SAJK,KAQUJ,EAAWC,IACnC,IAAAI,YAAU,WACO,SAAXf,EACFE,GAAS,IAAAc,4BACDN,EAAUI,UAClBJ,EAAUI,QAAQP,UAAYA,KAE/B,KACH,IAAAU,kBAAgB,kBAAM,WAAM,MAC1Bf,GAAS,IAAAgB,uBAAsB,CAC7BX,WAAW,UAAAG,EAAUI,eAAV,eAAmBP,YAAa,QAE5C,IAED,+BAAKY,UAAU,2BAA2BC,IAAKV,GAC7C,+BAAKS,UAAU,YACb,+BAAKA,UAAU,WAAf,QACA,wBAAC,UAAD,CAAQA,UAAU,aAAaE,MAAM,cAAcC,IAAI,eAEjDhB,EAAOiB,KAAI,SAACC,GAAD,OACT,+BAAKC,IAAKD,EAAKE,QACb,wBAAC,EAAAC,KAAD,CACEC,GAAIJ,EAAKK,QAAL,wBAAgCL,EAAKK,SAArC,qBAA+DL,EAAKM,IACxEX,UAAU,gDAEV,+BAAKY,QAAS,OAAQC,IAAKR,EAAKE,OAAQP,UAAU,kDAAkDc,IAAI,KACxG,gCAAMd,UAAU,uHACd,wBAAC,EAAAe,eAAD,CAAgBC,KAAM,GAAIhB,UAAU,mBAGxC,+BAAKA,UAAU,QACb,wBAAC,EAAAQ,KAAD,CAAMC,GAAE,qBAAgBJ,EAAKM,IAAMX,UAAU,+BAC1CK,EAAKY,YAOpB,+BAAKhB,IAAKT,Q,uLCrEV0B","sources":["webpack://wyy/./src/pages/Exclusive/Exclusive.tsx","webpack://wyy/./src/pages/Exclusive/index.ts"],"sourcesContent":["import React, {\n  RefObject,\n  useEffect, useLayoutEffect, useRef, useState,\n} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { IconPlayerPlay } from '@tabler/icons';\nimport { apiPersonalizedPrivatecontentList } from '@/api';\nimport useInfinite from '@/hooks/useInfinite';\nimport {useAppDispatch, useAppSelector} from '@/reducers/hooks'\nimport {\n  ResultProps,\n  setExclusiveResultAdd,\n  setExclusiveResultEmpty,\n  setExclusiveScrollTop,\n  handleGetData,\n} from '@/reducers/exclusive/slice'\nimport Resize from '@/components/ResizeObserver';\n\nexport default () => {\n  const { action } = useHistory();\n  const dispatch = useAppDispatch();\n  const { result, scrollTop } = useAppSelector(({ exclusive }) => exclusive);\n  const limit = 60;\n  const offset = useRef(0);\n  const handleInit = () => {\n    handleGetData({limit, offset})\n    offset.current += limit\n  };\n  const DomScroll= useRef<HTMLDivElement>(null);\n  const DomObserver = useRef<HTMLDivElement>(null);\n  useInfinite(handleInit, DomScroll, DomObserver);\n  useEffect(() => {\n    if (action === 'PUSH') {\n      dispatch(setExclusiveResultEmpty());\n    } else if(DomScroll.current) {\n      DomScroll.current.scrollTop = scrollTop;\n    }\n  }, []);\n  useLayoutEffect(() => () => {\n    dispatch(setExclusiveScrollTop({\n      scrollTop: DomScroll.current?.scrollTop || 0,\n    }));\n  }, []);\n  return (\n    <div className=\"overflow-auto p-8 h-full\" ref={DomScroll}>\n      <div className=\"ui_w1100\">\n        <div className=\"h1 pb-4\">独家放送</div>\n        <Resize className=\"grid gap-5\" small=\"grid-cols-2\" big=\"grid-cols-3\">\n          {\n              result.map((item: ResultProps) => (\n                <div key={item.picUrl}>\n                  <Link\n                    to={item.videoId ? `/player/video/${item.videoId}` : `/player/mv/${item.id}`}\n                    className=\"flex relative rounded border overflow-hidden\"\n                  >\n                    <img loading={'lazy'} src={item.picUrl} className=\"w-full h-full object-cover ui_aspect-ratio-24/9\" alt=\"\" />\n                    <span className=\"ico absolute top-2 left-2 rounded-full text-white w-6 h-6 bg-black bg-opacity-40 flex-center border border-gray-200\">\n                      <IconPlayerPlay size={14} className=\"fill-current\" />\n                    </span>\n                  </Link>\n                  <div className=\"mt-2\">\n                    <Link to={`/player/mv/${item.id}`} className=\"text-sm ui_text_black_hover\">\n                      {item.name}\n                    </Link>\n                  </div>\n                </div>\n              ))\n            }\n        </Resize>\n        <div ref={DomObserver} />\n      </div>\n    </div>\n  );\n};\n","export {default} from './Exclusive'\n"],"names":["action","useHistory","dispatch","useAppDispatch","useAppSelector","exclusive","result","scrollTop","offset","useRef","DomScroll","DomObserver","handleGetData","limit","current","useEffect","setExclusiveResultEmpty","useLayoutEffect","setExclusiveScrollTop","className","ref","small","big","map","item","key","picUrl","Link","to","videoId","id","loading","src","alt","IconPlayerPlay","size","name","default"],"sourceRoot":""}