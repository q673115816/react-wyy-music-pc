{"version":3,"sources":["webpack://wyy/./src/reducers/hooks.ts","webpack://wyy/./src/pages/Exclusive/Exclusive.tsx"],"names":["useAppSelector","useSelector","action","useHistory","dispatch","useDispatch","exclusive","result","scrollTop","offset","useRef","DomScroll","DomObserver","useInfinite","handleGetData","limit","current","useEffect","setExclusiveResultEmpty","useLayoutEffect","setExclusiveScrollTop","className","ref","small","big","map","item","key","picUrl","Link","to","videoId","id","overflow","src","alt","IconPlayerPlay","size","name"],"mappings":"gNAKaA,EAAkDC,c,oBCoB/D,mBACE,IAAQC,GAAWC,kBAAXD,OACFE,GDvB4BC,mBCwBlC,EAA8BL,GAAe,qBAAGM,aAAxCC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAEVC,GAASC,YAAO,GAKhBC,GAAWD,YAAuB,MAClCE,GAAcF,YAAuB,MAc3C,OAbAG,QANmB,YACjBC,mBAAc,CAACC,MAHH,GAGUN,WACtBA,EAAOO,SAJK,KAQUL,EAAWC,IACnCK,gBAAU,WACO,SAAXf,EACFE,GAASc,gCACDP,EAAUK,UAClBL,EAAUK,QAAQR,UAAYA,KAE/B,KACHW,sBAAgB,kBAAM,WAAM,MAC1Bf,GAASgB,2BAAsB,CAC7BZ,WAAW,UAAAG,EAAUK,eAAV,eAAmBR,YAAa,QAE5C,IAED,yBAAKa,UAAU,2BAA2BC,IAAKX,GAC7C,yBAAKU,UAAU,YACb,yBAAKA,UAAU,WAAf,QACA,kBAAC,IAAD,CAAQA,UAAU,aAAaE,MAAM,cAAcC,IAAI,eAEjDjB,EAAOkB,KAAI,SAACC,GAAD,OACT,yBAAKC,IAAKD,EAAKE,QACb,kBAAC,EAAAC,KAAD,CACEC,GAAIJ,EAAKK,QAAL,wBAAgCL,EAAKK,SAArC,qBAA+DL,EAAKM,IACxEX,UAAU,qEAEV,kBAAC,KAAD,CAAUY,UAAQ,GAChB,yBAAKC,IAAKR,EAAKE,OAAQP,UAAU,6BAA6Bc,IAAI,MAEpE,0BAAMd,UAAU,uHACd,kBAAC,EAAAe,eAAD,CAAgBC,KAAM,GAAIhB,UAAU,mBAGxC,yBAAKA,UAAU,QACb,kBAAC,EAAAQ,KAAD,CAAMC,GAAE,qBAAgBJ,EAAKM,IAAMX,UAAU,+BAC1CK,EAAKY,YAOpB,yBAAKhB,IAAKV","file":"Exclusive.eb7101ae.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React, {\n  RefObject,\n  useEffect, useLayoutEffect, useRef, useState,\n} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport LazyLoad from 'react-lazyload';\nimport { IconPlayerPlay } from '@tabler/icons';\nimport { apiPersonalizedPrivatecontentList } from '@/api';\n// import {\n//   setExclusiveResultAdd,\n//   setExclusiveResultEmpty,\n//   setExclusiveScrollTop,\n// } from '@/reducers/exclusive/actions';\nimport useInfinite from '@/hooks/useInfinite';\n// import { useDispatch, useSelector } from 'react-redux';\nimport {useAppDispatch, useAppSelector} from '@/reducers/hooks'\nimport {\n  ResultProps,\n  setExclusiveResultAdd,\n  setExclusiveResultEmpty,\n  setExclusiveScrollTop,\n  handleGetData,\n} from '@/reducers/exclusive/slice'\nimport Resize from '@/components/ResizeObserver';\n\nexport default () => {\n  const { action } = useHistory();\n  const dispatch = useAppDispatch();\n  const { result, scrollTop } = useAppSelector(({ exclusive }) => exclusive);\n  const limit = 60;\n  const offset = useRef(0);\n  const handleInit = () => {\n    handleGetData({limit, offset})\n    offset.current += limit\n  };\n  const DomScroll= useRef<HTMLDivElement>(null);\n  const DomObserver = useRef<HTMLDivElement>(null);\n  useInfinite(handleInit, DomScroll, DomObserver);\n  useEffect(() => {\n    if (action === 'PUSH') {\n      dispatch(setExclusiveResultEmpty());\n    } else if(DomScroll.current) {\n      DomScroll.current.scrollTop = scrollTop;\n    }\n  }, []);\n  useLayoutEffect(() => () => {\n    dispatch(setExclusiveScrollTop({\n      scrollTop: DomScroll.current?.scrollTop || 0,\n    }));\n  }, []);\n  return (\n    <div className=\"overflow-auto p-8 h-full\" ref={DomScroll}>\n      <div className=\"ui_w1100\">\n        <div className=\"h1 pb-4\">独家放送</div>\n        <Resize className=\"grid gap-5\" small=\"grid-cols-2\" big=\"grid-cols-3\">\n          {\n              result.map((item: ResultProps) => (\n                <div key={item.picUrl}>\n                  <Link\n                    to={item.videoId ? `/player/video/${item.videoId}` : `/player/mv/${item.id}`}\n                    className=\"flex relative rounded border overflow-hidden ui_aspect-ratio-24/9\"\n                  >\n                    <LazyLoad overflow>\n                      <img src={item.picUrl} className=\"w-full h-full object-cover\" alt=\"\" />\n                    </LazyLoad>\n                    <span className=\"ico absolute top-2 left-2 rounded-full text-white w-6 h-6 bg-black bg-opacity-40 flex-center border border-gray-200\">\n                      <IconPlayerPlay size={14} className=\"fill-current\" />\n                    </span>\n                  </Link>\n                  <div className=\"mt-2\">\n                    <Link to={`/player/mv/${item.id}`} className=\"text-sm ui_text_black_hover\">\n                      {item.name}\n                    </Link>\n                  </div>\n                </div>\n              ))\n            }\n        </Resize>\n        <div ref={DomObserver} />\n      </div>\n    </div>\n  );\n};\n"],"sourceRoot":""}