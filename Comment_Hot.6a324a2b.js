"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[7281],{1879:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(2982),a=n(5861),c=n(885),u=n(7757),s=n.n(u),l=(n(4747),n(2222),n(1249),n(7363)),m=n.n(l),o=n(1565),i=n(1690),f=n(9709),p=n(4849);n(7980);const d=(0,l.memo)((function(e){var t=e.id,n=(0,l.useState)([]),u=(0,c.Z)(n,2),d=u[0],v=u[1],h=(0,l.useRef)(!0),y=(0,l.useRef)(0),k=(0,l.useRef)(null),x=(0,l.useRef)(null),w=function(){var e=(0,a.Z)(s().mark((function e(){var n,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.current){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,o.jH)({id:t,type:0,limit:20,offset:y.current});case 5:n=e.sent,a=n.hotComments,c=n.hasMore,h.current=c,y.current+=20,v((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(a))})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return(0,f.Z)(w,x,k),m().createElement("div",{className:"domComment px-8 py-5 overflow-auto max-h-full flex-auto",ref:x},m().createElement("div",{className:"h1"},"精彩评论"),m().createElement("div",{className:"domComment_list"},d.map((function(e){return m().createElement(i.Z,{item:e,key:e.commentId})})),h.current&&m().createElement("div",{className:"flex justify-center py-4"},m().createElement(p.Z,null)),m().createElement("div",{ref:k})))}))}}]);