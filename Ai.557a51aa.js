"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[508],{16689:(e,t,n)=>{n.r(t);var a=n(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=n(63038),r=(0,a.Z)(l),o=n(87363),u=(0,a.Z)(o),c=n(16719);n(46445);var i=n(93011),s=n(50731),d=(0,a.Z)(s),f=n(48296),m=(0,a.Z)(f),h=n(1343),v=(0,o.memo)((function(e){var t=e.handleCallback,n=(0,o.useState)(15),a=(0,r.default)(n,2),l=a[0],i=a[1];return(0,o.useEffect)((function(){var e=setTimeout((function(){l>1?i(l-1):t()}),1e3);return function(){clearTimeout(e)}}),[l]),u.default.createElement("div",{className:"flex flex-col items-center"},u.default.createElement("div",{id:"ai_work",className:"p-32 relative"},u.default.createElement("div",{className:"flex-center rounded-full text-white bg-red-500 w-32 h-32"},u.default.createElement(c.IconMicrophone,{size:64}))),u.default.createElement("div",null,l%2==0||l%3==0||l%5==0?"外部声源无法识别":"正在识别电脑中正在播放的音乐","(".concat(l,"s)")),u.default.createElement("button",{type:"button",className:"mt-4 text-base hover:bg-gray-100 rounded border h-10 w-28",onClick:t},"停止识别"))})),p=(0,o.memo)((function(e){var t=e.handleCallback,n=(0,h.useAppDispatch)();return u.default.createElement("div",{className:"flex flex-col items-center"},u.default.createElement(d.default,null),u.default.createElement("div",{className:"text-base"},"未识别出音乐，仅支持当前电脑正在播放的音乐"),u.default.createElement("button",{type:"button",className:"text-sm ui_theme_bg_color text-white py-2 px-6 rounded mt-4",onClick:t},"重新识别"),u.default.createElement("button",{type:"button",className:"mt-3 text-blue-400 text-sm",onClick:function(){return n((0,i.setToast)("反馈成功，感谢您的反馈"))}},"提交反馈"))}));exports.default=(0,o.memo)((function(){var e=(0,h.useAppDispatch)(),t=(0,o.useState)(!0),n=(0,r.default)(t,2),a=n[0],l=n[1];return u.default.createElement("div",{className:"domAi py-5 px-8 flex flex-col h-full relative"},u.default.createElement(m.default,null),u.default.createElement("div",{className:"domAi_header flex items-baseline"},u.default.createElement("div",{className:"h1"},"听歌识曲"),u.default.createElement("button",{type:"button",className:"ml-auto flex items-center",onClick:function(){return e((0,i.setToast)("创建【听歌识曲】图标至桌面成功"))}},u.default.createElement(c.IconFileImport,{size:16,stroke:1}),"创建桌面快捷方式")),u.default.createElement("div",{className:"flex-auto domAi_main flex items-center justify-center"},a?u.default.createElement(v,{handleCallback:function(){return l(!1)}}):u.default.createElement(p,{handleCallback:function(){return l(!0)}})))}))},50731:(e,t,n)=>{n.r(t);var a=n(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=n(87363),r=(0,a.Z)(l);exports.default=(0,l.memo)((function(){return r.default.createElement("svg",{viewBox:"0 0 1024 1024",width:"256",height:"256",className:"mb-4"},r.default.createElement("path",{d:"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z",fill:"#FD8469"}),r.default.createElement("path",{d:"M110.462992 829.68189C203.993701 948.207874 349.127559 1024 512 1024s307.2-75.792126 401.537008-194.31811H110.462992z",fill:"#F1543F"}),r.default.createElement("path",{d:"M586.179528 817.587402l14.513385-89.499213h-177.385826l14.513385 89.499213z",fill:"#FFFFFF","p-id":"17925"}),r.default.createElement("path",{d:"M595.855118 759.533858l4.837795-31.445669h-177.385826l4.837795 31.445669z",fill:"#E6E9EE"}),r.default.createElement("path",{d:"M815.974803 740.182677H208.025197c-12.900787 0-23.382677-10.48189-23.382677-23.382677V278.979528c0-12.900787 10.48189-23.382677 23.382677-23.382678h608.755905c12.900787 0 23.382677 10.48189 23.382678 23.382678v437.014173c0 12.900787-10.48189 24.188976-24.188977 24.188976z",fill:"#FFFFFF"}),r.default.createElement("path",{d:"M227.376378 298.330709h569.247244v351.546456H227.376378z",fill:"#84DBFF"}),r.default.createElement("path",{d:"M227.376378 298.330709h569.247244v8.062992H227.376378z",fill:"#54C0EB"}),r.default.createElement("path",{d:"M635.36378 829.68189H388.63622v-12.094488c0-12.900787 10.48189-22.576378 22.576378-22.576378h200.768504c12.900787 0 22.576378 10.48189 22.576378 22.576378v12.094488h0.8063z",fill:"#E6E9EE"}),r.default.createElement("path",{d:"M512 690.998425m-25.801575 0a25.801575 25.801575 0 1 0 51.60315 0 25.801575 25.801575 0 1 0-51.60315 0Z",fill:"#E6E9EE"}),r.default.createElement("path",{d:"M681.322835 553.927559H362.834646c-6.450394 0-12.094488-5.644094-12.094489-12.094488v-166.097638c0-6.450394 5.644094-12.094488 12.094489-12.094488h318.488189c6.450394 0 12.094488 5.644094 12.094488 12.094488v166.097638c0 6.450394-5.644094 12.094488-12.094488 12.094488z",fill:"#E6E9EE"}),r.default.createElement("path",{d:"M375.735433 385.411024h292.686614v13.707086H375.735433zM375.735433 418.469291h292.686614v13.707087H375.735433zM375.735433 452.333858h292.686614v13.707087H375.735433zM375.735433 485.392126h292.686614v13.707087H375.735433zM375.735433 518.450394h166.097638v13.707086h-166.097638z",fill:"#CED5E0","p-id":"17933"}),r.default.createElement("path",{d:"M683.741732 610.368504l24.995276-24.995276-50.796851-51.603149 41.12126-24.188977-108.044094-17.738582 17.738583 108.044094 24.188976-41.12126z",fill:"#324A5E"}))}))},48296:(e,t,n)=>{n.r(t),n(47042),n(41539),n(68309),n(91038),n(78783),n(82526),n(41817),n(32165),n(66992),n(33948);var a=n(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=n(63038),r=(0,a.Z)(l),o=n(1343),u=n(93011),c=n(16719),i=n(87363),s=(0,a.Z)(i);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}exports.default=(0,i.memo)((function(){var e=(0,o.useAppDispatch)(),t=(0,i.useState)(""),n=(0,r.default)(t,2),a=n[0],l=n[1],f=(0,i.useRef)(!1),m=(0,i.useState)(!1),h=(0,r.default)(m,2),v=h[0],p=h[1],E=(0,i.useRef)(function(){var e=new webkitSpeechRecognition,t=new webkitSpeechGrammarList;return t.addFromString("#JSGF V1.0; grammar colors; public <color> = aqua | azure | beige | bisque | black | blue | brown | chocolate | coral | crimson | cyan | fuchsia | ghostwhite | gold | goldenrod | gray | green | indigo | ivory | khaki | lavender | lime | linen | magenta | maroon | moccasin | navy | olive | orange | orchid | peru | pink | plum | purple | red | salmon | sienna | silver | snow | tan | teal | thistle | tomato | turquoise | violet | white | yellow ;",1),e.grammars=t,e.continuous=!0,e.interimResults=!0,e.lang="cmn-Hans-CN",e.maxAlternatives=1,e.onresult=function(e){console.log("result"),console.log(e);var t,n="",a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw r}}}}(e.results);try{for(a.s();!(t=a.n()).done;)n+=(0,r.default)(t.value,1)[0].transcript}catch(e){a.e(e)}finally{a.f()}l(n)},e.onstart=function(e){console.log(e,"start")},e.onend=function(e){console.log(e,"end"),f.current=!1,p(!1)},e.onspeechstart=function(e){console.log(e,"speechstart")},e.onspeechend=function(e){console.log(e,"speechend")},e.onsoundstart=function(e){console.log(e,"soundstart")},e.onsoundend=function(e){console.log(e,"soundend")},e.onaudiostart=function(e){console.log(e,"audiostart")},e.onaudioend=function(e){console.log(e,"audioend")},e}()),b=E.current,g="在最新浏览器下使用",y=(0,i.useCallback)((function(){return"speechSynthesis"in globalThis?f.current?(console.log("toggleEnd"),f.current=!1,p(!1),void b.abort()):(f.current=!0,p(!0),console.log("start"),b.start(),void console.log("Ready to receive a color command.")):e((0,u.setToast)(g))}),[]);return s.default.createElement("div",{className:"absolute bottom-0 left-0"},v&&s.default.createElement("textarea",{value:a,readOnly:!0}),s.default.createElement("div",null,v&&"(真人讲话的效果较好，但是放歌给电脑听电脑听清，所以可以选择自己唱歌给电脑听，中途关闭会小卡)"),s.default.createElement("button",{type:"button",title:g,onClick:y,className:"border px-2 flex-center hover:bg-black hover:text-white"},s.default.createElement(c.IconBrandGithub,null),v?"正在收集声音":"隐藏功能"))}))},26537:(e,t,n)=>{n.r(t);var a=n(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=n(16689);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(0,a.Z)(l).default}})},46445:(e,t,n)=>{n.r(t)}}]);