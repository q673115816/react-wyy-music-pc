"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[9259],{5921:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var c=n(3575),a=n(5861),l=n(6459),o=n(7757),i=n.n(o),s=(n(2222),n(1249),n(8309),n(7327),n(9600),n(3804)),m=n.n(s),r=n(847),u=n(5325),E=n(5200),_=n(3011),N=n(266),x=n(6866),b=n(5295),y=n(7704);const k=function(){var e=(0,u.useDispatch)(),t=(0,u.useSelector)((function(e){return e.common})).baseUrl,n=(0,u.useSelector)((function(e){return e.account})),o=n.profile,k=n.playlist,f=(0,u.useSelector)((function(e){return e.mask})),p=f.contextMenuVisibility,d=f.contextMenuX,h=f.contextMenuY,I=f.contextMenuItem,M=f.contextMenuTotal,P=f.contextMenuSechma,v=f.contextMenuType,C=f.contextMenuItemId,w=(0,u.useSelector)((function(e){return e.inset})),z=w.globalX,g=w.globalY,S=k.filter((function(e){return!1===e.subscribed})),D="".concat(t,"/").concat(v,"?id=").concat(C,"&userId=").concat(o.userId);(0,s.useEffect)((function(){e((0,_.setContextMenuShareLink)({contextMenuShareLink:D}))}),[]);var L=function(){e((0,N.setAudioImmediate)({currentSong:I})),e((0,_.setDialogReset)())},T=function(){e((0,N.setAudioImmediateNext)({currentSong:I})),e((0,_.setDialogReset)())},V=function(){console.log("播放歌单")},Z=function(){console.log("下一首播放歌单")},R=function(){var t=(0,a.Z)(i().mark((function t(){var n,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,x.Bw)({mvid:C,t:1});case 3:n=t.sent,c=n.message,e((0,_.setDialogReset)()),e((0,_.setToast)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),A=function(){(0,b.Z)(D,(function(){e((0,_.setToast)("复制链接成功"))})),e((0,_.setDialogReset)())},F=function(){e((0,_.setDialogCreatePlaylistShow)())},X=(0,s.useCallback)((function(){return e((0,_.setDialogShareShow)())}),[]),Y=(0,s.useMemo)((function(){var t,n=(t=function(){return e((0,_.setDialogReset)())},{评论:function(e){var n=e.contextMenuItem,c=e.contextMenuTotal,a=e.contextMenuType;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement(r.Link,{to:"/comment/".concat(a,"/").concat(n.id),onClick:t,className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconMessage,{size:22,stroke:1})),"查看评论 (",c,")"))},播放:function(e){var t=e.handlePlay;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"播放(Enter)"))},下一首播放:function(e){var t=e.handlePlayNext;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconArrowForward,{size:22,stroke:1})),"下一首播放"))},播放歌单:function(e){var t=e.handlePlayPlaylist;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"播放(Enter)"))},下一首播放歌单:function(e){var t=e.handlePlayNextPlaylist;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconArrowForward,{size:22,stroke:1})),"下一首播放"))},查看歌单:function(e){var n=e.contextMenuItem;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement(r.Link,{to:"/playlist/music/".concat(n.id),onClick:t,className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"查看歌单"))},播放MV:function(e){var n=e.contextMenuItem,c=e.contextMenuType;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement(r.Link,{to:"/player/".concat(c,"/").concat(n.id),onClick:t,className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"播放MV"))},收藏MV:function(e){var t=e.handleSubscribeMV;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconFolderPlus,{size:22,stroke:1})),"收藏MV"))},收藏到歌单:function(e){var t=e.handleCreatePlaylist,n=e.ownPlaylist,c=void 0===n?[]:n;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("span",{className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconFolderPlus,{size:22,stroke:1})),"收藏到歌单(Ctrl+S)",m().createElement("i",{className:"arrow"})),m().createElement("ul",{className:"ui_contextmenu sub"},m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconCirclePlus,{size:22,stroke:1})),"创建新歌单")),m().createElement("li",{className:"hr"}),c.map((function(e){return m().createElement("li",{className:"ui_contextmenu_item",key:e.id},m().createElement("button",{type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},10===e.privacy?m().createElement(E.IconLock,{size:22,stroke:1}):m().createElement(E.IconMusic,{size:22,stroke:1})),e.name))}))))},分享:function(e){var t=e.handleDialogShare;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconShare,{size:22,stroke:1})),"分享....."))},复制链接:function(e){var t=e.handleCopyLink;return m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconLink,{size:22,stroke:1})),"复制链接"))},不感兴趣:function(e){return(0,l.Z)(e),m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("span",{className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconCircleX,{size:22,stroke:1})),"不感兴趣",m().createElement("i",{className:"arrow"})),m().createElement("ul",{className:"ui_contextmenu sub"},m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"}),"创建新歌单")),m().createElement("li",{className:"hr"}),m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"}),"创建新歌单")),m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"}),"创建新歌单"))))},下载:function(){return m().createElement("li",{className:"ui_contextmenu_item "},m().createElement("span",{className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconDownload,{size:22,stroke:1})),"下载(L)",m().createElement("i",{className:"arrow"})),m().createElement("ul",{className:"ui_contextmenu sub"},m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconCirclePlus,{size:22,stroke:1})),"创建新歌单")),m().createElement("li",{className:"hr"}),m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconMusic,{size:22,stroke:1})),"创建新歌单")),m().createElement("li",{className:"ui_contextmenu_item"},m().createElement("button",{type:"button",className:"ui_contextmenu_btn "},m().createElement("i",{className:"ico"},m().createElement(E.IconMusic,{size:22,stroke:1})),"创建新歌单"))))}});return P.map((function(e){return[e.join(","),e.map((function(e){return[e,n[e]]}))]}))}),[P]);return p?m().createElement(y.Z,null,m().createElement("ul",{id:"contextmenu",className:"ui_contextmenu divide-y",style:{left:d-z,top:h-g}},Y.map((function(e){var t=(0,c.Z)(e,2),n=t[0],a=t[1];return m().createElement("div",{key:n},a.map((function(e){var t=(0,c.Z)(e,2),n=t[0],a=t[1];return m().createElement(a,{contextMenuTotal:M,contextMenuItem:I,handlePlay:L,handlePlayNext:T,handlePlayPlaylist:V,handlePlayNextPlaylist:Z,handleDialogShare:X,handleCopyLink:A,handleCreatePlaylist:F,handleSubscribeMV:R,ownPlaylist:S,contextMenuType:v,key:n})})))})))):null}}}]);