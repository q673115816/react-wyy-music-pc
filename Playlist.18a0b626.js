"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[5238],{64546:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(63038),n=(0,l.Z)(r),u=a(87363),s=(0,l.Z)(u);exports.default=function(){var e=(0,u.useState)(0);return(0,n.default)(e,1)[0],s.default.createElement("div",null,"TOTO")}},82596:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(49064),n=(0,l.Z)(r),u=a(48926),s=(0,l.Z)(u),c=a(87757),d=(0,l.Z)(c),i=a(87363),f=(0,l.Z)(i),m=a(63233);exports.default=(0,i.memo)((function(e){var t=e.id,a=function(){var e=(0,s.default)(d.default.mark((function e(){var a;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.apiDjDetail)({rid:t});case 3:a=e.sent,(0,n.default)(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){a()}),[]),f.default.createElement("div",{className:"domPlaylistDetail"},f.default.createElement("div",{className:"domPlaylistDetail_header"}),f.default.createElement("div",{className:"domPlaylistDetail_main"},"TODO"))}))},63131:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),s=(0,l.Z)(u),c=a(87757),d=(0,l.Z)(c);a(69600),a(21249);var i=a(87363),f=(0,l.Z)(i),m=a(21624),o=a(63233),p=a(93011),v=a(94184),y=(0,l.Z)(v),E=a(74849),x=(0,l.Z)(E),b=a(27980),g=(0,l.Z)(b),N=a(83531),h=(0,l.Z)(N),Z=a(9094),k=(0,l.Z)(Z),_=a(15766),w=(0,l.Z)(_),P=a(2090),C=(0,l.Z)(P),S=[["歌曲列表","playlist"],["评论","comments"],["收藏者","subscribers"]],D={playlist:k.default,comments:w.default,subscribers:C.default};exports.default=(0,i.memo)((function(e){var t,a,l=e.id,r=(0,m.useDispatch)(),u=(0,i.useState)(!0),c=(0,s.default)(u,2),v=c[0],E=c[1],b=(0,i.useState)([]),N=(0,s.default)(b,2),Z=N[0],k=N[1],_=(0,i.useState)({}),w=(0,s.default)(_,2),P=w[0],C=w[1],j=(0,i.useState)("playlist"),I=(0,s.default)(j,2),O=I[0],M=I[1],z=function(){var e=(0,n.default)(d.default.mark((function e(){var t,a,r;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.apiPlaylistDetail)({id:l});case 3:if(t=e.sent,C((0,g.default)((function(e){for(var a in t)e[a]=t[a]}))),!(t.playlist.trackCount>0)){e.next=11;break}return e.next=8,(0,o.apiSongDetail)({ids:t.playlist.trackIds.map((function(e){return e.id})).join(",")});case 8:a=e.sent,r=a.songs,k(r);case 11:E(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),L=(0,i.useCallback)(function(){var e=(0,n.default)(d.default.mark((function e(t){return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.apiPlaylistSubscribe)({t:t?2:1,id:l});case 3:200===e.sent.code&&(r((0,p.setToast)(t?"取消收藏成功！":"收藏成功！")),C((0,g.default)((function(e){e.playlist.subscribed=!t})))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[l]);return(0,i.useEffect)((function(){z()}),[l]),v?f.default.createElement("div",{className:"w-full h-full flex-center"},f.default.createElement(x.default,null)):f.default.createElement("div",{className:"domPlaylistDetail overflow-auto h-full"},f.default.createElement(h.default,{data:P,handleSub:L,songs:Z}),f.default.createElement("div",{className:"domPlaylistDetail_main mt-4"},f.default.createElement("div",{className:"space-x-4 flex items-baseline px-8"},S.map((function(e){var t=(0,s.default)(e,2),a=t[0],l=t[1];return f.default.createElement("button",{type:"button",className:(0,y.default)("text-sm",O===l&&"font-bold ui_underline"),key:a,onClick:function(){return M(l)}},a,"评论"===a&&"(".concat(P.playlist.commentCount,")"))}))),f.default.createElement("div",null,(t=D[O],a={id:l,songs:Z},f.default.createElement(t,a)))))}))},15766:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),s=(0,l.Z)(u),c=a(87757),d=(0,l.Z)(c),i=a(87363),f=(0,l.Z)(i),m=a(12720),o=(0,l.Z)(m),p=a(94592),v=(0,l.Z)(p),y=a(63233);exports.default=function(e){var t=e.id,a=(0,i.useState)({}),l=(0,s.default)(a,2),r=l[0],u=l[1],c=function(){var e=(0,n.default)(d.default.mark((function e(){var a;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.apiCommentPlaylist)({id:t});case 3:a=e.sent,u(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){c()}),[]),f.default.createElement("div",{className:"px-8"},f.default.createElement("div",{className:"pt-10 pb-10"},f.default.createElement(v.default,null)),f.default.createElement(o.default,{comments:r}))}},83531:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(63038),n=(0,l.Z)(r);a(21249),a(82526),a(41817),a(74916),a(4723),a(68309);var u=a(87363),s=(0,l.Z)(u),c=a(94184),d=(0,l.Z)(c),i=a(49736),f=(0,l.Z)(i),m=a(12503),o=a(16719),p=a(66711),v=a(27484),y=(0,l.Z)(v),E=(0,u.memo)((function(e){var t=e.tags,a=void 0===t?[]:t;return 0===a.length?null:s.default.createElement("div",{className:"tags"},s.default.createElement("span",null,"标签："),a.map((function(e,t){return s.default.createElement("span",{key:e},t>0&&" / ",s.default.createElement(p.Link,{to:"/home/playlist/".concat(e),className:"tag ui_link"},e))})))})),x=(0,u.memo)((function(e){var t=e.description,a=void 0===t?"":t;if(!a)return null;var l=(0,u.useState)(!1),r=(0,n.default)(l,2),c=r[0],i=r[1],f=a.match(/^.*$/gm);return s.default.createElement("div",{className:"relative pr-5"},s.default.createElement("div",{className:"whitespace-pre-line leading-6"},"简介：",s.default.createElement("span",{className:(0,d.default)("text-gray-500 select-text",!c&&"truncate inline-block max-w-xs align-bottom")},c?a:f[0]),s.default.createElement("button",{type:"button",onClick:function(){return i(!c)},className:"absolute top-0 right-0 text-gray-500"},c?s.default.createElement(o.IconCaretUp,{size:16,className:"fill-current"}):s.default.createElement(o.IconCaretDown,{size:16,className:"fill-current"}))))}));exports.default=(0,u.memo)((function(e){var t,a,l,r,n=e.data,u=void 0===n?{}:n,c=e.handleSub,d=e.songs;return s.default.createElement("div",{className:"domPlaylistDetail_header p-8 flex"},s.default.createElement("div",{className:"cover border rounded overflow-hidden flex-none w-92 h-92"},s.default.createElement("img",{className:"w-full h-full",src:"".concat(u.playlist.coverImgUrl,"?param=200y200"),alt:""})),s.default.createElement("div",{className:"info flex-auto w-0 ml-5"},s.default.createElement("div",{className:"name flex items-center"},s.default.createElement("span",{className:"type text-red-500 border border-current px-1 py-0.5 rounded mr-2 leading-none"},"歌单"),s.default.createElement("span",{className:"h1 select-text"},u.playlist.name||"我喜欢的音乐")),s.default.createElement("div",{className:"creator flex items-center mt-2"},s.default.createElement(p.Link,{to:"/user/".concat(null===(t=u.playlist.creator)||void 0===t?void 0:t.userId),className:"avator w-6 h-6 rounded-full overflow-hidden mr-2"},s.default.createElement("img",{className:"",src:"".concat(null===(a=u.playlist.creator)||void 0===a?void 0:a.avatarUrl,"?param=50y50"),alt:""})),s.default.createElement(p.Link,{to:"/user/".concat(null===(l=u.playlist.creator)||void 0===l?void 0:l.userId),className:"nickname ui_link mr-2"},null===(r=u.playlist.creator)||void 0===r?void 0:r.nickname),s.default.createElement("span",{className:"text-gray-500"},(0,y.default)(u.playlist.createTime||Date.now()).format("YYYY-MM-DD"),"创建")),s.default.createElement("div",{className:"actions flex space-x-2 mt-2"},s.default.createElement(f.default,{playlist:d}),s.default.createElement("button",{onClick:function(){return c(u.playlist.subscribed)},type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn"},u.playlist.subscribed?s.default.createElement(o.IconCheckbox,{size:20,stroke:1}):s.default.createElement(o.IconFolderPlus,{size:20,stroke:1})," ",u.playlist.subscribed?"已收藏":"收藏","(".concat((0,m.transSubscribeCount)(u.playlist.subscribedCount),")")),s.default.createElement("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn"},s.default.createElement(o.IconScreenShare,{size:20,stroke:1}),"  分享","(".concat((0,m.transSubscribeCount)(u.playlist.shareCount),")")),s.default.createElement("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn"},s.default.createElement(o.IconCloudDownload,{size:20,stroke:1}),"  下载全部")),s.default.createElement("div",{className:"space-y-1 mt-2"},s.default.createElement(E,{tags:u.playlist.tags}),s.default.createElement("div",null,s.default.createElement("span",{className:"mr-3"},"歌曲：",s.default.createElement("span",{className:"text-gray-500"},u.playlist.trackCount)),s.default.createElement("span",null,"播放：",s.default.createElement("span",{className:"text-gray-500"},(0,m.transPlayCount)(u.playlist.playCount)))),s.default.createElement(x,{description:u.playlist.description}))))}))},9094:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),u=a(94184),s=(0,l.Z)(u),c=a(27484),d=(0,l.Z)(c),i=a(67317),f=(0,l.Z)(i),m=a(64615),o=(0,l.Z)(m),p=a(87653),v=(0,l.Z)(p),y=a(88293),E=(0,l.Z)(y),x=a(16823),b=(0,l.Z)(x),g=a(48769),N=(0,l.Z)(g),h=a(22387),Z=(0,l.Z)(h);exports.default=function(e){var t=e.songs,a=void 0===t?[]:t;return 0===a.length?n.default.createElement("div",{className:"pt-16 text-center text-sm text-gray-400"},"暂无音乐"):n.default.createElement("div",{style:{"--ui_grid_template":"36px / 30px 30px 30px 36% 4fr 6fr 2fr"},className:"mt-4"},n.default.createElement("div",{className:"grid ui_grid_template pl-8"},n.default.createElement("div",null),n.default.createElement("div",null),n.default.createElement("div",null),n.default.createElement("div",{className:"px-1 flex items-center hover:bg-gray-200 text-gray-500"},"音乐标题"),n.default.createElement("div",{className:"px-1 flex items-center hover:bg-gray-200 text-gray-500"},"歌手"),n.default.createElement("div",{className:"px-1 flex items-center hover:bg-gray-200 text-gray-500"},"专辑"),n.default.createElement("div",{className:"px-1 flex items-center hover:bg-gray-200 text-gray-500"},"时长")),a.map((function(e,t){return n.default.createElement(f.default,{schema:[["评论","播放","下一首播放"],["收藏到歌单","分享","复制链接","不感兴趣","下载"]],type:"song",item:e,key:e.id},n.default.createElement("div",{tabIndex:"2",className:(0,s.default)("grid items-center focus:outline-none focus:bg-gray-200 hover:bg-gray-100 ui_grid_template pl-8",t%2==0&&"bg-gray-50")},n.default.createElement("div",{className:"px-1"},n.default.createElement(o.default,{index:t,id:e.id})),n.default.createElement("div",{className:"px-1"},n.default.createElement(v.default,{id:e.id})),n.default.createElement("div",{className:"px-1"},n.default.createElement(E.default,null)),n.default.createElement(b.default,{className:"px-1",item:e}),n.default.createElement(N.default,{className:"px-1",artists:e.ar}),n.default.createElement(Z.default,{className:"px-1",name:e.al.name,id:e.al.id}),n.default.createElement("div",{className:"text-gray-500 px-1"},(0,d.default)(e.dt).format("mm:ss"))))})))}},2090:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),s=(0,l.Z)(u);a(21249);var c=a(87757),d=(0,l.Z)(c),i=a(87363),f=(0,l.Z)(i),m=a(63233),o=a(66711);a(55883);var p=a(36871),v=(0,l.Z)(p),y=a(90443),E=(0,l.Z)(y);exports.default=function(e){var t=e.id,a=(0,i.useState)([]),l=(0,s.default)(a,2),r=l[0],u=l[1],c=(0,i.useState)(0),p=(0,s.default)(c,2),y=p[0],x=p[1],b=(0,i.useState)(1),g=(0,s.default)(b,2),N=g[0],h=g[1],Z=function(){var e=(0,n.default)(d.default.mark((function e(){var a,l,r;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.apiPlaylistSubscribers)({id:t,limit:60,offset:60*(N-1)});case 3:a=e.sent,l=a.subscribers,r=a.total,u(l),x(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){Z()}),[N]),f.default.createElement("div",{className:"px-8"},f.default.createElement("div",{className:"domPlaylistDetail_subscribers flex justify-between flex-wrap"},r.map((function(e){return f.default.createElement("div",{key:e.userId,className:"item flex mt-6"},f.default.createElement(o.Link,{to:"/user/".concat(e.userId),className:"avatar border rounded-full overflow-hidden"},f.default.createElement("img",{src:"".concat(e.avatarUrl,"?param=100y100"),alt:""})),f.default.createElement("div",{className:"ml-2 flex-auto w-0 flex flex-col justify-center"},f.default.createElement("div",{className:"text-sm flex items-center"},f.default.createElement(o.Link,{to:"/user/".concat(e.userId)},e.nickname)," ",f.default.createElement(v.default,{gender:e.gender,size:16})),f.default.createElement("div",{className:"mt-2 truncate"},e.signature)))}))),f.default.createElement(E.default,{total:Math.ceil(y/60),page:N,func:h}))}},13817:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(87363),n=(0,l.Z)(r),u=a(66711),s=a(11603),c=(0,l.Z)(s),d=a(63131),i=(0,l.Z)(d),f=a(82596),m=(0,l.Z)(f),o=a(64546),p=(0,l.Z)(o);exports.default=(0,r.memo)((function(){return n.default.createElement(u.Switch,null,n.default.createElement(u.Route,{path:"/playlist/music/:id"},(0,c.default)(i.default)),n.default.createElement(u.Route,{path:"/playlist/dj/:id"},(0,c.default)(m.default)),n.default.createElement(u.Route,{path:"/playlist/album/:id"},(0,c.default)(p.default)),n.default.createElement(u.Route,{path:"/playlist"},n.default.createElement(i.default,null)))}))},55883:(e,t,a)=>{a.r(t)}}]);