"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[811],{9543:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Et});var n=a(7363),r=a.n(n),l=a(6711),c=(a(1249),a(8309),a(4184)),o=a.n(c),s=[{path:"recommend",name:"个性推荐"},{path:"dj",name:"专属定制"},{path:"playlist",name:"歌单"},{path:"topList",name:"排行榜"},{path:"artist",name:"歌手"},{path:"newest",name:"最新音乐"}],m=function(){return r().createElement("div",{className:"domHome flex flex-col h-full"},r().createElement("div",{className:"domHome_nav ui_header text-base space-x-5"},s.map((function(e){var t=e.path,a=e.name;return r().createElement(l.NavLink,{className:function(e){var t=e.isActive;return o()(t&&"text-xl font-bold ui_underline")},to:t,key:t},a)}))),r().createElement(l.Outlet,null))};const i=(0,n.memo)(m);var u=a(5861),d=a(885),p=a(7757),v=a.n(p),f=(a(7941),a(3290),a(6992),a(1539),a(8674),a(8783),a(3948),a(9965)),E=a(2827),y=(a(9601),a(548)),g=(0,y.createSlice)({name:"recommend",initialState:{banners:[],playlist:[],privatecontent:[],newsong:[],mv:[],djprogram:[]},reducers:{setHomeRecommend:function(e,t){Object.assign(e,t.payload)}}});const h=g.reducer;var N=g.actions.setHomeRecommend,b=(0,y.createSlice)({name:"dj",initialState:{DjBanner:[],category:[],catelist:[],DjPersonalizeRecommend:[],result:{创作翻唱:[],声之剧场:[],音乐故事:[],情感调频:[],声音恋人:[]}},reducers:{setHomeDj:function(e,t){Object.assign(e,t.payload)}}});const x=b.reducer;var w=b.actions.setHomeDj,_=(0,y.createSlice)({name:"artist",initialState:{artists:[]},reducers:{initHomeTopArtists:function(e){e.artists.length=0},addHomeTopArtists:function(e,t){e.artists.push(t.payload.artists)}}});const k=_.reducer;var j=_.actions,Z=(j.addHomeTopArtists,j.initHomeTopArtists,(0,y.createSlice)({name:"topList",initialState:{list:[]},reducers:{setTopListsDetail:function(e,t){var a=t.payload;Object.assign(e,a)}}}));const C=Z.reducer;var L=Z.actions.setTopListsDetail,R=(0,y.createSlice)({name:"playlist",initialState:{highquality:{},hot:{},catlist:{},playlists:{}},reducers:{setPlaylistCatlist:function(e,t){Object.assign(e,t.payload)},setTopPlaylist:function(e,t){Object.assign(e,t.payload)}}});const H=R.reducer;var P=R.actions,O=P.setPlaylistCatlist,S=P.setTopPlaylist,I=(0,y.createSlice)({name:"newest",initialState:{data:[],monthData:[],weekData:[]},reducers:{setTopSong:function(e,t){Object.assign(e,t.payload)},setTopAlbum:function(e,t){Object.assign(e,t.payload)}}});const D=I.reducer;var z=I.actions,M=z.setTopAlbum;z.setTopSong,(0,E.combineReducers)({recommend:h,dj:x,artist:k,toplist:C,playlist:H,newest:D});var U=a(9922),A=(a(2526),a(7327),a(5003),a(4747),a(9337),a(4942)),T=a(7462),q=a(3792),B=a.n(q),V=a(6719);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Y=(0,n.memo)((function(e){var t=e.children,a=e.onClick,n=e.className;return r().createElement("button",{type:"button",onClick:a,className:o()("absolute inset-y-0 opacity-0 text-white bg-black bg-opacity-30 group-hover:opacity-100 z-10 w-8 h-8 flex-center rounded-full m-auto",n)},t)})),J=(0,n.memo)((function(e){return r().createElement(Y,(0,T.Z)({},e,{className:"left-1"}),r().createElement(V.IconChevronLeft,{size:16}))})),W=(0,n.memo)((function(e){return r().createElement(Y,(0,T.Z)({},e,{className:"right-1"}),r().createElement(V.IconChevronRight,{size:16}))})),K=(0,n.memo)((function(e){var t=e.item,a=e.children;return r().createElement("a",(0,T.Z)({},function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){(0,A.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.url?{href:t.url}:{onClick:function(e){return e.preventDefault()},href:"#"}),{className:"block"}),a,r().createElement("div",{className:o()("typeTitle px-3 py-2","blue"===t.titleColor?"bg-blue-500":"bg-red-600")},t.typeTitle))}));const G=(0,n.memo)((function(e){var t=e.list,a=void 0===t?[]:t,n=e.coverSrc,l=void 0===n?"":n,c={dots:!0,infinite:!0,centerMode:!0,adaptiveHeight:!0,draggable:!1,variableWidth:!0,speed:500,slidesToShow:1,slidesToScroll:1,pauseOnHover:!0,prevArrow:r().createElement(J,null),nextArrow:r().createElement(W,null)};return r().createElement("div",{className:"ui_swiper group"},r().createElement(B(),c,a.map((function(e,t){return r().createElement("div",{className:"cover overflow-hidden border rounded-lg transition relative",key:e[l],style:{width:540}},r().createElement(K,{item:e},r().createElement("img",{src:e[l],alt:"banner"})))}))))}));var Q="https://look.163.com/hot?livetype=2",X=function(e){var t=e.tag,a=void 0!==t&&t;return r().createElement("div",{className:"item"},r().createElement("div",{className:"rounded overflow-hidden relative"},r().createElement(l.Link,{to:Q},r().createElement("img",{loading:"lazy",className:"object-cover ui_aspect-ratio-1/1",src:"@img/kankan.jpg",alt:""}),r().createElement("div",{className:"absolute top-0 right-0 m-1"},r().createElement("span",{className:"text-white"},"playCount")),r().createElement("div",{className:"absolute left-0 bottom-0 m-1"},r().createElement("span",{className:"text-white"},"artist")),a&&Math.random()<.67&&r().createElement("div",{className:"lt"},r().createElement("div",{className:"tag"},"理想女友")))),r().createElement("div",{className:"footer text-sm mt-1"},r().createElement(l.Link,{to:Q},"name")))};const $=(0,n.memo)(X);var ee=a(2434),te=a(9638),ae=a(6467),ne=a(361),re=a(7980),le=a.n(re);const ce=(0,n.memo)((function(e){var t=function(e){var t=e.order,a=(0,n.useState)(t),r=(0,d.Z)(a,2),l=r[0],c=r[1],o=(0,n.useState)(""),s=(0,d.Z)(o,2),m=s[0],i=s[1],u=(0,n.useState)(0),p=(0,d.Z)(u,2),v=p[0],f=p[1],E=(0,n.useState)(0),y=(0,d.Z)(E,2),g=y[0],h=y[1],N=(0,n.useRef)(-1/0),b=(0,n.useRef)(v),x=(0,n.useRef)(g);return(0,n.useEffect)((function(){f(b.current)}),[b]),(0,n.useEffect)((function(){h(x.current)}),[x]),{tempHomeOrder:l,onMouseMove:function(e){var t=e.clientY-g,a=N.current;return!(a<=0&&t<=0)&&!(a>=l.length-1&&t>=0)&&(t>=36?(x.current+=48,c(le()((function(e){var t=[e[a+1],e[a]];e[a]=t[0],e[a+1]=t[1]}))),N.current+=1,b.current=-12,!1):t<=-36?(x.current-=48,c(le()((function(e){var t=[e[a-1],e[a]];e[a]=t[0],e[a-1]=t[1]}))),N.current-=1,b.current=12,!1):void(b.current=t))},onMouseUp:function(){i("")},onMouseDown:function(e,t,a){i(t),x.current=e.clientY,N.current=a},active:m,top:v}}({order:e.order}),a=t.tempHomeOrder,l=t.onMouseMove,c=t.onMouseUp,s=t.onMouseDown,m=t.active,i=t.top;return r().createElement("div",{className:"flex flex-col relative"},a.map((function(e,t){return r().createElement("div",{key:e,className:"h-12 text-base text-gray-500"},r().createElement(ne.Z,{onMouseMove:l,onMouseUp:c,onMouseDown:function(a){return s(a,e,t)},className:o()("w-full border-b hover:bg-gray-200 bg-white px-10 h-12 flex items-center",m===e&&"absolute shadow z-10"),style:{transform:"translate(0, ".concat(m===e?i:0,"px)")}},e,r().createElement(V.IconMenu,{className:"ml-auto cursor-move"})))})))})),oe=(0,n.memo)((function(){var e=(0,te.T)(),t=(0,te.C)((function(e){return e.mask})).dialogHomeOrderVisibility,a=(0,te.C)((function(e){return e.setting})).homeOrder,l=(0,n.useState)(a),c=(0,d.Z)(l,2),o=c[0],s=c[1];return t?r().createElement(ae.Z,{id:"dialogHomeOrder",title:"调整栏目顺序"},r().createElement("div",{className:"content"},r().createElement("div",{className:"tips mx-10 text-gray-400 mb-6 flex items-center"},r().createElement(V.IconBulb,{size:14}),r().createElement("span",{className:"ml-1"},"想调整首页栏目的顺序?按住右边的按钮拖动即可")),r().createElement(ce,{order:o}),r().createElement("div",{className:"flex-center py-4"},r().createElement("button",{onClick:function(){s(ee.eR)},type:"button",className:"underline text-gray-400 block"},"恢复默认排序")),r().createElement("div",{className:"flex-center pt-4 pb-8 space-x-2"},r().createElement("button",{onClick:function(){e((0,U.xJ)()),e((0,ee.jt)(o))},type:"button",className:"rounded-full ui_theme_bg_color text-white h-8 w-20"},"完成"),r().createElement("button",{type:"button",className:"border rounded-full h-8 w-20",onClick:function(){return e((0,U.xJ)())}},"取消")))):null}));var se=a(8157),me=(a(7042),a(7443)),ie=a(4539),ue=a(4922);const de=(0,n.memo)((function(e){var t=e.playlist,a=void 0===t?[]:t;return(0,te.C)((function(e){return e.common})).isLogin?r().createElement("div",{className:"domHome_recommend_playlist grid gap-5 grid-cols-5 mt-4"},r().createElement("div",{className:"item"},r().createElement("div",{className:"cover border relative group rounded-lg overflow-hidden"},r().createElement(l.Link,{to:"/daily-song",className:"ui_aspect-ratio-1/1"},r().createElement("div",{className:"inner",style:{color:"var(--themeColor)"}},r().createElement(ie.du,null))),r().createElement("button",{type:"button",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-500 absolute m-2 right-0 bottom-0 rounded-full flex-center w-7 h-7 bg-white bg-opacity-90 ui_themeColor"},r().createElement(V.IconPlayerPlay,{size:16,className:"fill-current"}))),r().createElement("div",{className:"footer break-all text-sm mt-2"},r().createElement(l.Link,{to:"/daily-song"},"每日歌曲推荐"))),a.slice(0,9).map((function(e){return r().createElement("div",{key:e.id,className:"item"},r().createElement("div",{className:"cover relative group rounded-lg overflow-hidden border"},r().createElement(l.Link,{to:"/playlist/music/".concat(e.id),className:""},r().createElement("img",{loading:"lazy",className:"ui_containimg ui_aspect-ratio-1/1",src:"".concat(e.picUrl,"?param=200y200"),alt:""}),r().createElement("div",{className:"absolute top-0 right-0 my-0.5 mx-2"},r().createElement("span",{className:"text-white flex-center"},r().createElement(V.IconPlayerPlay,{size:12}),(0,me.LU)(e.playcount)))),r().createElement(ue.Z,{id:e.id,className:"opacity-0 group-hover:opacity-100 transition-opacity duration-500 absolute m-2 right-0 bottom-0 rounded-full flex-center w-7 h-7 bg-white bg-opacity-90 ui_themeColor"},r().createElement(V.IconPlayerPlay,{size:16,className:"fill-current"}))),r().createElement("div",{className:"footer break-all text-sm mt-2"},r().createElement(l.Link,{to:"/playlist/music/".concat(e.id),className:"name ui_ellipse"},e.name)))}))):r().createElement("div",null,"需要登录")}));var pe=a(5721);const ve=(0,n.memo)((function(e){var t=e.privatecontent,a=void 0===t?[]:t;return r().createElement("div",{className:"domHome_recommend_privatecontent grid grid-cols-3 gap-4 mt-4"},a.map((function(e){return r().createElement("div",{className:"item",key:e.id},r().createElement(pe.Z,{item:e,type:"mv",schema:[["播放MV"]]},r().createElement("div",{className:"cover relative rounded overflow-hidden"},r().createElement(l.Link,{to:"/player/mv/".concat(e.id),className:""},r().createElement("span",{className:"ico absolute top-2 left-2 rounded-full text-white w-6 h-6 bg-black bg-opacity-40 flex-center border border-gray-200"},r().createElement(V.IconPlayerPlay,{size:14,className:"fill-current"})),r().createElement("img",{loading:"lazy",className:"ui_containimg ui_aspect-ratio-16/9",src:e.sPicUrl,alt:""})))),r().createElement("div",{className:"name text-sm loading-4 mt-2"},r().createElement(l.Link,{to:"/player/mv/".concat(e.id)},e.name)))})))}));var fe=a(7285);const Ee=(0,n.memo)((function(e){var t=e.newsong,a=void 0===t?[]:t;return r().createElement("div",{className:"domHome_recommend_newsong grid gap-x-2 gap-y-4 mt-4 grid-cols-3 grid-rows-4 grid-flow-col"},a.map((function(e){return r().createElement("div",{key:e.id,className:"item flex hover:bg-gray-100 rounded overflow-hidden"},r().createElement("button",{type:"button",onClick:function(){return console.log(e.id)},className:"cover flex-none relative rounded overflow-hidden"},r().createElement("span",{className:"ico absolute text-red-500 bg-white rounded-full bg-opacity-90 inset-0 m-auto flex-center w-6 h-6"},r().createElement(V.IconPlayerPlay,{size:16,className:"fill-current"})),r().createElement("img",{loading:"lazy",className:"w-full h-full ui_aspect-ratio-1/1",src:"".concat(e.picUrl,"?param=50y50"),alt:""})),r().createElement("div",{className:"content flex-auto flex flex-col w-0 px-2 py-1"},r().createElement("div",{className:"name text-sm truncate"},e.name),r().createElement("div",{className:"artist mt-1 flex"},r().createElement(fe.Z,{item:e,sq:999e3===e.song.privilege.maxbr,mv:e.song.mvid}),r().createElement("div",{className:"truncate"},e.song.artists.map((function(e,t){return r().createElement("span",{key:e.id,className:"text-gray-400"},t>0&&" / ",r().createElement(l.Link,{to:"/artist/".concat(e.id),className:"ui_text_gray_hover"},e.name))}))))))})))})),ye=(0,n.memo)((function(e){var t=e.djprogram,a=void 0===t?[]:t;return r().createElement("div",{className:"domHome_recommend_djprogram grid grid-cols-5 gap-5 mt-4"},a.slice(0,5).map((function(e){var t,a;return r().createElement("div",{className:"item",key:e.id},r().createElement("div",{className:"cover border relative rounded overflow-hidden "},r().createElement(l.Link,{to:"/playlist/dj/".concat(null===(t=e.program)||void 0===t||null===(a=t.radio)||void 0===a?void 0:a.id),className:""},r().createElement("img",{loading:"lazy",className:"ui_aspect-ratio-1/1",src:"".concat(e.program.radio.picUrl,"?param=200y200"),alt:""}),r().createElement("div",{className:"mask absolute left-0 right-0 bottom-0 h-1/4 ui_linear_mask_bottom"}),r().createElement("div",{className:"absolute left-0 right-0 bottom-0 p-2"},r().createElement("div",{className:"text-white truncate"},e.program.radio.name)))),r().createElement("div",{className:"name leading-5 text-sm mt-2"},r().createElement(l.Link,{to:"/playlist/dj/".concat(e.program.radio.id),className:"text-gray-600 hover:text-black"},e.program.radio.rcmdText)))})))})),ge=(0,n.memo)((function(e){var t=e.mv,a=void 0===t?[]:t;return r().createElement("div",{className:"domHome_recommend_mv grid gap-x-5 grid-cols-3 mt-4"},a.slice(0,3).map((function(e){return r().createElement("div",{className:"item",key:e.id},r().createElement(pe.Z,{type:"mv",item:e,schema:[["评论","播放MV"],["收藏MV","分享","下载","复制链接"],["不感兴趣"]]},r().createElement("div",{className:"cover border relative overflow-hidden rounded text-white"},r().createElement("div",{className:"absolute top-0 w-full px-2 py-3 ui_linear_mask_top pointer-events-none"},e.copywriter),r().createElement("div",{className:"absolute top-1 right-2 pointer-events-none"},r().createElement("div",{className:"flex-center"},r().createElement(V.IconPlayerPlay,{size:12}),e.playCount)),r().createElement(l.Link,{to:"/player/mv/".concat(e.id),className:"block "},r().createElement("img",{loading:"lazy",className:"h-full object-cover w-full ui_aspect-ratio-16/9",src:e.picUrl,alt:""})))),r().createElement("div",{className:"name truncate text-sm mt-2"},r().createElement(l.Link,{className:"ui_text_black_hover",to:"/player/mv/".concat(e.id)},e.name)),r().createElement("div",{className:"artist truncate mt-1"},e.artists.map((function(e,t){return r().createElement("span",{key:e.id,className:"text-gray-400"},t>0&&" / ",r().createElement(l.Link,{to:"/artist/:id",className:"ui_text_gray_hover"},e.name))}))))})))}));var he={推荐歌单:["/home/playlist",de],独家放送:["/exclusive",ve],最新音乐:["/home/playlist",Ee],推荐MV:["/video/mvlist",ge],主播电台:["/home/dj",ye],看看:["https://look.163.com/hot?livetype=2",function(){return r().createElement("div",{className:"domHome_recommend_kankan mt-4 grid grid-cols-4 gap-5"},Object.keys(Array(4).fill(0)).map((function(e){return r().createElement($,{key:e})})))}]},Ne=function(){var e=(0,te.C)((function(e){return e.home.recommend})),t=e.banners,a=e.playlist,c=e.privatecontent,o=e.newsong,s=e.mv,m=e.djprogram,i=(0,te.C)((function(e){return e.setting})).homeOrder,p=(0,n.useState)(!0),E=(0,d.Z)(p,2),y=E[0],g=E[1],h=(0,te.T)(),b=function(){var e=(0,u.Z)(v().mark((function e(){var t,a,n,r,l,c,o,s;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([(0,f.T8)(),(0,f.V3)({limit:10}),(0,f.bE)(),(0,f.yS)({limit:12}),(0,f.P2)(),(0,f.aW)()]);case 3:t=e.sent,a=(0,d.Z)(t,6),n=a[0].banners,r=a[1].recommend,l=a[2],c=a[3],o=a[4],s=a[5],h(N({banners:n,playlist:r,privatecontent:l.result,newsong:c.result,mv:o.result,djprogram:s.result})),g(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){b()}),[]),y?r().createElement("div",{className:"flex-center w-full h-full"},r().createElement(se.Z,null)):r().createElement("div",{className:"domHome_content px-8 overflow-auto max-h-full flex-auto"},r().createElement("div",{className:"domHome_recommend ui_w1100"},r().createElement("div",{className:"domHome_item"},r().createElement(G,{list:t,coverSrc:"imageUrl"})),i.map((function(e){var t=(0,d.Z)(he[e],2),n=t[0],i=t[1];return r().createElement("div",{className:"domHome_item mt-8",key:e},r().createElement(l.Link,{className:"domHome_recommend_subtitle h1 inline-flex items-center",to:n},e,r().createElement(V.IconChevronRight,{size:24})),r().createElement(i,{playlist:a,privatecontent:c,newsong:o,mv:s,djprogram:m}))})),r().createElement("div",{className:"domHome_recommend_diy mt-4 text-center pb-10"},r().createElement("div",{className:"text-gray-500"},"现在可以根据个人喜好，自由调整首页栏目顺序啦~"),r().createElement("br",null),r().createElement("button",{type:"button",className:"btn ui_themeColor border rounded-sm border-current w-32 h-8",onClick:function(){return h((0,U.Ug)())}},"调整栏目顺序")),r().createElement(oe,null)))};const be=(0,n.memo)(Ne);a(9653);var xe=a(1624),we=a(2699),_e=a(9097),ke=a(9217);const je=(0,n.memo)((function(e){var t=e.item,a=void 0===t?{}:t,n=e.cat,c=void 0===n?"全部歌单":n;return r().createElement(l.Link,{to:"/home/playlist/highquality/".concat(c),className:"domHome_playlist_banner flex items-center relative  rounded-lg overflow-hidden z-10"},r().createElement("div",{className:"absolute inset-0 bg-center",style:{backgroundImage:"url(".concat(a.coverImgUrl,")"),filter:"blur(20px) grayscale(80%)",zIndex:"-1"}}),r().createElement("div",{className:"cover w-36 h-36 rounded-lg overflow-hidden"},r().createElement("img",{src:a.coverImgUrl,alt:""})),r().createElement("div",{className:"contennt ml-2.5"},r().createElement("div",{className:"tag border border-current flex-center text-sm rounded-full"},r().createElement(V.IconCrown,{size:16}),"  精品歌单"),r().createElement("div",{className:"text-white text-base mt-4"},a.name),r().createElement("div",{className:"text-gray-300 mt-2"},a.copywriter)))}));a(86),a(9720);var Ze=function(){return r().createElement("svg",{className:"absolute left-full top-1/4 fill-current",viewBox:"0 0 12 12",width:"12",height:"6"},r().createElement("text",{dominantBaseline:"middle",textAnchor:"middle",x:"0.5em",y:"0.5em",className:"fill-current ui_themeColor font-bold"},"hot"))},Ce=(0,n.memo)((function(e){var t=e.sub,a=void 0===t?[]:t,n=e.category,c=void 0===n?null:n,s=e.cat,m=void 0===s?"":s;return r().createElement("div",{className:"flex-auto grid grid-cols-6 gap-y-4"},a.filter((function(e){return e.category===Number(c)})).map((function(e){return r().createElement(l.NavLink,{className:function(e){var t=e.isActive;return o()("text-gray-600 hover:ui_themeColor",t&&"on ui_themeColor")},to:"/home/playlist/".concat(encodeURIComponent(e.name)),key:e.name},r().createElement("span",{className:o()("inline-flex inner px-4 py-1 rounded-full overflow-hidden",{ui_bg_opacity:e.name===m})},r().createElement("span",{className:"relative"},e.name,e.hot&&r().createElement(Ze,null))))})))}));const Le=(0,n.memo)((function(e){var t,a=e.cat,c=(0,n.useState)(!1),s=(0,d.Z)(c,2),m=s[0],i=s[1],u=(0,xe.useSelector)((function(e){return e.home.playlist})),p=u.hot,v=u.catlist;return r().createElement("div",{className:"domHome_playlist_nav pt-4 pb-4 flex items-center"},r().createElement("div",{className:"relative"},r().createElement("button",{type:"button",className:"border flex items-center justify-center h-8 w-24 rounded-full hover:bg-gray-100 focus:outline-none text-sm",onClick:function(){return i(!m)}},decodeURIComponent(a),r().createElement(V.IconChevronRight,{size:20,stroke:1})),r().createElement("div",{className:"domHome_playlist_popup_nav absolute z-20 bg-white shadow text-sm divide-y top-full mt-1 pb-20",style:{display:m?null:"none"}},r().createElement("div",{className:"pl-8 py-4"},r().createElement(l.NavLink,{onClick:function(){return i(!1)},exact:!0,className:function(e){var t=e.isActive;return o()("text-gray-600 hover:ui_themeColor",t&&"on ui_themeColor")},to:"/home/playlist/全部歌单"},r().createElement("span",{className:o()("inline-flex inner px-4 py-1 rounded-full overflow-hidden",{ui_bg_opacity:"全部歌单"===a})},"全部歌单"))),r().createElement("div",{className:"p-5 space-y-4"},Object.entries(v.categories).map((function(e){var t=(0,d.Z)(e,2),n=t[0],l=t[1];return r().createElement("div",{key:n,className:"flex"},r().createElement("div",{className:"category text-gray-300"},l),r().createElement(Ce,{sub:v.sub,category:n,cat:a}))}))))),r().createElement("div",{className:"ml-auto flex"},null===(t=p.tags)||void 0===t?void 0:t.map((function(e){return r().createElement(l.NavLink,{className:function(e){var t=e.isActive;return o()("text-gray-500 hover:text-gray-700 px-2 rounded-full text-center",t&&"ui_themeColor ui_bg_opacity")},to:"/home/playlist/".concat(encodeURIComponent(e.name)),key:e.name},e.name)}))))})),Re=(0,n.memo)((function(e){var t=e.cat,a=void 0===t?"全部歌单":t,c=e.page,o=void 0===c?1:c;o=Number(o);var s=(0,l.useNavigate)(),m=(0,n.useState)("hot"),i=(0,d.Z)(m,2),p=i[0],E=(i[1],(0,n.useState)(!0)),y=(0,d.Z)(E,2),g=y[0],h=y[1],N=(0,xe.useDispatch)(),b=(0,n.useRef)(),x=(0,xe.useSelector)((function(e){return e.home.playlist})),w=x.highquality,_=x.playlists,k=function(){var e=(0,u.Z)(v().mark((function e(){var t,a,n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([(0,f.RC)(),(0,f.aT)()]);case 3:t=e.sent,a=(0,d.Z)(t,2),n=a[0],r=a[1],N(O({hot:n,catlist:r})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,u.Z)(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,f._U)({cat:a,limit:1});case 4:return t=e.sent,e.next=7,(0,f.nf)({order:p,cat:a,limit:100,offset:100*(o-1)});case 7:n=e.sent,N(S({highquality:t,playlists:n})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.prev=14,h(!1),b.current.scrollTo(0,0),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[1,11,14,18]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){k()}),[]),(0,n.useEffect)((function(){j()}),[p,a,o]),g?r().createElement("div",{className:"flex-center w-full h-full"},r().createElement(se.Z,null)):r().createElement("div",{className:"domHome_playlist px-8 overflow-auto max-h-full flex-auto",ref:b},r().createElement("div",{className:"ui_w1100"},w.playlists.length>0&&r().createElement(je,{item:w.playlists[0],cat:a}),r().createElement(Le,{cat:a}),r().createElement(we.Z,{className:"domHome_playlist_list grid gap-5",small:"grid-cols-4",big:"grid-cols-5"},_.playlists.map((function(e){return r().createElement(ke.Z,{item:e,key:e.id})}))),r().createElement(_e.Z,{total:Math.ceil(_.total/100),page:o,func:function(e){return s("".concat(e))}})))}));var He=a(2982),Pe=(a(2222),a(4716)),Oe=a(1304);const Se=(0,n.memo)((function(e){var t=e.cat,a=void 0===t?"全部歌单":t;console.log("home_playlist_high");var c=(0,n.useState)([]),s=(0,d.Z)(c,2),m=s[0],i=s[1],p=(0,n.useState)([]),E=(0,d.Z)(p,2),y=E[0],g=E[1],h=(0,n.useRef)(0),N=(0,n.useState)(!1),b=(0,d.Z)(N,2),x=b[0],w=b[1],_=(0,n.useRef)(),k=(0,n.useRef)(),j=function(){var e=(0,u.Z)(v().mark((function e(){var t,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.qL)();case 3:t=e.sent,a=t.tags,g(void 0===a?[]:a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.Z)(v().mark((function e(){var t,n,r,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f._U)({cat:a,limit:20,before:h.current});case 3:t=e.sent,n=t.playlists,r=void 0===n?[]:n,l=t.lasttime,h.current=l,i((function(e){return[].concat((0,He.Z)(e),(0,He.Z)(r))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,Pe.Z)(Z,k,_),(0,n.useEffect)((function(){j()}),[]),(0,n.useEffect)((function(){i([])}),[a]),r().createElement("div",{className:"domHome_playlist_highquality px-8 overflow-auto flex-auto",ref:k},r().createElement("div",{className:"py-3 flex items-center justify-between"},r().createElement("div",{className:"flex items-center"},r().createElement("span",{className:"font-bold text-xl"},"精品歌单")," ",r().createElement("a",{href:"https://music.163.com/#/topic?id=202001",className:"flex-center w-4 h-4 border rounded-full text-gray-400 hover:text-gray-500 border-current"},"?")),r().createElement("div",{className:"relative"},r().createElement("button",{onClick:function(){return w(!x)},type:"button",className:"flex items-center border hover:bg-gray-100 rounded-full px-2 py-1"},r().createElement(V.IconFilter,{size:16,stroke:1}),a),r().createElement("div",{className:"absolute divide-y bg-white top-8 right-0 z-10 shadow rounded-lg",style:{width:510,display:x?null:"none"}},r().createElement("div",{className:"py-4 px-6"},r().createElement(l.NavLink,{className:function(e){var t=e.isActive;return o()("item hover:ui_themeColor text-sm",t&&"ui_themeColor")},onClick:function(){return w(!1)},to:"./全部歌单"},r().createElement("span",{className:o()("inline-flex inner px-3 py-1 rounded-full overflow-hidden",{ui_bg_opacity:"全部歌单"===a})},"全部歌单"))),r().createElement("div",{className:"p-6 grid grid-cols-5 gap-y-4"},y.map((function(e){return r().createElement(l.NavLink,{onClick:function(){return w(!1)},to:e.name,className:function(e){var t=e.isActive;return o()("item hover:ui_themeColor text-sm whitespace-nowrap",t&&"ui_themeColor")},key:e.id},r().createElement("span",{className:o()("inline-flex inner px-3 py-1 rounded-full overflow-hidden",{ui_bg_opacity:e.name===a})},e.name))})))))),r().createElement("div",{className:"domHome_playlist_highquality_list grid gap-6 grid-cols-2"},m.map((function(e){var t,a;return r().createElement("div",{className:"item flex",key:e.id},r().createElement("div",{className:"cover w-32 h-32 rounded-lg group overflow-hidden flex-none relative"},r().createElement(l.Link,{to:"/playlist/music/".concat(e.id),className:""},r().createElement("span",{className:"absolute top-0 left-0 p-0.5 w-8 h-8 bg-yellow-500 text-white ui_angle_top_left"},r().createElement(V.IconCrown,{size:14,className:"transform -rotate-45"})),r().createElement("img",{loading:"lazy",src:"".concat(e.coverImgUrl,"?param=200y200"),className:"ui_aspect-ratio-1/1",alt:""}),r().createElement("div",{className:"absolute text-white top-0 right-0 py-1 px-2 flex-center"},r().createElement(V.IconPlayerPlay,{size:12}),(0,me.LU)(e.playCount))),r().createElement(ue.Z,{id:e.id,className:"playArrow opacity-0 group-hover:opacity-100 ui_themeColor absolute right-0 bottom-0 m-2 p-2 bg-white bg-opacity-90 rounded-full"},r().createElement(V.IconPlayerPlay,{size:16,className:"fill-current"}))),r().createElement("div",{className:"ml-2 flex-auto w-0 pt-5"},r().createElement("div",{className:"text-sm truncate ui_text_black_hover"},r().createElement(l.Link,{to:"/playlist/music/".concat(e.id),className:""},e.name)),r().createElement("div",{className:"mt-3 flex items-center ui_text_gray_hover"},"by ",r().createElement(l.Link,{to:"/user/".concat(e.userId),className:""},e.creator.nickname)," ",(null==e||null===(t=e.creator)||void 0===t||null===(a=t.avatarDetail)||void 0===a?void 0:a.identityIconUrl)&&r().createElement("img",{className:"w-3 h-3",src:e.creator.avatarDetail.identityIconUrl,alt:""})),r().createElement("div",{className:"mt-4 text-gray-300 flex items-center"},r().createElement(Oe.Z,{text:e.tag,className:"flex-none mr-1"}),r().createElement("span",{className:"flex-auto truncate"},e.copywriter))))})),r().createElement("div",{ref:_})))}));var Ie=function(){return r().createElement(l.Routes,null,r().createElement(l.Route,{path:"highquality"},r().createElement(l.Route,{path:":cat",element:r().createElement(Se,null)}),r().createElement(l.Route,{path:"*",element:r().createElement(l.Navigate,{to:"全部歌单"})})),r().createElement(l.Route,{path:":cat/:page",element:r().createElement(Re,null)}),r().createElement(l.Route,{path:":cat",element:r().createElement(l.Navigate,{to:":cat/1"})}),r().createElement(l.Route,{path:"*",element:r().createElement(l.Navigate,{to:"全部歌单"})}))};const De=(0,n.memo)(Ie);a(3112);var ze=a(7484),Me=a.n(ze),Ue={全部:0,华语:7,欧美:96,韩国:16,日本:8},Ae=(0,n.memo)((function(e){var t=e.item,a=e.index;return r().createElement("div",{className:o()("item h-20 py-2.5 flex items-center px-8 text-sm",{"bg-gray-50":a%2==0})},r().createElement("span",{className:"ranking text-gray-300 w-8"},String(a+1).padStart(2,"0")),r().createElement("button",{type:"button",className:"cover w-16 relative rounded overflow-hidden"},r().createElement("img",{loading:"lazy",className:"ui_aspect-ratio-1/1",src:"".concat(t.album.blurPicUrl,"?param=100y100"),alt:""}),r().createElement("i",{className:"ico absolute w-6 h-6 m-auto flex-center inset-0 ui_themeColor bg-white bg-opacity-90 rounded-full"},r().createElement(V.IconPlayerPlay,{size:14,className:"fill-current"}))),r().createElement("span",{className:"name px-2.5 w-0 flex items-center flex-auto"},r().createElement("div",{className:"truncate"},t.name),r().createElement(fe.Z,{item:t,mv:t.mvid})),r().createElement("span",{className:"artists truncate"},t.artists.map((function(e,t){return r().createElement("span",{key:e.id},t>0&&" / ",r().createElement(l.Link,{to:"/artist/".concat(e.id),className:"ui_text_gray_hover"},e.name))}))),r().createElement("span",{className:"album truncate"},r().createElement(l.Link,{to:"/playlist/album/".concat(t.album.id),className:"ui_text_gray_hover"},t.album.name)),r().createElement("span",{className:"duration text-gray-500 text-right"},Me()(t.duration).format("mm:ss")))})),Te=(0,n.memo)((function(e){var t=e.type,a=(0,n.useState)([]),l=(0,d.Z)(a,2),c=l[0],o=l[1],s=function(){var e=(0,u.Z)(v().mark((function e(){var a,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.nq)({type:Ue[t]});case 3:a=e.sent,n=a.data,o(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){s()}),[t]),r().createElement("div",{className:"domHome_newest_song_list"},c.map((function(e,t){return r().createElement(Ae,{key:e.id,item:e,index:t})})))}));const qe=(0,n.memo)((function(e){var t=e.type;return r().createElement(r().Fragment,null,r().createElement("div",{className:"domHome_newest_sub_nav"},Object.keys(Ue).map((function(e){return r().createElement(l.NavLink,{key:e,className:function(e){var t=e.isActive;return o()(t&&"on")},to:"/home/newest/song/".concat(e)},e)})),r().createElement("div",{className:"domHome_newest_sub_control_center space-x-2"},r().createElement("button",{type:"button",className:"playAll flex-center ui_theme_bg_color text-white rounded-full px-2 py-0.5"},r().createElement(V.IconPlayerPlay,{size:16,stroke:1,className:"fill-current"}),"播放全部"),r().createElement("button",{type:"button",className:"subAll flex-center rounded-full border px-2 py-0.5"},r().createElement(V.IconFolderPlus,{size:16,stroke:1}),"收藏全部"))),r().createElement(Te,{type:t}))}));var Be=a(4441),Ve=[{name:"全部",code:"ALL"},{name:"华语",code:"ZH"},{name:"欧美",code:"EA"},{name:"韩国",code:"KR"},{name:"日本",code:"JP"}],Fe=function(e){var t=e.item;return r().createElement("div",{className:"item"},r().createElement("div",{className:"cover shadow rounded overflow-hidden"},r().createElement(l.Link,{to:"/playlist/album/".concat(t.id)},r().createElement("img",{loading:"lazy",className:"ui_containimg",src:"".concat(t.blurPicUrl,"?param=200y200"),alt:""}))),r().createElement("div",{className:"name text-sm ui_ellipse mt-2"},r().createElement(l.Link,{to:"/playlist/album/".concat(t.id)},r().createElement("span",{className:"ui_text_black_hover"},t.name)," ",t.alias.length>0&&r().createElement("span",{className:"text-gray-400"},"(",t.alias,")"),t.transNames&&r().createElement("span",null,t.transNames))),r().createElement("div",{className:"artist mt-2"},r().createElement(l.Link,{to:"/artist/".concat(t.artist.id),key:t.artist.id,className:"ui_text_gray_hover"},t.artist.name)))};const Ye=function(){var e=(0,xe.useDispatch)(),t=(0,xe.useSelector)((function(e){return e.home.newest})),a=t.monthData,l=void 0===a?[]:a,c=t.weekData,s=void 0===c?[]:c,m=(0,n.useState)("ALL"),i=(0,d.Z)(m,2),p=i[0],E=i[1],y=(0,n.useState)("new"),g=(0,d.Z)(y,2),h=g[0],N=(g[1],(0,n.useState)((new Date).getFullYear())),b=(0,d.Z)(N,2),x=(b[0],b[1],(0,n.useState)((new Date).getMonth())),w=(0,d.Z)(x,2),_=(w[0],w[1],(0,n.useState)(0)),k=(0,d.Z)(_,2),j=k[0],Z=(k[1],(0,n.useState)("RECOMMEND")),C=(0,d.Z)(Z,2),L=C[0],R=C[1],H=function(){var t=(0,u.Z)(v().mark((function t(){var a,n,r,l,c,o;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"RECOMMEND"!==L){t.next=10;break}return t.next=4,(0,f.ek)({area:p,type:h,limit:Be.b9,offset:j});case 4:a=t.sent,n=a.monthData,r=a.weekData,e(M({monthData:n.slice(0,564),weekData:r})),t.next=16;break;case 10:return t.next=12,(0,f.ww)({area:p,type:h,limit:Be.b9,offset:j});case 12:l=t.sent,c=l.albums,o=l.weekData,e(M({monthData:c,weekData:o}));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}();return(0,n.useEffect)((function(){H()}),[p,h,L]),r().createElement(r().Fragment,null,r().createElement("div",{className:"domHome_newest_sub_nav"},Ve.map((function(e){return r().createElement("button",{type:"button",key:e.name,className:o()("domHome_newest_sub_nav_link",{on:p===e.code}),onClick:function(){return E(e.code)}},e.name)})),r().createElement("div",{className:"domHome_newest_sub_control_center"},r().createElement("button",{type:"button",className:o()("showtype",{on:"RECOMMEND"===L}),onClick:function(){return R("RECOMMEND")}},"推荐"),r().createElement("button",{type:"button",className:o()("showtype",{on:"ALL"===L}),onClick:function(){return R("ALL")}},"全部"))),r().createElement("div",{className:"domHome_newest_album_list"},"ALL"===p&&"ALL"!==L&&s.length>0&&r().createElement("div",{className:"domHome_newest_album_sublist"},r().createElement("div",{className:"sign"},"本周",r().createElement("br",null),"新碟"),r().createElement("div",{className:"list grid grid-cols-4 gap-5"},s.map((function(e){return r().createElement(Fe,{item:e,key:e.id})})))),l.length>0&&r().createElement("div",{className:"domHome_newest_album_sublist"},r().createElement("div",{className:"sign"},"本月",r().createElement("br",null),"新碟"),r().createElement("div",{className:"list grid grid-cols-4 gap-5"},l.map((function(e){return r().createElement(Fe,{item:e,key:e.id})}))))))},Je=(0,n.memo)((function(){return r().createElement("div",{className:"domHome_content overflow-auto max-h-full flex-auto"},r().createElement("div",{className:"domHome_newest"},r().createElement("div",{className:"domHome_newest_nav"},r().createElement(l.NavLink,{className:function(e){var t=e.isActive;return o()(t&&"on")},to:"/home/newest/song"},"新歌速递"),r().createElement(l.NavLink,{className:function(e){var t=e.isActive;return o()(t&&"on")},to:"/home/newest/album"},"新碟上架")),r().createElement(l.Routes,null,r().createElement(l.Route,{path:"/home/newest/song/:type",element:r().createElement(qe,null)}),r().createElement(l.Route,{path:"/home/newest/album"},r().createElement(Ye,null)),r().createElement(l.Route,{path:"*",element:r().createElement(l.Navigate,{to:"/home/newest/song/全部"})}))))}));a(9600);var We=function(e){var t=e.tracks,a=void 0===t?[]:t;return r().createElement("div",{className:"official_rank_list flex-1 flex flex-col h-full"},a.map((function(e,t){return r().createElement("div",{tabIndex:2,className:o()("item flex flex-1 px-2.5 items-center hover:bg-gray-100 focus:bg-gray-200 focus:outline-none",{"bg-gray-50":t%2==0}),key:e.name},r().createElement("span",{className:o()("index text-sm w-4",t<3?"text-red-500":"text-gray-300")},t+1),r().createElement("span",{className:"status w-4 flex-center"}," 口 "),r().createElement("span",{className:"name",title:e.name+e.alia},e.name,e.alia.length>0&&r().createElement("span",{className:"text-gray-400"},"(",e.alia.map((function(e){return e})),")")),r().createElement("span",{className:"ml-auto text-gray-400",title:e.ar.map((function(e){return e.name})).join("/")},e.ar.map((function(e,t){return r().createElement("span",{key:e.id},t>0&&" / ",r().createElement(l.Link,{to:"/artist/".concat(e.id),className:"artist text-gray-400 hover:text-gray-500"},e.name))}))))})))};const Ke=(0,n.memo)((function(){var e=(0,te.C)((function(e){return e.home.toplist})).list,t=void 0===e?[]:e,a=(0,te.T)(),c=(0,n.useState)([]),o=(0,d.Z)(c,2),s=o[0],m=o[1],i=(0,n.useState)({}),p=(0,d.Z)(i,2),E=(p[0],p[1]),y=(0,n.useState)(!0),g=(0,d.Z)(y,2),h=g[0],N=g[1],b=function(){var e=(0,u.Z)(v().mark((function e(){var t,n,r,l,c,o,s,i,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.I$)();case 3:return t=e.sent,n=t.list,a(L({list:n})),e.next=8,Promise.all([].concat((0,He.Z)(n.slice(0,4).map((function(e){return(0,f.MY)({id:e.id,limit:5})}))),[(0,f.MP)(1)]));case 8:r=e.sent,l=(0,d.Z)(r,5),c=l[0],o=l[1],s=l[2],i=l[3],u=l[4],m([c,o,s,i]),E(u),N(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){b()}),[]),h?r().createElement("div",{className:"flex-center w-full h-full"},r().createElement(se.Z,null)):r().createElement("div",{className:"px-8 overflow-auto max-h-full flex-auto"},r().createElement("div",{className:"ui_w1100"},r().createElement("div",{className:"h1 mb-4"},"官方榜"),r().createElement("div",{className:"space-y-12"},s.map((function(e){var t=e.playlist;return r().createElement("div",{key:t.id,className:"official_rank flex"},r().createElement(l.Link,{to:"/playlist/music/".concat(t.id),className:"official_rank_cover mr-9 w-44 h-44 rounded-lg overflow-hidden relative group"},r().createElement("img",{className:"ui_containimg",src:"".concat(t.coverImgUrl,"?param=176y176"),alt:""}),r().createElement("div",{className:"absolute inset-0 m-auto flex-center text-white"},r().createElement("span",{className:"pt-16"},Me()(t.updateTime).format("MM月DD日"),"更新")),r().createElement("button",{type:"button",className:"opacity-0 group-hover:opacity-100 absolute inset-0 m-auto flex-center rounded-full w-10 h-10 text-red-500 bg-white bg-opacity-50"},r().createElement(V.IconPlayerPlay,{size:22,className:"fill-current"}))),r().createElement("div",{className:"official_rank_content flex-auto relative"},r().createElement(We,{tracks:t.tracks.slice(0,5)}),r().createElement(l.Link,{to:"/playlist/music/".concat(t.id),className:"text-gray-400 hover:text-gray-500 absolute mt-2"},"查看全部 >")))}))),r().createElement("div",{className:"h1 mt-7 mb-4"},"全球榜"),r().createElement("div",{className:"grid grid-cols-5 gap-5"},t.slice(4).map((function(e){return r().createElement("div",{className:"item flex flex-col",key:e.id},r().createElement(l.Link,{to:"/playlist/music/".concat(e.id),className:"cover group rounded overflow-hidden relative"},r().createElement("span",{className:"playCount flex items-center absolute top-0 right-0 py-0.5 px-2 text-white"},r().createElement(V.IconPlayerPlay,{size:12}),(0,me.LU)(e.playCount)),r().createElement("img",{className:"",src:"".concat(e.coverImgUrl,"?param=200y200"),alt:""}),r().createElement("button",{type:"button",className:"play opacity-0 group-hover:opacity-100 absolute inset-0 m-auto bg-white bg-op text-red-500 w-10 h-10 rounded-full flex-center bg-opacity-95"},r().createElement(V.IconPlayerPlay,{size:20,className:"fill-current"}))),r().createElement(l.Link,{to:"/playlist/music/".concat(e.id),className:"name mt-1 text-sm text-gray-600 hover:text-black"},e.name))})))))})),Ge=(0,n.memo)((function(e){var t=e.item,a=void 0===t?{}:t;return r().createElement("div",{className:"item"},r().createElement("div",{className:"cover boarder relative rounded overflow-hidden border"},r().createElement(l.Link,{to:a.id,className:""},r().createElement("img",{loading:"lazy",className:"ui_aspect-ratio-1/1",src:"".concat(a.img1v1Url,"?param=200y200"),alt:a.name}))),r().createElement("div",{className:"info flex items-center justify-between mt-2 text-sm text-gray-600 hover:text-black"},r().createElement(l.Link,{to:"/artist/".concat(a.id)},a.name),a.accountId&&r().createElement(l.Link,{to:"/user/".concat(a.accountId),className:"bg-red-500 hover:bg-red-600 text-white rounded-full p-0.5"},r().createElement(V.IconUser,{size:12}))))}));function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(a),!0).forEach((function(t){(0,A.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $e=[{type:"语种",code:"area",sub:[[-1,"全部",1],[7,"华语",1],[96,"欧美",2],[8,"日本",4],[16,"韩国",3],[0,"其他",1]]},{type:"分类",code:"type",sub:[[-1,"全部"],[1,"男歌手"],[2,"女歌手"],[3,"乐队"]]},{type:"筛选",code:"initial",sub:[[-1,"热门"],["A","A"],["B","B"],["C","C"],["D","D"],["E","E"],["F","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["L","L"],["M","M"],["N","N"],["O","O"],["P","P"],["Q","Q"],["R","R"],["S","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"],["#","#"]]}],et={type:-1,area:-1,initial:-1};const tt=(0,n.memo)((function(){var e=(0,n.useState)((function(){return et})),t=(0,d.Z)(e,2),a=t[0],l=t[1],c=(0,n.useRef)(a),s=(0,n.useRef)(0),m=(0,n.useRef)(null),i=(0,n.useRef)(null),p=(0,n.useState)([]),E=(0,d.Z)(p,2),y=E[0],g=E[1],h=function(){var e=(0,u.Z)(v().mark((function e(){var t,a,n,r,l,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.current,a=t.type,n=t.area,r=t.initial,e.next=4,(0,f.xd)({type:a,area:n,initial:r,limit:30,offset:s.current});case 4:l=e.sent,o=l.artists,s.current+=30,g((function(e){return[].concat((0,He.Z)(e),(0,He.Z)(o))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){c.current=a}),[a]),(0,Pe.Z)(h,m,i),r().createElement("div",{className:"px-8 pb-8 overflow-auto h-full flex-auto",ref:m},r().createElement("div",{className:"ui_w1100"},r().createElement("div",{className:"space-y-1"},$e.map((function(e){var t=e.type,n=e.code,c=e.sub;return r().createElement("div",{className:"domHome_artist_filter flex items-baseline",key:t},r().createElement("div",{className:"w-10 flex-none"},t),r().createElement("div",{className:"flex flex-wrap list"},c.map((function(e){var t=(0,d.Z)(e,2),c=t[0],m=t[1];return r().createElement("div",{className:"item flex-center",key:c},r().createElement("button",{type:"button",onClick:function(){return e=(0,A.Z)({},n,c),l((function(t){return Xe(Xe({},t),e)})),s.current=0,void g([]);var e},className:o()("px-2 rounded-full",c===a[n]&&["ui_themeColor","ui_bg_opacity"])},m))}))))}))),r().createElement(we.Z,{className:"domHome_artist_list mt-2.5 grid gap-4",small:"grid-cols-5",big:"grid-cols-6"},y.map((function(e){return r().createElement(Ge,{item:e,key:e.id})})))),r().createElement("div",{className:"flex-center",ref:i},r().createElement(se.Z,null)))}));var at=(0,n.memo)((function(e){var t=e.item,a=void 0===t?{}:t;return r().createElement("div",{className:"item"},r().createElement("div",{className:"cover relative rounded border overflow-hidden"},r().createElement(l.Link,{to:"/playlist/dj/".concat(a.id),className:""},r().createElement("img",{loading:"lazy",className:"ui_aspect-ratio-1/1",src:a.picUrl,alt:""}),r().createElement("div",{className:"absolute bottom-0 left-0 right-0 h-1/4 ui_linear_mask_bottom"}),r().createElement("div",{className:"absolute left-0 bottom-0 max-w-full px-2 py-1 text-white truncate"},a.name))),r().createElement("div",{className:"footer mt-2 text-sm"},r().createElement(l.Link,{to:"/playlist/dj/".concat(a.id),className:"text-gray-600 hover:text-black"},a.rcmdtext)))})),nt=function(e){var t=e.onClick;return r().createElement("button",{type:"button",onClick:t,className:"absolute right-full inset-y-0 z-10 w-8 h-8 flex-center text-gray-500 m-auto"},r().createElement(V.IconChevronLeft,{size:30,stroke:1}))},rt=function(e){var t=e.onClick;return r().createElement("button",{type:"button",onClick:t,className:"absolute left-full inset-y-0 z-10 w-8 h-8 flex-center text-gray-500 m-auto"},r().createElement(V.IconChevronRight,{size:30,stroke:1}))},lt=function(e){var t=e.catelist,a=void 0===t?[]:t,n={speed:500,infinite:!1,slidesToShow:8,slidesToScroll:8,draggable:!1,prevArrow:r().createElement(nt,null),nextArrow:r().createElement(rt,null)};return r().createElement("div",{className:"domHome_dj_nav px-10 mt-9"},r().createElement(B(),n,r().createElement("div",{className:"item"},r().createElement(l.Link,{to:"/home/dj/toplist"},r().createElement("div",{className:"inner"},r().createElement("div",{className:"btn flex-center ui_themeColor"},r().createElement(V.IconChartBar,{stroke:1})),r().createElement("div",{className:"name text-gray-500 mt-2"},"排行榜")))),a.map((function(e){return r().createElement("div",{className:"item",key:e.id},r().createElement(l.Link,{to:"/dj-category/".concat(e.name,"/").concat(e.id)},r().createElement("div",{className:"inner"},r().createElement("div",{className:"btn flex-center ui_themeColor"},r().createElement("img",{className:"w-8 h-8",src:e.pic56x56Url,alt:""})),r().createElement("div",{className:"name text-gray-500 mt-2"},e.name))))}))))},ct=["创作翻唱","声之剧场","音乐故事","情感调频","声音恋人"];const ot=(0,n.memo)((function(){var e=(0,xe.useDispatch)(),t=(0,n.useState)(!0),a=(0,d.Z)(t,2),c=a[0],o=a[1],s=(0,xe.useSelector)((function(e){return e.home.dj})),m=s.DjBanner,i=(s.category,s.catelist),p=s.DjPersonalizeRecommend,E=s.result,y=function(){var t=(0,u.Z)(v().mark((function t(){var a,n,r,l,c,s,m,i,u,p,E,y;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([(0,f.Yh)(),(0,f.xV)(),(0,f.e7)(),(0,f.qA)(),(0,f.vO)({cateId:2001,limit:6}),(0,f.vO)({cateId:10001,limit:6}),(0,f.vO)({cateId:2,limit:6}),(0,f.vO)({cateId:3,limit:6}),(0,f.vO)({cateId:3001,limit:6})]);case 3:a=t.sent,n=(0,d.Z)(a,9),r=n[0],l=n[1],c=n[2],s=void 0===c?[]:c,m=n[3],i=n[4],u=n[5],p=n[6],E=n[7],y=n[8],e(w({DjBanner:r.data,category:l.data,catelist:s.categories,DjPersonalizeRecommend:m.data,result:{创作翻唱:i.djRadios,声之剧场:u.djRadios,音乐故事:p.djRadios,情感调频:E.djRadios,声音恋人:y.djRadios}})),o(!1),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(){return t.apply(this,arguments)}}();return(0,n.useEffect)((function(){y()}),[]),c?r().createElement("div",{className:"flex-center w-full h-full"},r().createElement(se.Z,null)):r().createElement("div",{className:"domHome_content px-8 overflow-auto max-h-full flex-auto"},r().createElement("div",{className:"domHome_dj pb-16 ui_w1100"},r().createElement("div",{className:"domHome_dj_banner"},m.length>0&&r().createElement(G,{list:m,coverSrc:"pic"})),r().createElement("div",{className:"domHome_item"},r().createElement(lt,{catelist:i})),r().createElement("div",{className:"domHome_item mt-8"},r().createElement("div",{className:"domHome_linktitle h1"},"电台个性推荐"),r().createElement("div",{className:"mt-4 grid grid-cols-5 gap-5"},p.slice(0,5).map((function(e){return r().createElement(at,{item:e,key:e.id})})))),ct.map((function(e){return r().createElement("div",{key:e,className:"domHome_item mt-8"},r().createElement(l.Link,{className:"domHome_linktitle h1",to:"/dj-category/".concat(e)},e,">"),r().createElement("div",{className:"mt-4 grid grid-cols-5 gap-5"},E[e].slice(0,5).map((function(e){return r().createElement(at,{item:e,key:e.id})}))))}))))}));var st=a(1533),mt=[["节目榜","/home/dj/toplist"],["新晋电台榜","/home/dj/toplist/now"],["热门电台榜","/home/dj/toplist/hot"]],it={default:{map:function(e){var t=e.lastRank,a=e.rank,n=e.score,r=e.program,l=r.id,c=r.name,o=r.coverUrl,s=r.radio;return{id:l,name:c,lastRank:t,rank:a,coverUrl:o,score:n,userName:s.name,userId:s.id,category:s.category}}},other:{map:function(e){var t=e.id,a=e.name,n=e.lastRank,r=e.rank,l=e.picUrl,c=e.score,o=e.dj;return{id:t,name:a,lastRank:n,rank:r,coverUrl:l,score:c,userName:o.nickname,userId:o.userId,category:e.category}}}},ut=(0,n.memo)((function(e){var t=e.lastRank,a=e.rank;switch(!0){case-1===t:return r().createElement("div",{className:"text-green-500"},"new");case t-a<0:return r().createElement("div",{className:"flex-center text-gray-500"},r().createElement(V.IconArrowDown,{size:10,className:"text-blue-500"}),-t+a);case t-a==0:return r().createElement("div",{className:"flex-center text-gray-500"},r().createElement(V.IconMinus,{size:10}),"0");case t-a>0:return r().createElement("div",{className:"flex-center text-gray-500"},r().createElement(V.IconArrowUp,{size:10,className:"text-red-500"}),t-a);default:return r().createElement("div",null)}})),dt=(0,n.memo)((function(e){var t=e.updateTime;return r().createElement("div",{className:"domHome_dj_toplist_header relative py-7"},r().createElement("div",{className:"domHome_dj_toplist_nav m-auto w-min flex rounded-full border",style:{borderColor:"#bbb"}},mt.map((function(e){var t=(0,d.Z)(e,2),a=t[0],n=t[1];return r().createElement(l.NavLink,{key:a,to:n,exact:!0,className:function(e){var t=e.isActive;return o()("flex-center w-28 h-8 rounded-full text-center hover:bg-gray-100",t&&"text-white")}},a)}))),r().createElement("div",{className:"absolute flex-center top-1/2 transform -translate-y-1/2 right-8 text-gray-400"},"最近更新：",t&&Me()(t).format("MM月DD日"),r().createElement("div",{className:"relative ui_group"},r().createElement("span",{className:"block flex-center  border rounded-full w-4 h-4 flex-none"},"?"),r().createElement("div",{className:"absolute text-gray-500 top-6 right-0 shadow rounded p-4 w-48 border hidden ui_group-hover:block bg-white"},"选取云音乐中7天内发布的热度最高的节目，热度由节目播放、赞、分享数量总和计算"))))})),pt=(0,n.memo)((function(e){var t=e.item,a=e.index,n=e.maxScore;return r().createElement("div",{tabIndex:"2",className:o()("item h-20 flex items-center hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",{"bg-gray-50":a%2==0}),key:t.id},r().createElement("div",{className:"index flex flex-col items-center justify-center"},r().createElement("div",{className:o()("font-bold text-sm",{"text-red-500":a<3,"text-gray-400":a>2})},a+1),r().createElement("div",null,r().createElement(ut,{lastRank:t.lastRank,rank:t.rank}))),r().createElement("button",{type:"button",className:"cover relative"},r().createElement("img",{src:"".concat(t.coverUrl,"?param=60y60"),alt:""}),r().createElement("i",{className:"ico ui_themeColor absolute inset-0 flex-center rounded-full w-6 h-6 m-auto bg-white bg-opacity-90"},r().createElement(V.IconPlayerPlay,{size:16,className:"fill-current"}))),r().createElement("div",{className:"name flex-auto truncate"},t.name),r().createElement("div",{className:"radio flex-auto truncate"},r().createElement(l.Link,{className:"ui_text_gray_hover",to:"/playlist/dj/".concat(t.userId)},t.userName)),r().createElement("div",{className:"category"},r().createElement(l.Link,{to:"/",className:"ui_text_gray_hover border border-current"},t.category)),r().createElement("div",{className:"score"},r().createElement("div",{className:"rounded bg-gray-300 overflow-hidden h-2"},r().createElement("div",{className:"h-full bg-gray-500 w-0",style:{width:"".concat(t.score/n*100,"%")}}))))}));const vt=(0,n.memo)((function(e){var t=e.type,a=(0,n.useState)([]),l=(0,d.Z)(a,2),c=l[0],o=l[1],s=(0,n.useState)(),m=(0,d.Z)(s,2),i=m[0],p=m[1],E=(0,n.useMemo)((function(){return t?"other":"default"}),[t]),y=function(){var e=(0,u.Z)(v().mark((function e(){var a,n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,(0,f.T4)({type:t});case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,(0,f.cw)();case 9:e.t0=e.sent;case 10:a=e.t0,n=a.toplist,r=a.updateTime,(0,st.unstable_batchedUpdates)((function(){o(n.map(it[E].map)),p(r)})),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),console.log(e.t1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),g=(0,n.useMemo)((function(){var e,t;return null!==(e=null===(t=c[0])||void 0===t?void 0:t.score)&&void 0!==e?e:0}),[c]);return(0,n.useEffect)((function(){y()}),[t]),r().createElement("div",{className:"domHome_dj_toplist h-full overflow-auto"},r().createElement(dt,{updateTime:i}),r().createElement("div",{className:"domHome_dj_toplist_main"},r().createElement("div",{className:"list"},c.map((function(e,t){return r().createElement(pt,{item:e,index:t,key:e.id,maxScore:g})})))))})),ft=(0,n.memo)((function(){return r().createElement(l.Routes,null,r().createElement(l.Route,{path:"/home/dj/top/:type?",element:r().createElement(vt,null)}),r().createElement(l.Route,{path:"/home/dj",element:r().createElement(ot,null)}))})),Et=function(){return r().createElement(l.Routes,null,r().createElement(l.Route,{element:r().createElement(i,null)},r().createElement(l.Route,{path:"Recommend",element:r().createElement(be,null)}),r().createElement(l.Route,{path:"Playlist",element:r().createElement(De,null)}),r().createElement(l.Route,{path:"Newest",element:r().createElement(Je,null)}),r().createElement(l.Route,{path:"TopList",element:r().createElement(Ke,null)}),r().createElement(l.Route,{path:"DJ",element:r().createElement(ft,null)}),r().createElement(l.Route,{path:"Artist",element:r().createElement(tt,null)}),r().createElement(l.Route,{path:"*",element:r().createElement(l.Navigate,{to:"recommend",replace:!0})})))}}}]);
//# sourceMappingURL=Discover.b7dafc4e.js.map