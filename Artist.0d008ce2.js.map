{"version":3,"file":"Artist.0d008ce2.js","mappings":"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","sources":["webpack://wyy/./src/pages/Artist/Album.tsx","webpack://wyy/./src/pages/Artist/Detail.tsx","webpack://wyy/./src/pages/Artist/MV.tsx","webpack://wyy/./src/pages/Artist/Similarity.tsx","webpack://wyy/./src/pages/Artist/components/Header.tsx","webpack://wyy/./src/pages/Artist/index.tsx","webpack://wyy/./src/pages/Artist/layouts/Column.tsx","webpack://wyy/./src/pages/Artist/layouts/Grid.tsx","webpack://wyy/./src/pages/Artist/layouts/List.tsx"],"sourcesContent":["import React, { useState, useEffect, memo } from 'react';\nimport {\n  IconLayoutGrid,\n  IconList,\n  IconLayout,\n} from '@tabler/icons';\nimport classNames from 'classnames';\nimport { apiArtistAlbum } from '@/api';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setArtistLayout } from '@/reducers/artist/slice';\nimport DomGrid from './layouts/Grid';\nimport DomList from './layouts/List';\nimport DomColumn from './layouts/Column';\n\nconst layouts = {\n  grid: { Ico: IconLayoutGrid, View: DomGrid },\n  list: { Ico: IconList, View: DomList },\n  column: { Ico: IconLayout, View: DomColumn },\n};\n\nconst layoutsEntries = Object.entries(layouts);\n\nexport default memo(({ id }) => {\n  const dispatch = useDispatch();\n  const { layout } = useSelector(({ artist }) => artist);\n  const [album, setAlbum] = useState({ hotAlbums: [], more: null });\n\n  const handleInit = async () => {\n    try {\n      const { hotAlbums, more } = await apiArtistAlbum({\n        id,\n      });\n\n      setAlbum({ hotAlbums, more });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"domArtist_section relative\">\n      <div className=\"absolute right-8 -translate-y-full bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden\">\n        {\n          layoutsEntries.map(([view, { Ico }]) => (\n            <button\n              key={view}\n              type=\"button\"\n              className={classNames('px-1.5 py-0.5 bg-gray-200', 'handle', view === layout && 'bg-gray-300 text-white')}\n              onClick={() => dispatch(setArtistLayout({ layout: view }))}\n            >\n              <Ico size={14} stroke={1} />\n            </button>\n          ))\n        }\n      </div>\n      <div className=\"domArtist_section_layout\">\n        {\n          ((View, hotAlbums) => <View hotAlbums={hotAlbums} id={id} />)(layouts[layout].View, album.hotAlbums)\n        }\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect, useState } from 'react';\nimport { apiArtistDesc } from '@/api';\n\nexport default memo(({ id }) => {\n  const [desc, setDesc] = useState({});\n  const handleInit = async () => {\n    try {\n      const desc = await apiArtistDesc({\n        id,\n      });\n      setDesc(desc);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"domArtist_section p-8 leading-8 text-sm select-text\">\n      <div className=\"domArtist_subtitle font-bold\">\n        简介\n      </div>\n      <div className=\"domArtist_article text-gray-500\" style={{ textIndent: '2em' }}>\n        {desc.briefDesc}\n      </div>\n      <br />\n      <br />\n      {\n        desc.introduction?.map((introduction) => (\n          <div key={introduction.ti} className=\"select-text\">\n            <div className=\"domArtist_subtitle font-bold\">\n              {introduction.ti}\n            </div>\n            <div className=\"domArtist_article text-gray-500 whitespace-pre-line\">\n              {introduction.txt}\n            </div>\n          </div>\n        ))\n      }\n    </div>\n  );\n});\n","import React, {\n  useState, useRef, memo,\n} from 'react';\nimport { apiArtistMV } from '@/api';\nimport useInfinite from '@/hooks/useInfinite';\nimport DomGridVideo from '@/components/GridVideo';\n\nexport default memo(({ id }) => {\n  const [MVs, setMVs] = useState([]);\n  // const [hasMore, setHasMore] = useState(true);\n  const more = useRef(true);\n  const offset = useRef(0);\n  const domScroll = useRef();\n  const domObserver = useRef();\n  const limit = 24;\n  const handleInit = async () => {\n    if (!more.current) return;\n    try {\n      const { mvs, time, hasMore } = await apiArtistMV({\n        id,\n        limit,\n        offset: offset.current,\n      });\n      offset.current += limit;\n      more.current = hasMore;\n      setMVs((prev) => [...prev, ...mvs.map(({\n        id, imgurl, duration, name, playCount,\n      }) => ({\n        id,\n        duration,\n        playCount,\n        cover: imgurl,\n        title: name,\n      }))]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useInfinite(handleInit, domScroll, domObserver);\n\n  return (\n    <div className=\"domArtist_section p-8\">\n      <DomGridVideo list={MVs} />\n      <div ref={domObserver} />\n    </div>\n  );\n});\n","import React, { useState, useEffect, memo } from 'react';\nimport { apiSimiArtist } from '@/api';\nimport { Link } from 'react-router-dom';\nimport DomLoading from '@/components/Loading';\n\nexport default memo(({ id }) => {\n  const [simiArtists, setSimiArtists] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const handleInit = async () => {\n    try {\n      const { artists } = await apiSimiArtist({\n        id,\n      });\n      setSimiArtists(artists);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center pt-12\">\n        <DomLoading />\n      </div>\n    );\n  }\n  if (simiArtists.length === 0) {\n    return (\n      <div className=\"text-center text-gray-400 text-sm pt-16\">没有相似歌手</div>\n    );\n  }\n  return (\n    <div className=\"domArtist_section p-8\">\n      <div className=\"grid grid-cols-5 gap-5\">\n        {simiArtists.map((item) => (\n          <div className=\"item\" key={item.id}>\n            <div className=\"cover rounded overflow-hidden border\">\n              <Link to={`/artist/${item.id}`} className=\"\">\n                <img loading={`lazy`} className=\"ui_aspect-ratio-1/1\" src={`${item.picUrl}?param=200y200`} alt=\"\" />\n              </Link>\n            </div>\n            <div className=\"footer text-sm mt-2\">\n              <Link to={`/artist/${item.id}`} className=\"\">\n                {item.name}\n              </Link>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n});\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from 'react';\nimport {\n  IconFolderPlus,\n  IconCheckbox,\n} from '@tabler/icons';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setDialogUnSubscriptionShow, setToast } from '@/reducers/mask/slice';\nimport {\n  apiArtistDetail, apiArtistSub,\n} from '@/api';\nimport { useRefreshArtistSublist } from '@/hooks/useHelp';\n\nexport default memo(({ id }) => {\n  const { artistSublist } = useSelector(({ account }) => account);\n\n  const isSub = useMemo(() => artistSublist.find((item) => item.id === Number(id)), [artistSublist, id]);\n  const dispatch = useDispatch();\n  const [detail, setDetail] = useState({});\n  const handleInit = async () => {\n    try {\n      const { data: detail } = await apiArtistDetail({\n        id,\n      });\n      setDetail(detail);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleUnSubscription = () => {\n    dispatch(setDialogUnSubscriptionShow({\n      artistId: id,\n    }));\n  };\n\n  const handleSubscription = async () => {\n    try {\n      await apiArtistSub({\n        id,\n        t: 1,\n      });\n      dispatch(setToast('收藏成功！'));\n      useRefreshArtistSublist(dispatch);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleToggleSub = async () => {\n    isSub ? handleUnSubscription() : await handleSubscription();\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, [id]);\n  return (\n    <div className=\"domArtist_header flex p-8\">\n      <div className=\"avatar border overflow-hidden rounded\">\n        <img src={`${detail.artist?.cover}?param=200y200`} alt=\"\" />\n      </div>\n      <div className=\"content flex-auto px-5\">\n        <div className=\"name h1 select-text\">{detail.artist?.name}</div>\n        <div className=\"enname my-3 select-text\">{detail.alias?.map((alia) => alia)}</div>\n        <div className=\"actions mt-3 flex space-x-2\">\n          <button\n            onClick={handleToggleSub}\n            type=\"button\"\n            className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm\"\n          >\n            {isSub ? (\n              <>\n                <IconCheckbox size={20} stroke={1} />\n                已收藏\n              </>\n            ) : (\n              <>\n                <IconFolderPlus size={20} stroke={1} />\n                收藏\n              </>\n            )}\n          </button>\n          {\n            detail.user\n            && (\n              <Link\n                to={`/user/${detail.user?.userId}`}\n                className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm\"\n              >\n                个人主页\n              </Link>\n            )\n          }\n        </div>\n        <div className=\"info mt-5 space-x-5\">\n          <span className=\"size\">\n            单曲数:\n            {detail.artist?.musicSize}\n          </span>\n          <span className=\"size\">\n            专辑数:\n            {detail.artist?.albumSize}\n          </span>\n          <span className=\"size\">\n            MV数:\n            {detail.artist?.mvSize}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useState } from 'react';\n\nimport classNames from 'classnames';\n\nimport './style.scss';\n\nimport DomAlbum from './Album';\nimport DomMV from './MV';\nimport DomDetail from './Detail';\nimport DomSimilarity from './Similarity';\nimport DomHeader from './components/Header';\n\nconst nav = {\n  专辑: DomAlbum,\n  MV: DomMV,\n  歌手详情: DomDetail,\n  相似歌手: DomSimilarity,\n};\n\nexport default memo(({ id }) => {\n  // if (!/^\\d*$/.test(id)) {\n  //   return <Redirect to=\"/\" />;\n  // }\n  const [tab, setTab] = useState('专辑');\n  return (\n    <div className=\"domArtist overflow-auto max-h-full flex-auto\">\n      <DomHeader id={id} />\n      <div className=\"domArtist_main\">\n        <div className=\"domArtist_nav flex mx-8\">\n          <div className=\"flex space-x-4 text-sm\">\n            {\n              Object.keys(nav).map((item) => (\n                <button\n                  key={item}\n                  onClick={() => setTab(item)}\n                  type=\"button\"\n                  className={classNames('domArtist_nav_link', tab === item && 'font-bold ui_underline')}\n                >\n                  {item}\n                </button>\n              ))\n            }\n          </div>\n          <div className=\"domArtist_album_layout ml-auto\" />\n        </div>\n        {/* <DomSimilarity id={id} /> */}\n        {\n          ((Dom, id) => <Dom id={id} />)(nav[tab], id)\n        }\n\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect, useState } from 'react';\nimport {\n\n  IconPlayerPlay,\n  IconFolderPlus,\n  IconDownload,\n} from '@tabler/icons';\n\nimport dayjs from 'dayjs';\nimport classNames from 'classnames';\nimport DomTags from '@/components/Tags';\nimport DomHeart from '@/components/Table/Heart';\nimport { apiArtistTopSong } from '@/api';\n\nexport default memo(({ hotAlbums = [], id }) => {\n  console.log('artist_column');\n  const [top50, setTop50] = useState([]);\n  const [limit, setLimit] = useState(10);\n  const handleInit = async () => {\n    try {\n      const { songs } = await apiArtistTopSong({\n        id,\n      });\n      setTop50(songs);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"column p-8\">\n      <div className=\"column_item\">\n        <div className=\"cover\">\n          <div className=\"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white\">\n            <div className=\"text-4xl\">\n              TOP\n            </div>\n            <div className=\"text-6xl\">50</div>\n          </div>\n        </div>\n        <div className=\"aside flex-auto ml-20 w-0\">\n          <div className=\"flex\">\n            <span className=\"font-bold text-base\">\n              热门50首\n            </span>\n            <div className=\"flex items-center\">\n              <button type=\"button\" className=\"flex-none border rounded-full flex-center mx-3 p-1\">\n                <IconPlayerPlay size={10} className=\"fill-current\" />\n              </button>\n              <span className=\"text-gray-300\">\n                |\n              </span>\n              <button type=\"button\" className=\"mx-3\">\n                <IconFolderPlus size={20} stroke={1} />\n              </button>\n            </div>\n          </div>\n          <div className=\"list mt-2\">\n            {\n            top50.slice(0, limit).map((item, index) => (\n              <div\n                className={classNames('item hover:bg-gray-100 focus:outline-none focus:bg-gray-200', { 'bg-gray-50': index % 2 === 0 })}\n                tabIndex=\"2\"\n                key={item.id}\n              >\n                <div className=\"index flex-none text-right text-gray-400\">\n                  {\n                    String(index + 1).padStart(2, 0)\n                  }\n                </div>\n                <div className=\"heart flex-none text-center\">\n                  <DomHeart id={item.id} />\n                </div>\n                <div className=\"download flex-none text-center\">\n                  <button type=\"button\" className=\"text-gray-500 hover:text-black\">\n                    <IconDownload size={16} stroke={1} />\n                  </button>\n                </div>\n                <div className=\"name flex-auto flex flex-auto min-w-0 px-2.5\">\n                  <span\n                    className=\"truncate\"\n                    title={`${item.name}(${item.alia.map((alia) => alia)})`}\n                  >\n                    {item.name}\n                              &nbsp;\n                    <span className=\"text-gray-400\">\n                      {item.alia.map((alia) => alia)}\n                    </span>\n                  </span>\n                  <DomTags item={item} className=\"flex-none\" />\n                </div>\n                <div className=\"duration text-gray-400 flex-none\">\n                  {dayjs(item.dt).format('mm:ss')}\n                </div>\n              </div>\n            ))\n          }\n            {\n            limit === 10 && top50.length > 10\n            && (\n              <button\n                type=\"button\"\n                className=\"seeMore\"\n                onClick={() => setLimit(50)}\n              >\n                查看全部\n                {top50.length}\n                首 &gt;\n              </button>\n            )\n          }\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from 'react';\nimport dayjs from 'dayjs';\nimport { Link } from 'react-router-dom';\nimport { IconPlayerPlay } from '@tabler/icons';\n\nexport default memo(({ hotAlbums = [] }) => (\n  <div className=\"grid grid-cols-4 p-8 gap-x-20 gap-y-5\">\n    {hotAlbums.map((item) => (\n      <div className=\"item\" key={item.id}>\n        <div className=\"cover rounded overflow-hidden relative group\">\n          <Link to={`/playlist/album/${item.id}`}>\n            <img className=\"\" src={`${item.picUrl}?param=200y200`} alt=\"\" />\n          </Link>\n          <button type=\"button\" className=\"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500\">\n            <IconPlayerPlay size={20} className=\"fill-current\" />\n          </button>\n        </div>\n        <div className=\"name text-sm mt-2\">\n          <Link to={`/playlist/album/${item.id}`} className=\"ui_ellipse\">\n            <span className=\"ui_text_black_hover\">\n              {item.name}\n            </span>\n            {\n              item.alias.map((alia) => (\n                <span className=\"text-gray-500\" key={alia}>\n                  {`（${alia}）`}\n                </span>\n              ))\n            }\n          </Link>\n        </div>\n        <div className=\"text-gray-400 mt-2\">\n          {dayjs(item.publishTime).format('YYYY-MM-DD')}\n        </div>\n      </div>\n    ))}\n  </div>\n));\n","import React, { memo } from 'react';\nimport dayjs from 'dayjs';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\n\nexport default memo(({ hotAlbums = [] }) => (\n  <div className=\"list pt-4\">\n    {\n      hotAlbums.map((item, index) => (\n        <div className={classNames('list_item hover:bg-gray-100', { 'bg-gray-50': index % 2 === 0 })} key={item.id}>\n          <Link className=\"cover\" to={`/playlist/album/${item.id}`}>\n            <img className=\"ui_containimg\" src={`${item.picUrl}?param=100y100`} alt=\"\" />\n          </Link>\n          <Link\n            className=\"name truncate\"\n            to={`/playlist/album/${item.id}`}\n          >\n            {item.name}\n                      &nbsp;\n            {\n              item.alias?.length > 0\n            && (\n            <span className=\"text-gray-400\">\n              (\n              {item.alias.map((alia) => alia)}\n              )\n            </span>\n            )\n            }\n          </Link>\n          <span className=\"size text-gray-400\">\n            {item.size}\n            首\n          </span>\n          <span className=\"publishTime text-gray-400\">\n            发行时间：\n            {dayjs(item.publishTime).format('YYYY-MM-DD')}\n          </span>\n        </div>\n      ))\n    }\n  </div>\n));\n"],"names":["layouts","grid","Ico","IconLayoutGrid","View","DomGrid","list","IconList","DomList","column","IconLayout","DomColumn","layoutsEntries","Object","entries","memo","hotAlbums","id","dispatch","useDispatch","layout","useSelector","artist","useState","more","album","setAlbum","handleInit","apiArtistAlbum","console","log","useEffect","className","map","view","key","type","onClick","setArtistLayout","size","stroke","desc","setDesc","apiArtistDesc","style","textIndent","briefDesc","introduction","ti","txt","MVs","setMVs","useRef","offset","domScroll","domObserver","current","apiArtistMV","limit","mvs","time","hasMore","prev","imgurl","duration","name","playCount","cover","title","ref","simiArtists","setSimiArtists","loading","setLoading","apiSimiArtist","artists","length","item","Link","to","src","picUrl","alt","artistSublist","account","isSub","useMemo","find","Number","detail","setDetail","apiArtistDetail","data","handleSubscription","apiArtistSub","t","setToast","useRefreshArtistSublist","handleToggleSub","setDialogUnSubscriptionShow","artistId","alias","alia","IconCheckbox","IconFolderPlus","user","userId","musicSize","albumSize","mvSize","nav","专辑","DomAlbum","MV","DomMV","歌手详情","DomDetail","相似歌手","DomSimilarity","tab","setTab","keys","Dom","top50","setTop50","setLimit","apiArtistTopSong","songs","IconPlayerPlay","slice","index","tabIndex","String","padStart","IconDownload","dt","format","publishTime"],"sourceRoot":""}