{"version":3,"sources":["webpack://wyy/./src/components/Toast/Toast.tsx"],"names":["memo","toastTitle","useSelector","mask","time","useRef","timer","prevTime","dispatch","useDispatch","handleFadeout","current","Date","now","requestAnimationFrame","useEffect","toString","clearTimeout","setTimeout","setToast","id","className","classNames","IconCircleCheck","size"],"mappings":"6MASA,SAAeA,WAAK,WAClB,IAAQC,GAAeC,kBAAY,qBAAGC,QAA9BF,WAEFG,GAAOC,YAAO,MACdC,GAAQD,cACRE,GAAWF,cACXG,GAAWC,mBACXC,EAAgB,SAAhBA,IACAN,EAAKO,SAAW,IACpBP,EAAKO,SAAYC,KAAKC,MAAQN,EAASI,QAEvCJ,EAASI,QAAUC,KAAKC,MACxBC,sBAAsBJ,KAYxB,OATAK,gBAAU,WACR,GAAKd,YAAYe,WAAY,OAAO,EACpCZ,EAAKO,QAAU,KACfD,IACAO,aAAaX,EAAMK,SACnBL,EAAMK,QAAUO,YAAW,WACzBV,GAASW,QAAS,OACjB,QACF,CAAClB,IACCA,WAAYe,WAEf,yBACEI,GAAG,QACHC,UAAWC,IAAW,4HAEtB,kBAAC,EAAAC,gBAAD,CAAiBC,KAAM,KAJzB,IAMGvB,aANH,EAMGA,EAAYe,YARmB","file":"Components_Toast.d19bda80.js","sourcesContent":["import React, {\n  memo, useEffect, useRef, useState,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport { IconCircleCheck } from '@tabler/icons';\nimport { setToast } from '@/reducers/mask/actions';\nimport './style.scss';\n\nexport default memo(() => {\n  const { toastTitle } = useSelector(({ mask }) => mask);\n  // const [time, setTime] = useState(1500);\n  const time = useRef(1500);\n  const timer = useRef();\n  const prevTime = useRef();\n  const dispatch = useDispatch();\n  const handleFadeout = () => {\n    if (time.current <= 0) return;\n    time.current -= (Date.now() - prevTime.current);\n\n    prevTime.current = Date.now();\n    requestAnimationFrame(handleFadeout);\n  };\n  // console.log('123123');\n  useEffect(() => {\n    if (!toastTitle?.toString()) return false;\n    time.current = 1500;\n    handleFadeout();\n    clearTimeout(timer.current);\n    timer.current = setTimeout(() => {\n      dispatch(setToast(''));\n    }, 1500);\n  }, [toastTitle]);\n  if (!toastTitle?.toString()) return null;\n  return (\n    <div\n      id=\"toast\"\n      className={classNames('absolute z-50 whitespace-nowrap px-4 inset-0 m-auto flex-center rounded-lg bg-black bg-opacity-80 text-gray-200 text-lg')}\n    >\n      <IconCircleCheck size={24} />\n      &nbsp;\n      {toastTitle?.toString()}\n    </div>\n  );\n});\n"],"sourceRoot":""}