(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[9259],{8702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var c=n(9351),a=n(2137),l=n(6814),o=n(7757),m=n.n(o),r=(n(2222),n(1249),n(8309),n(7327),n(9600),n(3804)),i=n.n(r),s=n(847),u=n(5325),E=n(5200),_=n(9703),x=n(5380),N=n(6955),b=n(3361),y=n(8234);const f=function(){var e=(0,u.useDispatch)(),t=(0,u.useSelector)((function(e){return e.common})).baseUrl,n=(0,u.useSelector)((function(e){return e.account})),o=n.profile,f=n.playlist,k=(0,u.useSelector)((function(e){return e.mask})),p=k.contextMenuVisibility,d=k.contextMenuX,h=k.contextMenuY,M=k.contextMenuItem,I=k.contextMenuTotal,P=k.contextMenuSechma,v=k.contextMenuType,C=k.contextMenuItemId,z=(0,u.useSelector)((function(e){return e.inset})),w=z.globalX,S=z.globalY,g=f.filter((function(e){return!1===e.subscribed})),L="".concat(t,"/").concat(v,"?id=").concat(C,"&userId=").concat(o.userId);(0,r.useEffect)((function(){e((0,_.ht)({contextMenuShareLink:L}))}),[]);var T=function(){e((0,x.f7)({currentSong:M})),e((0,_.xJ)())},V=function(){e((0,x.An)({currentSong:M})),e((0,_.xJ)())},Z=function(){console.log("播放歌单")},J=function(){console.log("下一首播放歌单")},D=function(){var t=(0,a.Z)(m().mark((function t(){var n,c;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,N.Bw)({mvid:C,t:1});case 3:n=t.sent,c=n.message,e((0,_.xJ)()),e((0,_.fz)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),F=function(){(0,b.Z)(L,(function(){e((0,_.fz)("复制链接成功"))})),e((0,_.xJ)())},A=function(){e((0,_.s1)())},X=(0,r.useCallback)((function(){return e((0,_.ee)())}),[]),Y=(0,r.useMemo)((function(){var t,n=(t=function(){return e((0,_.xJ)())},{评论:function(e){var n=e.contextMenuItem,c=e.contextMenuTotal,a=e.contextMenuType;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement(s.Link,{to:"/comment/".concat(a,"/").concat(n.id),onClick:t,className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconMessage,{size:22,stroke:1})),"查看评论 (",c,")"))},播放:function(e){var t=e.handlePlay;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"播放(Enter)"))},下一首播放:function(e){var t=e.handlePlayNext;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconArrowForward,{size:22,stroke:1})),"下一首播放"))},播放歌单:function(e){var t=e.handlePlayPlaylist;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"播放(Enter)"))},下一首播放歌单:function(e){var t=e.handlePlayNextPlaylist;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconArrowForward,{size:22,stroke:1})),"下一首播放"))},查看歌单:function(e){var n=e.contextMenuItem;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement(s.Link,{to:"/playlist/music/".concat(n.id),onClick:t,className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"查看歌单"))},播放MV:function(e){var n=e.contextMenuItem,c=e.contextMenuType;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement(s.Link,{to:"/player/".concat(c,"/").concat(n.id),onClick:t,className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconPlayerPlay,{size:22,stroke:1})),"播放MV"))},收藏MV:function(e){var t=e.handleSubscribeMV;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconFolderPlus,{size:22,stroke:1})),"收藏MV"))},收藏到歌单:function(e){var t=e.handleCreatePlaylist,n=e.ownPlaylist,c=void 0===n?[]:n;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("span",{className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconFolderPlus,{size:22,stroke:1})),"收藏到歌单(Ctrl+S)",i().createElement("i",{className:"arrow"})),i().createElement("ul",{className:"ui_contextmenu sub"},i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconCirclePlus,{size:22,stroke:1})),"创建新歌单")),i().createElement("li",{className:"hr"}),c.map((function(e){return i().createElement("li",{className:"ui_contextmenu_item",key:e.id},i().createElement("button",{type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},10===e.privacy?i().createElement(E.IconLock,{size:22,stroke:1}):i().createElement(E.IconMusic,{size:22,stroke:1})),e.name))}))))},分享:function(e){var t=e.handleDialogShare;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconShare,{size:22,stroke:1})),"分享....."))},复制链接:function(e){var t=e.handleCopyLink;return i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconLink,{size:22,stroke:1})),"复制链接"))},不感兴趣:function(e){return(0,l.Z)(e),i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("span",{className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconCircleX,{size:22,stroke:1})),"不感兴趣",i().createElement("i",{className:"arrow"})),i().createElement("ul",{className:"ui_contextmenu sub"},i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"}),"创建新歌单")),i().createElement("li",{className:"hr"}),i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"}),"创建新歌单")),i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"}),"创建新歌单"))))},下载:function(){return i().createElement("li",{className:"ui_contextmenu_item "},i().createElement("span",{className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconDownload,{size:22,stroke:1})),"下载(L)",i().createElement("i",{className:"arrow"})),i().createElement("ul",{className:"ui_contextmenu sub"},i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconCirclePlus,{size:22,stroke:1})),"创建新歌单")),i().createElement("li",{className:"hr"}),i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconMusic,{size:22,stroke:1})),"创建新歌单")),i().createElement("li",{className:"ui_contextmenu_item"},i().createElement("button",{type:"button",className:"ui_contextmenu_btn "},i().createElement("i",{className:"ico"},i().createElement(E.IconMusic,{size:22,stroke:1})),"创建新歌单"))))}});return P.map((function(e){return[e.join(","),e.map((function(e){return[e,n[e]]}))]}))}),[P]);return p?i().createElement(y.Z,null,i().createElement("ul",{id:"contextmenu",className:"ui_contextmenu divide-y",style:{left:d-w,top:h-S}},Y.map((function(e){var t=(0,c.Z)(e,2),n=t[0],a=t[1];return i().createElement("div",{key:n},a.map((function(e){var t=(0,c.Z)(e,2),n=t[0],a=t[1];return i().createElement(a,{contextMenuTotal:I,contextMenuItem:M,handlePlay:T,handlePlayNext:V,handlePlayPlaylist:Z,handlePlayNextPlaylist:J,handleDialogShare:X,handleCopyLink:F,handleCreatePlaylist:A,handleSubscribeMV:D,ownPlaylist:g,contextMenuType:v,key:n})})))})))):null}}}]);