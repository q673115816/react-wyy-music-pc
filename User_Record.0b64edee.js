(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[210],{4212:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var n=a(2137),r=a(9351),c=(a(1249),a(3112),a(8309),a(7757)),s=a.n(c),l=a(3804),o=a.n(l),m=a(847),u=a(6955),i=a(5325),d=a(4184),v=a.n(d),p=a(5200);const E=function(){var e=(0,m.useParams)().uid,t=((0,i.useDispatch)(),(0,l.useState)(1)),a=(0,r.Z)(t,2),c=a[0],d=a[1],E=(0,l.useState)(),f=(0,r.Z)(E,2),y=f[0],N=f[1],_=(0,l.useState)([]),k=(0,r.Z)(_,2),h=k[0],b=k[1],x=function(){var t=(0,n.Z)(s().mark((function t(){var a,n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.Uz)({uid:e,type:c});case 3:a=t.sent,n=a.allData,r=a.weekData,b(1===c?r:n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){x(),N()}),[c,e]),o().createElement("div",{className:"domUser_record"},o().createElement("div",{className:"h1 ui_header"},"我的听歌排行"),o().createElement("div",{className:"domUser_record_nav"},o().createElement("button",{onClick:function(){return d(1)},type:"button",className:v()("domUser_record_nav_link",{on:1===c})},"最近一周"),o().createElement("button",{onClick:function(){return d(0)},type:"button",className:v()("domUser_record_nav_link",{on:0===c})},"所有时间")),o().createElement("div",{className:"overflow-auto max-h-full flex-auto domUser_record_main"},o().createElement("div",{className:"domUser_record_list"},h.map((function(e,t){var a=e.song,n=e.playCount;return o().createElement("div",{onClick:function(){return N(t)},className:v()("domUser_record_item",{on:y===t}),type:"button",key:a.id},o().createElement("div",{className:"index text-gray-400"},String(t+1).padStart(2,0)),o().createElement("div",{className:"heart"},o().createElement("button",{type:"button",className:"text-gray-400 hover"},o().createElement(p.IconHeart,{size:18,stroke:1}))),o().createElement("div",{className:"download"},o().createElement("button",{type:"button",className:"text-gray-400 hover"},o().createElement(p.IconDownload,{size:18,stroke:1}))),o().createElement("div",{className:"name"},o().createElement("div",{className:"truncate"},a.name,a.alia.length>0&&o().createElement("span",null,"".concat(a.alia))),999e3===a.privilege.maxbr&&o().createElement("div",{className:"TAG"},"SQ"),0!==a.mv&&o().createElement("div",{className:"TAG"},"MV")),o().createElement("div",{className:"playCount text-gray-400"},n,"次"))})))))}}}]);