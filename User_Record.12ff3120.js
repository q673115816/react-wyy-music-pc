(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[210],{4212:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(2137),n=r(9351),c=r(7757),l=r.n(c),s=(r(9653),r(1249),r(3804)),o=r.n(s),m=r(847),i=r(6955),u=r(292),d=r(5325),f=r(4184),p=r.n(f),v=r(9725),E=r(977),x=r(2053),_=r(7377);const b=(0,s.memo)((function(){var e=(0,m.useParams)().uid,t=(0,d.useSelector)((function(e){return e.account})).profile;if((null==t?void 0:t.userId)!==Number(e))return o().createElement(m.Redirect,{to:"/"});var r=(0,s.useState)(1),c=(0,n.Z)(r,2),f=c[0],b=c[1],y=(0,s.useState)([]),N=(0,n.Z)(y,2),g=N[0],h=N[1],k=function(){var t=(0,a.Z)(l().mark((function t(){var r,a,n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,i.Uz)({uid:e,type:f});case 3:r=t.sent,a=r.allData,n=r.weekData,h(1===f?n:a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return(0,s.useEffect)((function(){k()}),[f,e]),o().createElement("div",{className:"domUser_record h-full flex flex-col"},o().createElement("div",{className:"flex-none"},o().createElement("div",{className:"h1 ui_header"},"我的听歌排行"),o().createElement("div",{className:"domUser_record_nav px-8 pb-2 border-b space-x-8 text-sm"},o().createElement("button",{onClick:function(){return b(1)},type:"button",className:p()("domUser_record_nav_link",{"font-bold":1===f})},"最近一周"),o().createElement("button",{onClick:function(){return b(0)},type:"button",className:p()("domUser_record_nav_link",{"font-bold":0===f})},"所有时间"))),o().createElement("div",{className:"overflow-auto h-0 flex-auto domUser_record_main",style:{"--ui_grid_template":"36px / 24px 24px 24px 10fr 1fr"}},o().createElement("div",{className:"domUser_record_list"},g.map((function(e,t){var r=e.song,a=e.playCount;return o().createElement(u.Z,{item:r,key:r.id,schema:[["评论","播放","下一首播放"],["收藏到歌单","分享","复制链接","下载"]]},o().createElement("div",{tabIndex:"2",className:p()("domUser_record_item focus:outline-none focus:bg-gray-200 items-center hover:bg-gray-100 ui_grid_template px-8 grid",t%2==1&&"bg-gray-50")},o().createElement("div",{className:"index text-gray-400"},o().createElement(v.Z,{id:r.id,index:t})),o().createElement("div",{className:"heart"},o().createElement(E.Z,{id:r.id})),o().createElement("div",{className:"download"},o().createElement(x.Z,null)),o().createElement("div",{className:"name"},o().createElement(_.Z,{item:r})),o().createElement("div",{className:"playCount text-gray-400"},a,"次")))})))))}))}}]);