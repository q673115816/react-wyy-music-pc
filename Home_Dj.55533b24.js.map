{"version":3,"file":"Home_Dj.55533b24.js","mappings":"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","sources":["webpack://wyy/./src/pages/Home/Dj/Home.tsx","webpack://wyy/./src/pages/Home/Dj/Toplist/index.tsx","webpack://wyy/./src/pages/Home/Dj/index.tsx"],"sourcesContent":["import React, { useEffect, useState, memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setHomeDj } from '@/reducers/home/slice';\nimport Slider from 'react-slick';\nimport {\n  IconChevronLeft,\n  IconChevronRight,\n  IconChartBar,\n} from '@tabler/icons';\nimport {\n  apiDjBanner,\n  apiDjCatelist,\n  apiDjCategoryRecommend,\n  apiDjPersonalizeRecommend,\n  apiDjRadioHot,\n} from '@/api';\nimport DomSwiper from '@/components/Swiper';\nimport DomLoading from '@/components/Loading';\n\nimport './style.scss';\nimport classNames from 'classnames';\n\nconst DomDjNormal = memo(({ item = {} }) => (\n  <div className=\"item\">\n    <div className=\"cover relative rounded border overflow-hidden\">\n      <Link to={`/playlist/dj/${item.id}`} className=\"\">\n        <img loading={'lazy'} className=\"ui_aspect-ratio-1/1\" src={item.picUrl} alt=\"\" />\n        <div className=\"absolute bottom-0 left-0 right-0 h-1/4 ui_linear_mask_bottom\" />\n        <div className=\"absolute left-0 bottom-0 max-w-full px-2 py-1 text-white truncate\">\n          {item.name}\n        </div>\n      </Link>\n    </div>\n    <div className=\"footer mt-2 text-sm\">\n      <Link\n        to={`/playlist/dj/${item.id}`}\n        className=\"text-gray-600 hover:text-black\"\n      >\n        {item.rcmdtext}\n      </Link>\n    </div>\n  </div>\n));\n\nconst PrevArrow = ({ onClick }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    className=\"absolute right-full inset-y-0 z-10 w-8 h-8 flex-center text-gray-500 m-auto\"\n  >\n    <IconChevronLeft size={30} stroke={1} />\n  </button>\n);\n\nconst NextArrow = ({ onClick }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    className=\"absolute left-full inset-y-0 z-10 w-8 h-8 flex-center text-gray-500 m-auto\"\n  >\n    <IconChevronRight size={30} stroke={1} />\n  </button>\n);\n\nconst DomCategary = ({ catelist = [] }) => {\n  const settings = {\n    speed: 500,\n    infinite: false,\n    slidesToShow: 8,\n    slidesToScroll: 8,\n    draggable: false,\n    prevArrow: <PrevArrow />,\n    nextArrow: <NextArrow />,\n  };\n  return (\n    <div className=\"domHome_dj_nav px-10 mt-9\">\n      <Slider {...settings}>\n        <div className=\"item\">\n          <Link to=\"/home/dj/toplist\">\n            <div className=\"inner\">\n              <div className=\"btn flex-center ui_themeColor\">\n                <IconChartBar stroke={1} />\n              </div>\n              <div className=\"name text-gray-500 mt-2\">\n                排行榜\n              </div>\n            </div>\n          </Link>\n        </div>\n        {\n          catelist.map((item) => (\n            <div className=\"item\" key={item.id}>\n              <Link to={`/dj-category/${item.name}/${item.id}`}>\n                <div className=\"inner\">\n                  <div className=\"btn flex-center ui_themeColor\">\n                    <img className=\"w-8 h-8\" src={item.pic56x56Url} alt=\"\" />\n                  </div>\n                  <div className=\"name text-gray-500 mt-2\">\n                    {item.name}\n                  </div>\n                </div>\n              </Link>\n            </div>\n          ))\n        }\n      </Slider>\n    </div>\n  );\n};\n\nconst navs = [\n  '创作翻唱',\n  '声之剧场',\n  '音乐故事',\n  '情感调频',\n  '声音恋人'];\n\nexport default memo(() => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(true);\n  const {\n    DjBanner,\n    category,\n    catelist,\n    DjPersonalizeRecommend,\n    result,\n  } = useSelector(({ home }) => home.dj);\n\n  const handleInit = async () => {\n    try {\n      const [\n        DjBanner,\n        category,\n        catelist = [],\n        DjPersonalizeRecommend,\n        创作翻唱,\n        声之剧场,\n        音乐故事,\n        情感调频,\n        声音恋人] = await Promise.all([\n        apiDjBanner(),\n        apiDjCategoryRecommend(),\n        apiDjCatelist(),\n        apiDjPersonalizeRecommend(),\n        apiDjRadioHot({\n          cateId: 2001,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 10001,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 2,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 3,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 3001,\n          limit: 6,\n        }),\n      ]);\n      dispatch(setHomeDj({\n        DjBanner: DjBanner.data,\n        category: category.data,\n        catelist: catelist.categories,\n        DjPersonalizeRecommend: DjPersonalizeRecommend.data,\n        result: {\n          创作翻唱: 创作翻唱.djRadios,\n          声之剧场: 声之剧场.djRadios,\n          音乐故事: 音乐故事.djRadios,\n          情感调频: 情感调频.djRadios,\n          声音恋人: 声音恋人.djRadios,\n        },\n      }));\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, []);\n  if (loading) return <div className=\"flex-center w-full h-full\"><DomLoading /></div>;\n  return (\n    <div className=\"domHome_content px-8 overflow-auto max-h-full flex-auto\">\n      <div className=\"domHome_dj pb-16 ui_w1100\">\n        <div className=\"domHome_dj_banner\">\n          {\n            DjBanner.length > 0 && (\n              <DomSwiper list={DjBanner} coverSrc=\"pic\" />\n            )\n          }\n        </div>\n        <div className=\"domHome_item\">\n          <DomCategary catelist={catelist} />\n        </div>\n        <div className=\"domHome_item mt-8\">\n          <div className=\"domHome_linktitle h1\">电台个性推荐</div>\n          <div className=\"mt-4 grid grid-cols-5 gap-5\">\n            {\n              DjPersonalizeRecommend.slice(0, 5)\n                .map((item) => (\n                  <DomDjNormal item={item} key={item.id} />\n                ))\n            }\n          </div>\n        </div>\n        {\n          navs.map((name) => (\n            <div key={name} className=\"domHome_item mt-8\">\n              <Link className=\"domHome_linktitle h1\" to={`/dj-category/${name}`}>\n                {name}\n                &gt;\n              </Link>\n              <div className=\"mt-4 grid grid-cols-5 gap-5\">\n                {\n                  result[name].slice(0, 5)\n                    .map((item) => (\n                      <DomDjNormal item={item} key={item.id} />\n                    ))\n                }\n              </div>\n            </div>\n          ))\n        }\n      </div>\n\n    </div>\n  );\n});\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from 'react';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport dayjs from 'dayjs';\nimport {\n  IconPlayerPlay, IconArrowUp, IconArrowDown, IconMinus,\n} from '@tabler/icons';\nimport classNames from 'classnames';\nimport { Link, NavLink } from 'react-router-dom';\nimport { apiDjProgramToplist, apiDjToplist } from '@/api';\nimport './style.scss';\n\nconst navs = [\n  ['节目榜', '/home/dj/toplist'],\n  ['新晋电台榜', '/home/dj/toplist/now'],\n  ['热门电台榜', '/home/dj/toplist/hot'],\n];\n\nconst switchs = {\n  default: {\n    map({\n      lastRank,\n      rank,\n      score,\n      program: {\n        id,\n        name,\n        coverUrl,\n        radio: {\n          name: userName,\n          id: userId,\n          category,\n        },\n      },\n    }) {\n      return {\n        id,\n        name,\n        lastRank,\n        rank,\n        coverUrl,\n        score,\n        userName,\n        userId,\n        category,\n      };\n    },\n  },\n  other: {\n    map({\n      id,\n      name,\n      lastRank,\n      rank,\n      picUrl: coverUrl,\n      score,\n      dj: {\n        nickname: userName,\n        userId,\n      },\n      category,\n    }) {\n      return {\n        id,\n        name,\n        lastRank,\n        rank,\n        coverUrl,\n        score,\n        userName,\n        userId,\n        category,\n      };\n    },\n  },\n};\n\nconst TransRank = memo(({ lastRank, rank }) => {\n  switch (true) {\n    case (lastRank === -1):\n      return <div className=\"text-green-500\">new</div>;\n    case (lastRank - rank < 0):\n      return (\n        <div className=\"flex-center text-gray-500\">\n          <IconArrowDown size={10} className=\"text-blue-500\" />\n          {-lastRank + rank}\n        </div>\n      );\n    case (lastRank - rank === 0):\n      return (\n        <div className=\"flex-center text-gray-500\">\n          <IconMinus size={10} />\n          0\n        </div>\n      );\n    case (lastRank - rank > 0):\n      return (\n        <div className=\"flex-center text-gray-500\">\n          <IconArrowUp size={10} className=\"text-red-500\" />\n          {lastRank - rank}\n        </div>\n      );\n    default:\n      return <div />;\n  }\n});\n\nconst DomHeader = memo(({ updateTime }) => (\n  <div className=\"domHome_dj_toplist_header relative py-7\">\n    <div className=\"domHome_dj_toplist_nav m-auto w-min flex rounded-full border\" style={{ borderColor: '#bbb' }}>\n      {\n        navs.map(([name, path]) => (\n          <NavLink\n            key={name}\n            to={path}\n            exact\n            activeStyle={{ backgroundColor: '#bbb' }}\n            activeClassName=\"text-white\"\n            className=\"domHome_dj_toplist_nav_link flex-center w-28 h-8 rounded-full text-center hover:bg-gray-100\"\n          >\n            {name}\n          </NavLink>\n        ))\n      }\n    </div>\n    <div className=\"absolute flex-center top-1/2 transform -translate-y-1/2 right-8 text-gray-400\">\n      最近更新：\n      {updateTime && dayjs(updateTime).format('MM月DD日')}\n      <div className=\"relative ui_group\">\n        <span className=\"block flex-center  border rounded-full w-4 h-4 flex-none\">?</span>\n        <div className=\"absolute text-gray-500 top-6 right-0 shadow rounded p-4 w-48 border hidden ui_group-hover:block bg-white\">\n          选取云音乐中7天内发布的热度最高的节目，热度由节目播放、赞、分享数量总和计算\n        </div>\n      </div>\n    </div>\n  </div>\n));\n\nconst DomItem = memo(({ item, index, maxScore }) => (\n  <div\n    tabIndex=\"2\"\n    className={classNames('item h-20 flex items-center hover:bg-gray-100 focus:bg-gray-100 focus:outline-none', { 'bg-gray-50': index % 2 === 0 })}\n    key={item.id}\n  >\n    <div className=\"index flex flex-col items-center justify-center\">\n      <div className={classNames('font-bold text-sm', {\n        'text-red-500': index < 3,\n        'text-gray-400': index > 2,\n      })}\n      >\n        {index + 1}\n      </div>\n      <div>\n        <TransRank lastRank={item.lastRank} rank={item.rank} />\n      </div>\n    </div>\n    <button type=\"button\" className=\"cover relative\">\n      <img src={`${item.coverUrl}?param=60y60`} alt=\"\" />\n      <i className=\"ico ui_themeColor absolute inset-0 flex-center rounded-full w-6 h-6 m-auto bg-white bg-opacity-90\">\n        <IconPlayerPlay size={16} className=\"fill-current\" />\n      </i>\n    </button>\n    <div className=\"name flex-auto truncate\">\n      {item.name}\n    </div>\n    <div className=\"radio flex-auto truncate\">\n      <Link\n        className=\"ui_text_gray_hover\"\n        to={`/playlist/dj/${item.userId}`}\n      >\n        {item.userName}\n      </Link>\n    </div>\n    <div className=\"category\">\n      <Link to=\"/\" className=\"ui_text_gray_hover border border-current\">\n        {item.category}\n      </Link>\n    </div>\n    <div className=\"score\">\n      <div className=\"rounded bg-gray-300 overflow-hidden h-2\">\n        <div className=\"h-full bg-gray-500 w-0\" style={{ width: `${(item.score / maxScore) * 100}%` }} />\n      </div>\n    </div>\n  </div>\n));\n\nexport default memo(({ type }) => {\n  const [data, setData] = useState([]);\n  const [updateTime, setUpdateTime] = useState();\n  const memoType = useMemo(() => (type ? 'other' : 'default'), [type]);\n  // const obj = {\n  //   lastRank,\n  //   rank,\n  //   name,\n  //   id,\n  //   coverUrl,\n  //   score,\n  //   category,\n  //   radio: {\n  //     userName,\n  //     userId,\n  //   }\n  // };\n  const handleInit = async () => {\n    try {\n      const { toplist, updateTime } = type\n        ? (await apiDjToplist({ type }))\n        : (await apiDjProgramToplist());\n      unstable_batchedUpdates(() => {\n        setData(toplist.map(switchs[memoType].map));\n        setUpdateTime(updateTime);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const maxScore = useMemo(() => data[0]?.score ?? 0, [data]);\n\n  useEffect(() => {\n    handleInit();\n  }, [type]);\n  return (\n    <div className=\"domHome_dj_toplist h-full overflow-auto\">\n      <DomHeader updateTime={updateTime} />\n      <div className=\"domHome_dj_toplist_main\">\n        <div className=\"list\">\n          {\n            data.map((item, index) => (\n              <DomItem item={item} index={index} key={item.id} maxScore={maxScore} />\n            ))\n          }\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport useMemoParams from '@/hooks/useMemoParams';\nimport DomHome from './Home';\nimport DomToplist from './Toplist';\n\nexport default memo(() => (\n  <Switch>\n    <Route path=\"/home/dj/toplist/:type?\">\n      {useMemoParams(DomToplist)}\n    </Route>\n    <Route path=\"/home/dj\">\n      <DomHome />\n    </Route>\n  </Switch>\n));\n"],"names":["DomDjNormal","memo","item","className","Link","to","id","loading","src","picUrl","alt","name","rcmdtext","PrevArrow","onClick","type","IconChevronLeft","size","stroke","NextArrow","IconChevronRight","DomCategary","catelist","settings","speed","infinite","slidesToShow","slidesToScroll","draggable","prevArrow","nextArrow","IconChartBar","map","key","pic56x56Url","navs","dispatch","useDispatch","useState","setLoading","useSelector","home","dj","DjBanner","category","DjPersonalizeRecommend","result","handleInit","Promise","all","apiDjBanner","apiDjCategoryRecommend","apiDjCatelist","apiDjPersonalizeRecommend","apiDjRadioHot","cateId","limit","创作翻唱","声之剧场","音乐故事","情感调频","声音恋人","setHomeDj","data","categories","djRadios","console","log","useEffect","length","list","coverSrc","slice","switchs","default","lastRank","rank","score","program","coverUrl","radio","userName","userId","other","nickname","TransRank","IconArrowDown","IconMinus","IconArrowUp","DomHeader","updateTime","style","borderColor","path","NavLink","exact","activeStyle","backgroundColor","activeClassName","format","DomItem","index","maxScore","tabIndex","IconPlayerPlay","width","setData","setUpdateTime","memoType","useMemo","apiDjToplist","apiDjProgramToplist","toplist","unstable_batchedUpdates","Switch","Route","DomToplist"],"sourceRoot":""}