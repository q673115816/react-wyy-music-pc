"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[5465],{23299:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var n=a(319),r=(0,l.Z)(n),c=a(48926),s=(0,l.Z)(c),u=a(63038),d=(0,l.Z)(u),i=a(87757),f=(0,l.Z)(i);a(68309),a(92222);var m=a(87363),o=(0,l.Z)(m),v=a(21624),x=a(66711),p=a(63233),E=a(16719),h=a(26405);a(20142);var N=a(36871),g=(0,l.Z)(N),_=a(99709),k=(0,l.Z)(_),y=a(74849),b=(0,l.Z)(y),w=a(664),Z=(0,l.Z)(w),F=a(92613),I=(0,l.Z)(F);exports.default=(0,m.memo)((function(){console.log("friend");var e=(0,v.useSelector)((function(e){return e.account})).profile,t=(0,m.useState)([]),a=(0,d.default)(t,2),l=a[0],n=a[1],c=(0,m.useState)([]),u=(0,d.default)(c,2),i=u[0],N=u[1],_=(0,v.useDispatch)(),y=(0,m.useRef)(),w=(0,m.useRef)(),F=(0,m.useRef)(-1),L=function(){var e=(0,s.default)(f.default.mark((function e(){var t,a;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.apiHotTopic)({limit:5});case 3:t=e.sent,a=t.hot,N(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.default)(f.default.mark((function e(){var t,a,l;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.apiEvent)({lasttime:F.current});case 3:t=e.sent,a=t.event,l=t.lasttime,F.current=l,n((function(e){return[].concat((0,r.default)(e),(0,r.default)(a))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){n([]),L()}),[]),(0,k.default)(C,y,w),o.default.createElement("div",{className:"domFriend h-full overflow-auto",ref:y},o.default.createElement("div",{className:"flex divide-x"},o.default.createElement("div",{className:"domFriend_left relative flex-auto"},o.default.createElement("div",{className:"domFriend_header h-14 px-8 flex items-center sticky top-0 z-10 bg-white"},o.default.createElement("span",{className:"h1"},"动态"),o.default.createElement("button",{type:"button",className:"flex ml-auto items-center ui_theme_bg_color text-white h-6 px-3 rounded-full"},o.default.createElement(E.IconPlus,{size:12,stroke:5}),"写动态")),o.default.createElement("div",{className:"domFriend_content"},o.default.createElement("div",{className:"px-8"},o.default.createElement(Z.default,{list:l})),o.default.createElement("div",{className:"flex-center",ref:w},0===l.length?o.default.createElement("div",{className:"empty text-center text-gray-400 pt-48"},"暂无动态"):o.default.createElement(b.default,null)))),o.default.createElement("div",{className:"domFriend_right flex-none",style:{width:250}},o.default.createElement("div",{className:"domFriend_user"},e.userId?o.default.createElement("div",{className:"logined h-40 pt-8 bg-gray-100"},o.default.createElement("div",{className:"top flex px-5 items-start"},o.default.createElement(x.Link,{to:"/user/".concat(e.userId),className:"avatar w-12 h-12 rounded-full overflow-hidden"},o.default.createElement("img",{className:"",src:"".concat(e.avatarUrl,"?param=100y100"),alt:""})),o.default.createElement("div",{className:"flex-center"},o.default.createElement(x.Link,{to:"/user/".concat(e.userId),className:"nickname ml-2.5"},e.nickname)," ",o.default.createElement(g.default,{gender:e.gender,size:14}))),o.default.createElement("div",{className:"infos flex divide-x text-center mt-4"},o.default.createElement(x.Link,{to:"/user/".concat(e.userId,"/dynamic"),className:"info flex-1 ui_text_black_hover"},o.default.createElement("div",{className:"num text-xl"},e.eventCount),o.default.createElement("div",{className:"string"},"动态")),o.default.createElement(x.Link,{to:"/user/".concat(e.userId,"/follow"),className:"info flex-1 ui_text_black_hover"},o.default.createElement("div",{className:"num text-xl"},e.follows),o.default.createElement("div",{className:"string"},"关注")),o.default.createElement(x.Link,{to:"/user/".concat(e.userId,"/fans"),className:"info flex-1 ui_text_black_hover"},o.default.createElement("div",{className:"num text-xl"},e.followeds),o.default.createElement("div",{className:"string"},"粉丝")))):o.default.createElement("div",{className:"nologin px-5"},o.default.createElement("div",{style:{height:170}}),o.default.createElement("div",{className:"tips text-center text-gray-500"},"登录网易云音乐，可以享受无限收藏的乐趣，并且无限同步到手机"),o.default.createElement("button",{type:"button",className:"login ui_theme_bg_color text-white w-full h-10 mt-4",onClick:function(){return _((0,h.setLoginVisibilty)(!0))}},"立即登录"))),o.default.createElement("div",{className:"domFriend_hotTopic mt-5"},o.default.createElement("div",{className:"header flex px-5 mb-2.5"},o.default.createElement("span",{className:"font-bold"},"热门话题"),o.default.createElement(x.Link,{className:"text-gray-400 ml-auto",to:"/friend/hotTopic"},"更多 >")),o.default.createElement(I.default,{list:i})))))}))},20142:(e,t,a)=>{a.r(t)}}]);