{"version":3,"file":"js/Video.js?version=421a6f86","mappings":"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","sources":["webpack://@wyy/web/./src/features/Video/Video.tsx","webpack://@wyy/web/./src/features/Video/VideoList/components/Select/Select.tsx","webpack://@wyy/web/./src/features/Video/VideoList/index.tsx","webpack://@wyy/web/./src/features/Video/MVList/index.tsx","webpack://@wyy/web/./src/features/Video/Router.tsx"],"sourcesContent":["import React, { memo } from \"react\";\nimport { NavLink, Routes, Navigate, Route, Outlet } from \"react-router-dom\";\nimport VideoList from \"./VideoList\";\nimport MVList from \"./MVList\";\n\nconst navs = [\n  [\"视频\", \"/video/videolist\"],\n  [\"MV\", \"/video/mvlist\"],\n];\n\nexport default memo(() => (\n  <div className=\"domVideoList flex flex-col h-full\">\n    <div className=\"domVideoList_header ui_header text-base space-x-4\">\n      {navs.map(([name, path]) => (\n        <NavLink\n          key={name}\n          className={({ isActive }) =>\n            isActive ? \"text-xl ui_underline font-bold\" : \"\"\n          }\n          to={path}\n        >\n          {name}\n        </NavLink>\n      ))}\n    </div>\n    <Outlet />\n  </div>\n));\n","import classNames from \"classnames\";\nimport {\n  setVideoListId,\n  VideoListSelector,\n} from \"@/modules/reducers/videolist/slice\";\nimport React, { memo, FC } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"@/modules/hooks\";\nimport \"./style.scss\";\n\ninterface iProps {\n  id: number;\n}\n\nconst Select: FC<iProps> = ({ id }) => {\n  const dispatch = useAppDispatch();\n  const { groupList } = useAppSelector(VideoListSelector);\n  return (\n    <div className=\"group_select_box absolute top-100 p-5 bg-white overflow-auto shadow\">\n      <div className=\"border-b pb-2\">\n        <button\n          type=\"button\"\n          className={classNames(\n            \"group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor\",\n            id === 0 ? \"text-red-500 bg-red-50\" : \"\"\n          )}\n          onClick={() => dispatch(setVideoListId({ id: 0 }))}\n        >\n          全部视频\n        </button>\n      </div>\n      <div className=\"group_select_list grid grid-cols-6 gap-y-5 p-4\">\n        {groupList.map((item) => (\n          <button\n            type=\"button\"\n            className={classNames(\n              \"group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor\",\n              item.id === id ? \"text-red-500 bg-red-50\" : \"\"\n            )}\n            key={item.id}\n            onClick={() => dispatch(setVideoListId({ id: item.id }))}\n          >\n            {item.name}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Select);\n","import React, { memo, useEffect, useState, useRef, useMemo } from \"react\";\nimport classNames from \"classnames\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport DomGridVideo from \"@/components/GridVideo\";\nimport {\n  handleAddList,\n  handlePrevInit,\n  setVideoListId,\n  setVideoListInit,\n  Category,\n  VideoListSelector,\n} from \"@/modules/reducers/videolist/slice\";\nimport { useAppSelector, useAppDispatch } from \"@/modules/hooks\";\nimport DomLoading from \"@/components/Loading\";\nimport Select from \"./components/Select\";\n\nconst VideoList = () => {\n  const dispatch = useAppDispatch();\n  const { id, initStatus, groupList, categoryList, videoList } =\n    useAppSelector(VideoListSelector);\n  const [groupListVisibility, setGroupListVisibility] = useState(false);\n  const currentNav = useMemo(\n    () =>\n      groupList.find((group) => group.id === Number(id))?.name || \"全部视频\",\n    [id]\n  );\n\n  const domScroll = useRef<HTMLDivElement>(null);\n  const domObserver = useRef<HTMLDivElement>(null);\n\n  useInfinite(() => dispatch(handleAddList(id)), domScroll, domObserver);\n\n  useEffect(() => {\n    dispatch(handlePrevInit());\n    return () => {\n      dispatch(setVideoListInit());\n    };\n  }, []);\n\n  useEffect(() => {\n    dispatch(setVideoListInit());\n  }, [id]);\n\n  return (\n    <div\n      className=\"domVideoList_content px-8 overflow-auto flex-auto\"\n      ref={domScroll}\n    >\n      <div className=\"video_sort_filter_bar flex items-center justify-between\">\n        <div className=\"group_select_wrap relative z-10\">\n          <button\n            type=\"button\"\n            className=\"group_select_button border rounded-full hover:bg-gray-100 text-sm\"\n            onClick={() => setGroupListVisibility(!groupListVisibility)}\n          >\n            {currentNav}\n            &gt;\n          </button>\n          {groupListVisibility && <Select id={id} />}\n        </div>\n        <div className=\"recommend_nav divide-x flex\">\n          {categoryList.map((item: Category) => (\n            <div key={item.id}>\n              <button\n                type=\"button\"\n                className={classNames(\n                  \"recommend_nav_link rounded-full px-2 mx-1\",\n                  id === item.id\n                    ? \"bg-red-50 text-red-500\"\n                    : \"ui_text_black_hover\"\n                )}\n                onClick={() => dispatch(setVideoListId({ id: item.id }))}\n              >\n                {item.name}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"my-4\">\n        <DomGridVideo list={videoList} />\n        <div ref={domObserver} className=\"flex-center\">\n          <DomLoading />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(VideoList);\n","import React, { useEffect, memo, useMemo } from \"react\";\nimport { useAppSelector, useAppDispatch } from \"@/modules/hooks\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport { IconChevronRight } from \"@tabler/icons\";\nimport GridVideo from \"@/components/GridVideo\";\nimport GridMVToplist from \"@/components/GridMVToplist\";\nimport Loading from \"@/components/Loading\";\nimport {\n  handleInit,\n  handleChangeFirstArea,\n  handleChangeTopArea,\n  MVListSelector,\n} from \"@/modules/reducers/mvlist/slice\";\n\nconst category = [\"内地\", \"港台\", \"欧美\", \"日本\", \"韩国\"];\n\nexport default memo(function MVList() {\n  const dispatch = useAppDispatch();\n  const { firstArea, topArea, first, hot, wy, top, timestamp } =\n    useAppSelector(MVListSelector);\n  const memoLoading = useMemo(\n    () => Date.now() - timestamp > 3600000,\n    [timestamp]\n  );\n\n  useEffect(() => {\n    if (memoLoading) {\n      dispatch(\n        handleInit({\n          firstArea,\n          topArea,\n        })\n      );\n    }\n  }, [memoLoading]);\n\n  if (memoLoading)\n    return (\n      <div className=\"w-full h-full flex-center\">\n        <Loading />\n      </div>\n    );\n  return (\n    <div className=\"domVideoList_content px-8 overflow-auto max-h-full flex-auto\">\n      <div className=\"domMVList_sublist\">\n        <div className=\"domMVList_header mb-5 flex justify-between items-center\">\n          <Link\n            to={`/mv-all?order=最新&area=${firstArea}`}\n            className=\"domMVList_subLink font-bold text-base flex items-center\"\n          >\n            最新MV\n            <IconChevronRight size={20} />\n          </Link>\n          <div className=\"recommend_nav flex divide-x space-x-1\">\n            {category.map((item) => (\n              <div className=\"item\" key={item}>\n                <button\n                  onClick={() => dispatch(handleChangeFirstArea(item))}\n                  type=\"button\"\n                  className={classNames(\n                    \"link rounded-full px-2.5\",\n                    firstArea === item\n                      ? \"text-red-500 bg-red-50\"\n                      : \"ui_text_black_hover\"\n                  )}\n                >\n                  {item}\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n        <GridVideo list={first} />\n      </div>\n      <div className=\"domMVList_sublist\">\n        <div className=\"domMVList_header mt-8 mb-5 flex justify-between items-center\">\n          <Link\n            to=\"/mv-all?order=最热\"\n            className=\"domMVList_subLink font-bold text-base flex items-center\"\n          >\n            热播MV\n            <IconChevronRight size={20} />\n          </Link>\n        </div>\n        <GridVideo list={hot} />\n      </div>\n      <div className=\"domMVList_sublist\">\n        <div className=\"domMVList_header mt-8 mb-5 flex justify-between items-center\">\n          <Link\n            to=\"/mv-all?type=网易出品&order=最新\"\n            className=\"domMVList_subLink font-bold text-base flex items-center\"\n          >\n            网易出品\n            <IconChevronRight size={20} />\n          </Link>\n        </div>\n        <GridVideo list={wy} />\n      </div>\n      <div className=\"domMVList_header mt-8 mb-5 flex justify-between items-center\">\n        <Link\n          to=\"/toplist-mv/\"\n          className=\"domMVList_subLink font-bold text-base flex items-center\"\n        >\n          MV排行榜\n          <IconChevronRight size={20} />\n        </Link>\n        <div className=\"recommend_nav flex divide-x space-x-1\">\n          {category.map((item) => (\n            <div className=\"item\" key={item}>\n              <button\n                onClick={() => dispatch(handleChangeTopArea(item))}\n                type=\"button\"\n                className={classNames(\n                  \"link rounded-full px-2.5\",\n                  topArea === item\n                    ? \"text-red-500 bg-red-50\"\n                    : \"ui_text_black_hover\"\n                )}\n              >\n                {item}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      <GridMVToplist\n        list={top}\n        schema={[\n          [\"评论\", \"播放\"],\n          [\"收藏\", \"分享\", \"下载MV\", \"复制链接\"],\n        ]}\n      />\n    </div>\n  );\n});\n","import React from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport Video from \"./Video\";\nimport VideoList from \"./VideoList\";\nimport MVList from \"./MVList\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route element={<Video />}>\n        <Route path=\"videolist\" element={<VideoList />} />\n        <Route path=\"mvlist\" element={<MVList />} />\n        <Route path=\"*\" element={<Navigate to=\"videolist\" replace={true} />} />\n      </Route>\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["navs","memo","div","className","map","name","path","NavLink","key","isActive","to","Outlet","Select","id","dispatch","useAppDispatch","useAppSelector","VideoListSelector","groupList","button","type","classNames","onClick","setVideoListId","item","VideoList","initStatus","categoryList","videoList","useState","groupListVisibility","setGroupListVisibility","currentNav","useMemo","find","group","Number","domScroll","useRef","domObserver","useInfinite","handleAddList","useEffect","handlePrevInit","setVideoListInit","ref","DomGridVideo","list","DomLoading","category","MVListSelector","firstArea","topArea","first","hot","wy","top","timestamp","memoLoading","Date","now","handleInit","Loading","Link","IconChevronRight","size","handleChangeFirstArea","GridVideo","handleChangeTopArea","GridMVToplist","schema","Routes","Route","element","Video","MVList","Navigate","replace"],"sourceRoot":""}