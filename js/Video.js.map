{"version":3,"file":"js/Video.js?version=efbb55e3","mappings":"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","sources":["webpack://wyy/./src/features/Video/Video.tsx","webpack://wyy/./src/features/Video/VideoList/components/Select/Select.tsx","webpack://wyy/./src/features/Video/VideoList/index.tsx","webpack://wyy/./src/features/Video/MVList/index.tsx","webpack://wyy/./src/features/Video/Router.tsx"],"sourcesContent":["import React, { memo } from \"react\";\nimport { NavLink, Routes, Navigate, Route, Outlet } from \"react-router-dom\";\nimport VideoList from \"./VideoList\";\nimport MVList from \"./MVList\";\n\nconst navs = [\n  [\"视频\", \"/video/videolist\"],\n  [\"MV\", \"/video/mvlist\"],\n];\n\nexport default memo(() => (\n  <div className=\"domVideoList flex flex-col h-full\">\n    <div className=\"domVideoList_header ui_header text-base space-x-4\">\n      {navs.map(([name, path]) => (\n        <NavLink\n          key={name}\n          className={({ isActive }) =>\n            isActive ? \"text-xl ui_underline font-bold\" : \"\"\n          }\n          to={path}\n        >\n          {name}\n        </NavLink>\n      ))}\n    </div>\n    <Outlet />\n  </div>\n));\n","import classNames from \"classnames\";\nimport { setVideoListId, VideoListSelector } from \"@/reducers/videolist/slice\";\nimport React, { memo, FC } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"@/reducers/hooks\";\nimport \"./style.scss\";\n\ninterface iProps {\n  id: number;\n}\n\nconst Select: FC<iProps> = ({ id }) => {\n  const dispatch = useAppDispatch();\n  const { groupList } = useAppSelector(VideoListSelector);\n  return (\n    <div className=\"group_select_box absolute top-100 p-5 bg-white overflow-auto shadow\">\n      <div className=\"border-b pb-2\">\n        <button\n          type=\"button\"\n          className={classNames(\n            \"group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor\",\n            id === 0 ? \"text-red-500 bg-red-50\" : \"\"\n          )}\n          onClick={() => dispatch(setVideoListId({ id: 0 }))}\n        >\n          全部视频\n        </button>\n      </div>\n      <div className=\"group_select_list grid grid-cols-6 gap-y-5 p-4\">\n        {groupList.map((item) => (\n          <button\n            type=\"button\"\n            className={classNames(\n              \"group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor\",\n              item.id === id ? \"text-red-500 bg-red-50\" : \"\"\n            )}\n            key={item.id}\n            onClick={() => dispatch(setVideoListId({ id: item.id }))}\n          >\n            {item.name}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Select);\n","import React, { memo, useEffect, useState, useRef, useMemo } from \"react\";\nimport classNames from \"classnames\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport DomGridVideo from \"@/components/GridVideo\";\nimport {\n  handleAddList,\n  handlePrevInit,\n  setVideoListId,\n  setVideoListInit,\n  Category,\n  VideoListSelector,\n} from \"@/reducers/videolist/slice\";\nimport { useAppSelector, useAppDispatch } from \"@/reducers/hooks\";\nimport DomLoading from \"@/components/Loading\";\nimport Select from \"./components/Select\";\n\nconst VideoList = () => {\n  const dispatch = useAppDispatch();\n  const { id, initStatus, groupList, categoryList, videoList } =\n    useAppSelector(VideoListSelector);\n  const [groupListVisibility, setGroupListVisibility] = useState(false);\n  const currentNav = useMemo(\n    () =>\n      groupList.find((group) => group.id === Number(id))?.name || \"全部视频\",\n    [id]\n  );\n\n  const domScroll = useRef<HTMLDivElement>(null);\n  const domObserver = useRef<HTMLDivElement>(null);\n\n  useInfinite(() => dispatch(handleAddList(id)), domScroll, domObserver);\n\n  useEffect(() => {\n    dispatch(handlePrevInit());\n    return () => {\n      dispatch(setVideoListInit());\n    };\n  }, []);\n\n  useEffect(() => {\n    dispatch(setVideoListInit());\n  }, [id]);\n\n  return (\n    <div\n      className=\"domVideoList_content px-8 overflow-auto flex-auto\"\n      ref={domScroll}\n    >\n      <div className=\"video_sort_filter_bar flex items-center justify-between\">\n        <div className=\"group_select_wrap relative z-10\">\n          <button\n            type=\"button\"\n            className=\"group_select_button border rounded-full hover:bg-gray-100 text-sm\"\n            onClick={() => setGroupListVisibility(!groupListVisibility)}\n          >\n            {currentNav}\n            &gt;\n          </button>\n          {groupListVisibility && <Select id={id} />}\n        </div>\n        <div className=\"recommend_nav divide-x flex\">\n          {categoryList.map((item: Category) => (\n            <div key={item.id}>\n              <button\n                type=\"button\"\n                className={classNames(\n                  \"recommend_nav_link rounded-full px-2 mx-1\",\n                  id === item.id\n                    ? \"bg-red-50 text-red-500\"\n                    : \"ui_text_black_hover\"\n                )}\n                onClick={() => dispatch(setVideoListId({ id: item.id }))}\n              >\n                {item.name}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"my-4\">\n        <DomGridVideo list={videoList} />\n        <div ref={domObserver} className=\"flex-center\">\n          <DomLoading />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(VideoList);\n","import React, { useEffect, memo, useMemo } from \"react\";\nimport { useAppSelector, useAppDispatch } from \"@/reducers/hooks\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport { IconChevronRight } from \"@tabler/icons\";\nimport DomGridVideo from \"@/components/GridVideo\";\nimport DomGridMVToplist from \"@/components/GridMVToplist\";\nimport DomLoading from \"@/components/Loading\";\nimport {\n  handleInit,\n  handleChangeFirstArea,\n  handleChangeTopArea,\n  MVListSelector,\n} from \"@/reducers/mvlist/slice\";\n\nconst category = [\"内地\", \"港台\", \"欧美\", \"日本\", \"韩国\"];\n\nexport default memo(function MVList() {\n  const dispatch = useAppDispatch();\n  const { firstArea, topArea, first, hot, wy, top, timestamp } =\n    useAppSelector(MVListSelector);\n  const memoLoading = useMemo(\n    () => Date.now() - timestamp > 3600000,\n    [timestamp]\n  );\n\n  useEffect(() => {\n    if (memoLoading) {\n      dispatch(\n        handleInit({\n          firstArea,\n          topArea,\n        })\n      );\n    }\n  }, [memoLoading]);\n\n  if (memoLoading)\n    return (\n      <div className=\"w-full h-full flex-center\">\n        <DomLoading />\n      </div>\n    );\n  return (\n    <div className=\"domVideoList_content px-8 overflow-auto max-h-full flex-auto\">\n      <div className=\"domMVList_sublist\">\n        <div className=\"domMVList_header mb-5 flex justify-between items-center\">\n          <Link\n            to={`/mv-all?order=最新&area=${firstArea}`}\n            className=\"domMVList_subLink font-bold text-base flex items-center\"\n          >\n            最新MV\n            <IconChevronRight size={20} />\n          </Link>\n          <div className=\"recommend_nav flex divide-x space-x-1\">\n            {category.map((item) => (\n              <div className=\"item\" key={item}>\n                <button\n                  onClick={() => dispatch(handleChangeFirstArea(item))}\n                  type=\"button\"\n                  className={classNames(\n                    \"link rounded-full px-2.5\",\n                    firstArea === item\n                      ? \"text-red-500 bg-red-50\"\n                      : \"ui_text_black_hover\"\n                  )}\n                >\n                  {item}\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n        <DomGridVideo list={first} />\n      </div>\n      <div className=\"domMVList_sublist\">\n        <div className=\"domMVList_header mt-8 mb-5 flex justify-between items-center\">\n          <Link\n            to=\"/mv-all?order=最热\"\n            className=\"domMVList_subLink font-bold text-base flex items-center\"\n          >\n            热播MV\n            <IconChevronRight size={20} />\n          </Link>\n        </div>\n        <DomGridVideo list={hot} />\n      </div>\n      <div className=\"domMVList_sublist\">\n        <div className=\"domMVList_header mt-8 mb-5 flex justify-between items-center\">\n          <Link\n            to=\"/mv-all?type=网易出品&order=最新\"\n            className=\"domMVList_subLink font-bold text-base flex items-center\"\n          >\n            网易出品\n            <IconChevronRight size={20} />\n          </Link>\n        </div>\n        <DomGridVideo list={wy} />\n      </div>\n      <div className=\"domMVList_header mt-8 mb-5 flex justify-between items-center\">\n        <Link\n          to=\"/toplist-mv/\"\n          className=\"domMVList_subLink font-bold text-base flex items-center\"\n        >\n          MV排行榜\n          <IconChevronRight size={20} />\n        </Link>\n        <div className=\"recommend_nav flex divide-x space-x-1\">\n          {category.map((item) => (\n            <div className=\"item\" key={item}>\n              <button\n                onClick={() => dispatch(handleChangeTopArea(item))}\n                type=\"button\"\n                className={classNames(\n                  \"link rounded-full px-2.5\",\n                  topArea === item\n                    ? \"text-red-500 bg-red-50\"\n                    : \"ui_text_black_hover\"\n                )}\n              >\n                {item}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      <DomGridMVToplist\n        list={top}\n        schema={[\n          [\"评论\", \"播放\"],\n          [\"收藏\", \"分享\", \"下载MV\", \"复制链接\"],\n        ]}\n      />\n    </div>\n  );\n});\n","import React from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport Video from \"./Video\";\nimport VideoList from \"./VideoList\";\nimport MVList from \"./MVList\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route element={<Video />}>\n        <Route path=\"videolist\" element={<VideoList />} />\n        <Route path=\"mvlist\" element={<MVList />} />\n        <Route path=\"*\" element={<Navigate to=\"videolist\" replace={true} />} />\n      </Route>\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["navs","memo","className","map","name","path","NavLink","key","isActive","to","Outlet","Select","id","dispatch","useAppDispatch","groupList","useAppSelector","VideoListSelector","type","classNames","onClick","setVideoListId","item","VideoList","initStatus","categoryList","videoList","useState","groupListVisibility","setGroupListVisibility","currentNav","useMemo","find","group","Number","domScroll","useRef","domObserver","useInfinite","handleAddList","useEffect","handlePrevInit","setVideoListInit","ref","list","category","MVListSelector","firstArea","topArea","first","hot","wy","top","timestamp","memoLoading","Date","now","handleInit","Link","IconChevronRight","size","handleChangeFirstArea","handleChangeTopArea","schema","Routes","Route","element","Video","MVList","Navigate","replace"],"sourceRoot":""}