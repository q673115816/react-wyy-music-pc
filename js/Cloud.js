"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[413],{5339:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(7363),l=n.n(a),r=n(6711),c=(n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337),n(3321),n(9070),n(4942)),i=n(885),s=(n(1874),n(9653),n(8309),n(6977),n(1249),n(4916),n(4184)),o=n.n(s),m=n(7484),u=n.n(m),d=n(3578),p=n(1999),f=n(7390),E=n(1337),v=n(364),y=n(8123),b=n(3850),g=n(6719),N=n(7220).u.injectEndpoints({endpoints:function(e){return{getUserCloud:e.query({query:function(e){return{url:"user/cloud",method:"POST",body:e}}})}}}).useGetUserCloudQuery;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e,t,n){return String(e[n.code]).localeCompare(String(t[n.code]),"zh-CN")*n.type},k=[["音乐标题","songName",w],["歌手","artist",w],["专辑","album",w],["格式","",w],["大小","fileSize",function(e,t,n){return(Number.parseFloat(e[n.code])-Number.parseFloat(t[n.code]))*n.type}],["上传时间","addTime",function(e,t,n){return(e[n.code]-t[n.code])*n.type}]],S=function(){var e=(0,a.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],c=(0,a.useState)(""),s=(0,i.Z)(c,2),m=s[0],h=s[1],w=(0,a.useState)({name:"上传时间",type:-1,code:"addTime",callback:function(e,t,n){return(e[n.code]-t[n.code])*n.type}}),S=(0,i.Z)(w,2),O=S[0],_=S[1],j=N({limit:100}),Z=j.data,C=void 0===Z?{}:Z,z=j.isLoading,P=C.data,I=void 0===P?[]:P,M=(C.count,C.maxSize),D=void 0===M?"":M,F=C.size,T=void 0===F?"":F;return z?null:l().createElement("div",{className:"domManage overflow-auto h-full"},l().createElement("div",{className:"domManage_header ui_header"},l().createElement("span",{className:"domManage_header_title h1"},"我的音乐云盘")),l().createElement("div",{className:"domCloud_info py-2.5 px-8"},l().createElement("span",null,"云盘容量")," ",l().createElement("div",{className:"w-28 h-2.5 inline-block bg-gray-200 rounded-full overflow-hidden"},l().createElement("div",{className:"h-full bg-blue-600",style:{width:T/D*100||0}}))," ",l().createElement("span",{className:"num"},(T/1024/1024/1024).toFixed(2),"G/",D/1024/1024/1024,"G")," ",l().createElement("span",{className:"ml-8"},"歌曲永久保存，随时随地多端畅听")," ",l().createElement("a",{href:"https://music.163.com/#/store/product/detail?id=34001",className:"ui_link"},"扩容")),l().createElement("div",{className:"ui_headerBar border-b"},l().createElement("div",{className:"left space-x-2"},l().createElement(v.Z,null),l().createElement("button",{type:"button",className:"flex-center ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full"},l().createElement(g.IconPlus,{size:20}),"  上传音乐")),l().createElement("div",{className:"right"},l().createElement(d.Z,{search:m,setSearch:h,placeholder:"搜索我的音乐云盘"}))),l().createElement("div",{className:"overflow-auto max-h-full flex-auto pl-8 pr-5"},l().createElement("div",{className:"domManage_table",style:{"--ui_grid_template":"36px / 30px 30px 8fr 3fr 3fr 2fr 2fr 4fr"}},l().createElement("div",{className:"thead"},l().createElement("div",{className:"tr grid ui_grid_template items-center"},l().createElement("div",null),l().createElement("div",null),k.map((function(e){var t=(0,i.Z)(e,3),n=t[0],a=t[1],r=t[2];return l().createElement("div",{key:n,className:o()("cell px-1","th",{on:n===O.name}),onClick:function(){return function(e){if(O.name!==e.name)return _(x(x({},e),{},{type:1}));switch(O.type){case-1:return _({name:"",code:"",callback:function(e,t){return 0},type:0});case 1:return _(x(x({},e),{},{type:-1}));default:return _(x(x({},e),{},{type:1}))}}({item:n,code:a,callback:r})}},n,l().createElement("span",{className:"sort"},function(e,t){return t.name!==e?l().createElement(g.IconSwitchVertical,{size:14,color:"#f00",stroke:1}):-1===t.type?l().createElement(g.IconCaretDown,{size:20,stroke:0,fill:"#000"}):1===t.type?l().createElement(g.IconCaretUp,{size:12,stroke:0,fill:"#000"}):0===t.type?l().createElement(g.IconSwitchVertical,{size:14,color:"#f00",stroke:1}):void 0}(n,O)))})))),l().createElement("div",{className:"tbody"},I.map((function(e,t){var n,a,r,c,i,s,m;return l().createElement(p.Z,{type:"song",item:e,schema:[["播放","下一首播放"],["收藏到歌单","分享","下载"],["删除"]],key:e.songId},l().createElement("div",{className:o()("tr grid ui_grid_template items-center hover:bg-gray-100 focus:outline-none focus:bg-gray-200",t%2==0&&"bg-gray-50"),tabIndex:2},l().createElement("div",{className:"cell px-1 index text-gray-400"},l().createElement(f.Z,{index:t,id:e.songId})),l().createElement("div",{className:"cell px-1 download"},l().createElement(E.Z,null)),l().createElement("div",{className:"cell px-1 name truncate",title:e.songName+(null===(n=e.simpleSong)||void 0===n||null===(a=n.tns)||void 0===a?void 0:a.length)>0?"（".concat(null===(r=e.simpleSong)||void 0===r?void 0:r.tns,"）"):""},e.songName,(null===(c=e.simpleSong)||void 0===c||null===(i=c.tns)||void 0===i?void 0:i.length)>0&&l().createElement("span",{className:"text-gray-500"},"（".concat(e.simpleSong.tns,"）"))),l().createElement(y.Z,{className:"px-1",artists:e.simpleSong.ar}),l().createElement(b.Z,{className:"px-1",name:e.album,id:null===(s=e.simpleSong)||void 0===s||null===(m=s.al)||void 0===m?void 0:m.id}),l().createElement("div",{className:"cell px-1 truncate uppercase"},/(?<=\.)(\w*)$/.exec(e.fileName)[0]),l().createElement("div",{className:"cell px-1 truncate"},(e.fileSize/1024/1024).toFixed(1),"MB"),l().createElement("div",{className:"cell px-1 truncate text-gray-400"},u()(e.addTime).format("YYYY-MM-DD"))))}))))),l().createElement("div",{className:"domManage_dialog",style:{display:n?"":"none"}},l().createElement("button",{type:"button",className:"close",onClick:function(){r(!n)}},"×"),l().createElement("div",{className:"title"},"选择本地音乐文件夹"),l().createElement("div",{className:"tips"},"将自动扫描您勾选的目录，文件增删实时同步。"),l().createElement("ul",null,l().createElement("li",null,l().createElement("span",{className:"checkbox"},l().createElement("input",{type:"text"}),l().createElement("i",{className:"material-icons"},"checkbox")),"暂时没法做")),l().createElement("div",{className:"actions"},l().createElement("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full red"},"确认"),l().createElement("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full"},"添加文件"))))};const O=(0,a.memo)(S),_=function(){return l().createElement(r.Routes,null,l().createElement(r.Route,{index:!0,element:l().createElement(O,null)}))}}}]);
//# sourceMappingURL=Cloud.js.map?version=8a8a2a71