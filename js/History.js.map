{"version":3,"file":"js/History.js?version=389d3c86","mappings":"kTAUMA,EAAU,WACd,IAAM,GAAcC,EAAAA,EAAAA,GAAeC,EAAAA,eAA3BC,QAER,OADAC,QAAQC,IAAIF,GACW,IAAnBA,EAAQG,OAER,kBAACC,MAAG,CAACC,UAAU,mCAAkC,aAInD,kBAACD,MAAG,CACFC,UAAU,OACVC,MAAO,CAAE,qBAAsB,4BAE/B,kBAACF,MAAG,KACF,kBAACA,MAAG,CAACC,UAAU,oDACb,kBAACD,MAAG,CAACC,UAAU,oBAAmB,QAC1B,kBAAPD,MAAG,CAACC,UAAU,QAAO,MAClB,kBAAHD,MAAG,CAACC,UAAU,QAAO,SAEvBL,EAAQO,KAAI,SAACC,EAAMC,G,OAClB,kBAACC,EAAAA,EAAU,CACTC,OAAQ,CACN,CAAC,KAAU,KAAU,SACH,CAAjB,QAAmB,KAAU,OAAgB,OAAgB,OAElCC,KAAK,OACLJ,KAAMA,EACNK,IAAKL,EAAKM,KAAON,EAAKO,GACtBC,SAAS,IACTX,UAAWY,IACT,gGACA,CAAE,aAAcR,EAAQ,GAAM,KAGhC,oCACE,kBAACL,MAAG,CAACC,UAAU,yBACb,kBAACa,EAAAA,EAAI,CAACT,MAAOA,KAEf,kBAACU,EAAAA,EAAI,CAACX,KAAMA,EAAMH,UAAU,SAC5B,kBAACe,EAAAA,EAAO,CAACC,QAASb,EAAKc,GAAIjB,UAAU,SACrC,kBAACD,MAAG,CAACC,UAAU,wCACZkB,IAAMf,EAAKgB,UAAUC,mBAUtC,SAAeC,EAAAA,EAAAA,MAAK7B,GCxDlD0B,IAAAA,OAAaI,KACbJ,IAAAA,OAAa,SAQb,IAAMK,EAAU,YACdC,EAAAA,EAAAA,KACA,IAAMC,GAAWC,EAAAA,EAAAA,KAMjB,OACE,kBAAC3B,MAAG,CAACC,UAAU,6CACb,kBAACD,MAAG,CAACC,UAAU,oBACb,kBAACD,MAAG,CAACC,UAAU,0BACb,kBAACD,MAAG,CAACC,UAAU,MAAK,QAAkB,MAEtC,kBAACD,MAAG,CAACC,UAAU,iBAAiB,IAAqB,OAAfL,QAAQG,OAAO,MACjD,kBAAH6B,SAAM,CACLC,QAZU,WAClB,GAAuB,IAAnBjC,QAAQG,OAAc,OAAO,EACjC2B,GAASI,EAAAA,EAAAA,0BAWDtB,KAAK,SACLP,UAAWY,IACT,kBACmB,IAAnBjB,QAAQG,OAAe,gBAAkB,YAE5C,SAIH,kBAACgC,EAAAA,EAAS,CAACC,SAAUpC,WAEvB,kBAACH,EAAO,QAKd,SAAe6B,EAAAA,EAAAA,MAAKE,GCpCpB,EARe,WACb,OACE,kBAACS,EAAAA,OAAM,KACL,kBAACC,EAAAA,MAAK,CAAC7B,OAAAA,EAAM8B,QAAS,kBAACX,EAAO","sources":["webpack://@wyy/web/./src/features/History/Content.tsx","webpack://@wyy/web/./src/features/History/History.tsx","webpack://@wyy/web/./src/features/History/Router.tsx"],"sourcesContent":["import MenuCreate from \"@/components/MenuCreate/MenuCreate\";\nimport classNames from \"classnames\";\nimport Rank from \"@/components/Table/Rank\";\nimport Name from \"@/components/Table/Name\";\nimport Artists from \"@/components/Table/Artists\";\nimport dayjs from \"dayjs\";\nimport React, { memo } from \"react\";\nimport { useAppSelector } from \"@/modules/hooks\";\nimport { audioSelector } from \"@/modules/reducers/audio/slice\";\n\nconst Content = () => {\n  const { history } = useAppSelector(audioSelector);\n  console.log(history);\n  if (history.length === 0) {\n    return (\n      <div className=\"text-center pt-40 text-gray-400\">你还没播放任何音乐</div>\n    );\n  }\n  return (\n    <div\n      className=\"pb-8\"\n      style={{ \"--ui_grid_template\": \"36px / 54px 45% 5fr 3fr\" }}\n    >\n      <div>\n        <div className=\"grid items-center text-gray-500 ui_grid_template\">\n          <div className=\"col-start-2 px-2\">音乐标题</div>\n          <div className=\"px-2\">歌手</div>\n          <div className=\"px-2\">播放时间</div>\n        </div>\n        {history.map((item, index) => (\n          <MenuCreate\n            schema={[\n              [\"评论\", \"播放\", \"下一首播放\"],\n              [\"收藏到歌单\", \"分享\", \"复制链接\", \"不感兴趣\", \"下载\"],\n            ]}\n            type=\"song\"\n            item={item}\n            key={item.name + item.id}\n            tabIndex=\"2\"\n            className={classNames(\n              \"grid h-9 items-center hover:bg-gray-100 focus:bg-gray-200 focus:outline-none ui_grid_template\",\n              { \"bg-gray-50\": index % 2 === 0 }\n            )}\n          >\n            <>\n              <div className=\"index pr-3 text-right\">\n                <Rank index={index} />\n              </div>\n              <Name item={item} className=\"px-2\" />\n              <Artists artists={item.ar} className=\"px-2\" />\n              <div className=\"duration text-gray-400 truncate px-2\">\n                {dayjs(item.lastTime).fromNow()}\n              </div>\n            </>\n          </MenuCreate>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Content);\n","import React, { memo } from \"react\";\nimport classNames from \"classnames\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/zh-cn\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\ndayjs.extend(relativeTime);\ndayjs.locale(\"zh-cn\");\n\nimport useLoginStatus from \"@/hooks/useLoginStatus\";\nimport GroupPlay from \"@/components/GroupPlay\";\nimport { setAudioHistoryClear } from \"@/modules/reducers/audio/slice\";\nimport { useAppDispatch } from \"@/modules/hooks\";\nimport Content from \"./Content\";\n\nconst History = () => {\n  useLoginStatus();\n  const dispatch = useAppDispatch();\n\n  const handleClear = () => {\n    if (history.length === 0) return false;\n    dispatch(setAudioHistoryClear());\n  };\n  return (\n    <div className=\"w-full overflow-auto max-h-full flex-auto\">\n      <div className=\"px-8 pb-2.5 pt-6\">\n        <div className=\"flex items-center pb-8\">\n          <div className=\"h1\">最近播放</div>\n          &nbsp; &nbsp;\n          <div className=\"text-gray-400\">{`共${history.length}首`}</div>\n          <button\n            onClick={handleClear}\n            type=\"button\"\n            className={classNames(\n              \"ml-auto text-sm\",\n              history.length === 0 ? \"text-gray-300\" : \"ui_link\"\n            )}\n          >\n            清空列表\n          </button>\n        </div>\n        <GroupPlay playlist={history} />\n      </div>\n      <Content />\n    </div>\n  );\n};\n\nexport default memo(History);\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport History from \"./History\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route index element={<History />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["Content","useAppSelector","audioSelector","history","console","log","length","div","className","style","map","item","index","MenuCreate","schema","type","key","name","id","tabIndex","classNames","Rank","Name","Artists","artists","ar","dayjs","lastTime","fromNow","memo","relativeTime","History","useLoginStatus","dispatch","useAppDispatch","button","onClick","setAudioHistoryClear","GroupPlay","playlist","Routes","Route","element"],"sourceRoot":""}