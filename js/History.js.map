{"version":3,"file":"js/History.js?version=deb227d3","mappings":"2SAUMA,EAAU,WACd,IAAQC,GAAYC,EAAAA,EAAAA,GAAeC,EAAAA,eAA3BF,QAER,OADAG,QAAQC,IAAIJ,GACW,IAAnBA,EAAQK,OACJ,kBACHC,MAAG,CAACC,UAAU,mCAAkC,aAG/C,kBACHD,MAAG,CACFC,UAAU,OACVC,MAAO,CAAE,qBAAsB,4B,kBAE9BF,MAAG,uBACDA,MAAG,CAACC,UAAU,oD,kBACZD,MAAG,CAACC,UAAU,oBAAmB,QAAI,yBACjCA,UAAU,QAAO,MAAE,wBACpB,CAACA,UAAU,QAAO,SAAI,EAEnBP,KAAI,SAACS,EAAMC,GAClB,OAAM,kBAALC,EAAAA,EAAU,CACTC,OAAQ,CACN,CAAC,KAAU,KAAU,SACH,CAAjB,QAAmB,KAAU,OAAgB,OAAgB,OAElCC,KAAK,OACLJ,KAAMA,EACNK,IAAKL,EAAKM,GACVC,SAAS,IACTT,UAAWU,GAAAA,CACT,gGACA,CAAE,aAAcP,EAAQ,GAAM,K,sDAI7BJ,MAAG,CAACC,UAAU,yB,kBACZW,EAAAA,EAAI,CAACR,MAAOA,K,kBAEdS,EAAAA,EAAI,CAACV,KAAMA,EAAMF,UAAU,S,kBAC3Ba,EAAAA,EAAO,CAACC,QAASZ,EAAKa,GAAIf,UAAU,S,kBACpCD,MAAG,CAACC,UAAU,wCACZgB,GAAAA,CAAMd,EAAKe,UAAUC,mBAUtC,SAAeC,EAAAA,EAAAA,MAAK3B,GCxDlDwB,IAAAA,OAAaI,KACbJ,IAAAA,OAAa,SAQb,IAAMK,EAAU,YACdC,EAAAA,EAAAA,KACA,IAAMC,GAAWC,EAAAA,EAAAA,KAMjB,OAAM,kBACHzB,MAAG,CAACC,UAAU,6C,kBACZD,MAAG,CAACC,UAAU,oB,kBACZD,MAAG,CAACC,UAAU,0B,kBACZD,MAAG,CAACC,UAAU,MAAK,QAAI,MAEhB,yBAAHA,UAAU,iBAAkB,IAAC,OAAmB,QAATF,OAAQ,MAAI,2BACjD,CACL2B,QAZU,WAClB,GAAuB,IAAnBhC,QAAQK,OAAc,OAAO,EACjCyB,GAASG,EAAAA,EAAAA,0BAWDpB,KAAK,SACLN,UAAWU,GAAAA,CACT,kBACmB,IAAnBjB,QAAQK,OAAe,gBAAkB,YAE5C,SAED,sBAED6B,CAAUC,SAAUnC,W,kBAEtBD,EAAO,QAKd,SAAe2B,EAAAA,EAAAA,MAAKE,GCpCpB,EARe,WACb,OAAM,kBACHQ,EAAAA,OAAM,uBACJC,EAAAA,MAAK,CAAC3B,OAAAA,EAAM4B,QAAO,kBAAGV,EAAO","sources":["webpack://wyy/./src/features/History/Content.tsx","webpack://wyy/./src/features/History/History.tsx","webpack://wyy/./src/features/History/Router.tsx"],"sourcesContent":["import MenuCreate from \"@/components/MenuCreate/MenuCreate\";\nimport classNames from \"classnames\";\nimport Rank from \"@/components/Table/Rank\";\nimport Name from \"@/components/Table/Name\";\nimport Artists from \"@/components/Table/Artists\";\nimport dayjs from \"dayjs\";\nimport React, { memo } from \"react\";\nimport { useAppSelector } from \"@/modules/hooks\";\nimport { audioSelector } from \"@/modules/reducers/audio/slice\";\n\nconst Content = () => {\n  const { history } = useAppSelector(audioSelector);\n  console.log(history);\n  if (history.length === 0) {\n    return (\n      <div className=\"text-center pt-40 text-gray-400\">你还没播放任何音乐</div>\n    );\n  }\n  return (\n    <div\n      className=\"pb-8\"\n      style={{ \"--ui_grid_template\": \"36px / 54px 45% 5fr 3fr\" }}\n    >\n      <div>\n        <div className=\"grid items-center text-gray-500 ui_grid_template\">\n          <div className=\"col-start-2 px-2\">音乐标题</div>\n          <div className=\"px-2\">歌手</div>\n          <div className=\"px-2\">播放时间</div>\n        </div>\n        {history.map((item, index) => (\n          <MenuCreate\n            schema={[\n              [\"评论\", \"播放\", \"下一首播放\"],\n              [\"收藏到歌单\", \"分享\", \"复制链接\", \"不感兴趣\", \"下载\"],\n            ]}\n            type=\"song\"\n            item={item}\n            key={item.id}\n            tabIndex=\"2\"\n            className={classNames(\n              \"grid h-9 items-center hover:bg-gray-100 focus:bg-gray-200 focus:outline-none ui_grid_template\",\n              { \"bg-gray-50\": index % 2 === 0 }\n            )}\n          >\n            <>\n              <div className=\"index pr-3 text-right\">\n                <Rank index={index} />\n              </div>\n              <Name item={item} className=\"px-2\" />\n              <Artists artists={item.ar} className=\"px-2\" />\n              <div className=\"duration text-gray-400 truncate px-2\">\n                {dayjs(item.lastTime).fromNow()}\n              </div>\n            </>\n          </MenuCreate>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Content);\n","import React, { memo } from \"react\";\nimport classNames from \"classnames\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/zh-cn\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\ndayjs.extend(relativeTime);\ndayjs.locale(\"zh-cn\");\n\nimport useLoginStatus from \"@/hooks/useLoginStatus\";\nimport GroupPlay from \"@/components/GroupPlay\";\nimport { setAudioHistoryClear } from \"@/modules/reducers/audio/slice\";\nimport { useAppDispatch } from \"@/modules/hooks\";\nimport Content from \"./Content\";\n\nconst History = () => {\n  useLoginStatus();\n  const dispatch = useAppDispatch();\n\n  const handleClear = () => {\n    if (history.length === 0) return false;\n    dispatch(setAudioHistoryClear());\n  };\n  return (\n    <div className=\"w-full overflow-auto max-h-full flex-auto\">\n      <div className=\"px-8 pb-2.5 pt-6\">\n        <div className=\"flex items-center pb-8\">\n          <div className=\"h1\">最近播放</div>\n          &nbsp; &nbsp;\n          <div className=\"text-gray-400\">{`共${history.length}首`}</div>\n          <button\n            onClick={handleClear}\n            type=\"button\"\n            className={classNames(\n              \"ml-auto text-sm\",\n              history.length === 0 ? \"text-gray-300\" : \"ui_link\"\n            )}\n          >\n            清空列表\n          </button>\n        </div>\n        <GroupPlay playlist={history} />\n      </div>\n      <Content />\n    </div>\n  );\n};\n\nexport default memo(History);\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport History from \"./History\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route index element={<History />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["Content","history","useAppSelector","audioSelector","console","log","length","div","className","style","item","index","MenuCreate","schema","type","key","id","tabIndex","classNames","Rank","Name","Artists","artists","ar","dayjs","lastTime","fromNow","memo","relativeTime","History","useLoginStatus","dispatch","useAppDispatch","onClick","setAudioHistoryClear","GroupPlay","playlist","Routes","Route","element"],"sourceRoot":""}