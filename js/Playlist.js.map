{"version":3,"file":"js/Playlist.js?version=1bdd70b4","mappings":"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","sources":["webpack://wyy/./src/features/Playlist/components/Tags.tsx","webpack://wyy/./src/features/Playlist/components/Description.tsx","webpack://wyy/./src/features/Playlist/components/Header.tsx","webpack://wyy/./src/features/Playlist/components/Playlist.tsx","webpack://wyy/./src/features/Playlist/components/Comments.tsx","webpack://wyy/./src/features/Playlist/components/Subscribers.tsx","webpack://wyy/./src/features/Playlist/Music.tsx","webpack://wyy/./src/features/Playlist/DJ.tsx","webpack://wyy/./src/features/Playlist/Album.tsx","webpack://wyy/./src/features/Playlist/Router.tsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport React, { FC, memo } from \"react\";\n\ninterface iTags {\n  tags: [];\n}\n\nconst Tags: FC<iTags> = ({ tags = [] }) => {\n  if (tags.length === 0) return null;\n  return (\n    <div className=\"tags\">\n      <span>标签：</span>\n      {tags.map((tag, index) => (\n        <span key={tag}>\n          {index > 0 && \" / \"}\n          <Link to={`/home/playlist/${tag}`} className=\"tag ui_link\">\n            {tag}\n          </Link>\n        </span>\n      ))}\n    </div>\n  );\n};\n\nexport default memo(Tags);\n","import classNames from \"classnames\";\nimport { IconCaretDown, IconCaretUp } from \"@tabler/icons\";\nimport React, { FC, memo, useState } from \"react\";\n\ninterface iDescription {\n  description: string;\n}\n\nconst Description: FC<iDescription> = ({ description = \"\" }) => {\n  if (!description) return null;\n  const [open, setOpen] = useState(false);\n  const descriptionList = description.match(/^.*$/gm);\n  return (\n    <div className=\"relative pr-5\">\n      <div className=\"whitespace-pre-line leading-6\">\n        简介：\n        <span\n          className={classNames(\n            \"text-gray-500 select-text\",\n            !open && \"truncate inline-block max-w-xs align-bottom\"\n          )}\n        >\n          {open ? description : descriptionList?.[0]}\n        </span>\n        <button\n          type=\"button\"\n          onClick={() => setOpen(!open)}\n          className=\"absolute top-0 right-0 text-gray-500\"\n        >\n          {open ? (\n            <IconCaretUp size={16} className=\"fill-current\" />\n          ) : (\n            <IconCaretDown size={16} className=\"fill-current\" />\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Description);\n","import React, { useState, memo, FC } from \"react\";\nimport classNames from \"classnames\";\nimport DomGroupPlay from \"@/components/GroupPlay\";\nimport { transPlayCount, transSubscribeCount } from \"@/common/utils\";\nimport {\n  IconFolderPlus,\n  IconScreenShare,\n  IconCloudDownload,\n  IconCheckbox,\n  IconCaretUp,\n  IconCaretDown,\n} from \"@tabler/icons\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\n\nimport Tags from \"./Tags\";\nimport Description from \"./Description\";\n\ninterface iHeader {\n  data: {};\n  handleSub: (isSub: boolean) => void;\n  songs: [];\n}\n\nconst Header: FC<iHeader> = ({ data = {}, handleSub, songs }) => (\n  // console.log('playlist_music_header');\n  <div className=\"p-8 flex items-start\">\n    <div className=\"border rounded overflow-hidden flex-none w-92 h-92\">\n      <img\n        loading={`lazy`}\n        className=\"w-full h-full\"\n        src={`${data.playlist.coverImgUrl}?param=200y200`}\n        alt=\"\"\n      />\n    </div>\n    <div className=\"info flex-auto w-0 ml-5\">\n      <div className=\"name leading-tight\">\n        <span className=\"whitespace-nowrap text-red-500 border border-current p-0.5 rounded mr-2 align-bottom inline-block\">\n          歌单\n        </span>\n        <span className=\"h1 select-text\">\n          {data.playlist.name || \"我喜欢的音乐\"}\n        </span>\n      </div>\n      <div className=\"creator flex items-center mt-2\">\n        <Link\n          to={`/user/${data.playlist.creator?.userId}`}\n          className=\"w-6 h-6 rounded-full overflow-hidden mr-2\"\n        >\n          <img\n            className=\"\"\n            src={`${data.playlist.creator?.avatarUrl}?param=50y50`}\n            alt=\"\"\n          />\n        </Link>\n\n        <Link\n          to={`/user/${data.playlist.creator?.userId}`}\n          className=\"nickname ui_link mr-2\"\n        >\n          {data.playlist.creator?.nickname}\n        </Link>\n\n        <span className=\"text-gray-500\">\n          {dayjs(data.playlist.createTime || Date.now()).format(\"YYYY-MM-DD\")}\n          创建\n        </span>\n      </div>\n      <div className=\"actions flex space-x-2 mt-2\">\n        <DomGroupPlay playlist={songs} />\n        <button\n          onClick={() => handleSub(data.playlist.subscribed)}\n          type=\"button\"\n          className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn\"\n        >\n          {data.playlist.subscribed ? (\n            <IconCheckbox size={20} stroke={1} />\n          ) : (\n            <IconFolderPlus size={20} stroke={1} />\n          )}\n          &nbsp;\n          {data.playlist.subscribed ? \"已收藏\" : \"收藏\"}\n          {`(${transSubscribeCount(data.playlist.subscribedCount)})`}\n        </button>\n        <button\n          type=\"button\"\n          className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn\"\n        >\n          <IconScreenShare size={20} stroke={1} />\n          &nbsp; 分享\n          {`(${transSubscribeCount(data.playlist.shareCount)})`}\n        </button>\n        <button\n          type=\"button\"\n          className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn\"\n        >\n          <IconCloudDownload size={20} stroke={1} />\n          &nbsp; 下载全部\n        </button>\n      </div>\n      <div className=\"space-y-1 mt-2\">\n        <Tags tags={data.playlist.tags} />\n        <div>\n          <span className=\"mr-3\">\n            歌曲：\n            <span className=\"text-gray-500\">{data.playlist.trackCount}</span>\n          </span>\n          <span>\n            播放：\n            <span className=\"text-gray-500\">\n              {transPlayCount(data.playlist.playCount)}\n            </span>\n          </span>\n        </div>\n        <Description description={data.playlist.description} />\n      </div>\n    </div>\n  </div>\n);\n\nexport default memo(Header);\n","import React, { CSSProperties, memo } from \"react\";\nimport classNames from \"classnames\";\nimport dayjs from \"dayjs\";\n\nimport MenuCreate from \"@/components/MenuCreate/MenuCreate\";\nimport Rank from \"@/components/Table/Rank\";\nimport Heart from \"@/components/Table/Heart\";\nimport Download from \"@/components/Table/Download\";\nimport Name from \"@/components/Table/Name\";\nimport Artists from \"@/components/Table/Artists\";\nimport Album from \"@/components/Table/Album\";\n\nconst Playlist = ({ songs = [] }) => {\n  if (!songs.length) {\n    return (\n      <div className=\"pt-16 text-center text-sm text-gray-400\">暂无音乐</div>\n    );\n  }\n  return (\n    <div\n      style={\n        {\n          \"--ui_grid_template\": \"36px / 30px 30px 30px 36% 4fr 6fr 2fr\",\n        } as CSSProperties\n      }\n      className=\"mt-4\"\n    >\n      <div className=\"grid ui_grid_template pl-8\">\n        <div />\n        <div />\n        <div />\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          音乐标题\n        </div>\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          歌手\n        </div>\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          专辑\n        </div>\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          时长\n        </div>\n      </div>\n      {songs.map((item, index) => (\n        <MenuCreate\n          schema={[\n            [\"评论\", \"播放\", \"下一首播放\"],\n            [\"收藏到歌单\", \"分享\", \"复制链接\", \"不感兴趣\", \"下载\"],\n          ]}\n          type=\"song\"\n          item={item}\n          key={item.id}\n        >\n          <div\n            tabIndex={2}\n            className={classNames(\n              \"grid items-center focus:outline-none focus:bg-gray-200 hover:bg-gray-100 ui_grid_template pl-8\",\n              index % 2 === 0 && \"bg-gray-50\"\n            )}\n          >\n            <div className=\"px-1\">\n              <Rank index={index} id={item.id} />\n            </div>\n            <div className=\"px-1\">\n              <Heart id={item.id} />\n            </div>\n            <div className=\"px-1\">\n              <Download />\n            </div>\n            <Name className=\"px-1\" item={item} />\n            <Artists className=\"px-1\" artists={item.ar} />\n            <Album className=\"px-1\" name={item.al.name} id={item.al.id} />\n            <div className=\"text-gray-500 px-1\">\n              {dayjs(item.dt).format(\"mm:ss\")}\n            </div>\n          </div>\n        </MenuCreate>\n      ))}\n    </div>\n  );\n};\n\nexport default memo(Playlist);\n","import React, { memo, useCallback, useEffect, useState } from \"react\";\nimport CommentsList from \"@/components/Comments/CommentsList\";\nimport Write from \"@/components/Write\";\nimport { apiCommentPlaylist } from \"@/api\";\nimport Loading from \"@/components/Loading\";\nimport { useParams } from \"react-router-dom\";\n\nexport default memo(function Comments() {\n  const { id } = useParams();\n  if (!id) return null;\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n\n  const handleInit = async () => {\n    const data = await apiCommentPlaylist({\n      id,\n    });\n    setData(data);\n    setLoading(false);\n  };\n\n  const handleChange = useCallback(() => {}, []);\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"px-8\">\n      {/* TODO */}\n      <div className=\"pt-10 pb-10\">\n        <Write max={140} placeholder={\"\"} onChange={handleChange} />\n      </div>\n      {loading ? (\n        <Loading />\n      ) : (\n        <CommentsList comments={data} type={0} more={id} />\n      )}\n    </div>\n  );\n});\n","import React, { memo, useEffect, useState } from \"react\";\nimport { apiPlaylistSubscribers } from \"@/api\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Gender from \"@/components/Gender\";\nimport Page from \"@/components/Page\";\nimport Loading from \"@/components/Loading\";\n\ninterface iSubscribers {\n  avatarUrl: string;\n  userId: number;\n  nickname: string;\n  gender: number;\n  signature: string;\n}\n\nconst limit = 60;\n\nexport default memo(function Subscribers() {\n  const { id } = useParams();\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const handleInit = async () => {\n    const { subscribers, total } = await apiPlaylistSubscribers({\n      id,\n      limit,\n      offset: (page - 1) * limit,\n    });\n    setData({\n      subscribers,\n      total,\n    });\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, []);\n\n  if (loading)\n    return (\n      <div className={`flex-center pt-32`}>\n        <Loading />\n      </div>\n    );\n  return (\n    <div className=\"px-8\">\n      <div className=\"domPlaylistDetail_subscribers flex justify-between flex-wrap\">\n        {data?.subscribers.map((item: iSubscribers) => (\n          <div key={item.userId} className=\"item flex mt-6 w-80 \">\n            <Link\n              to={`/user/${item.userId}`}\n              className=\"avatar w-24 h-24 border rounded-full overflow-hidden\"\n            >\n              <img\n                loading={`lazy`}\n                src={`${item.avatarUrl}?param=100y100`}\n                alt=\"\"\n              />\n            </Link>\n            <div className=\"ml-2 flex-auto w-0 flex flex-col justify-center\">\n              <div className=\"text-sm flex items-center\">\n                <Link to={`/user/${item.userId}`}>{item.nickname}</Link>\n                &nbsp;\n                <Gender gender={item.gender} size={16} />\n              </div>\n              <div className=\"mt-2 truncate\">{item.signature}</div>\n            </div>\n          </div>\n        ))}\n      </div>\n      <Page total={Math.ceil(data?.total / limit)} page={page} func={setPage} />\n    </div>\n  );\n});\n","import React, {\n  useEffect,\n  useState,\n  memo,\n  useCallback,\n  useMemo,\n  ReactNode,\n  createElement,\n} from \"react\";\n\nimport { apiPlaylistDetail, apiPlaylistSubscribe, apiSongDetail } from \"@/api\";\n\nimport { setToast } from \"@/modules/reducers/mask/slice\";\nimport classNames from \"classnames\";\nimport Loading from \"@/components/Loading\";\n\nimport Header from \"./components/Header\";\nimport Playlist from \"./components/Playlist\";\nimport Comments from \"./components/Comments\";\nimport Subscribers from \"./components/Subscribers\";\nimport { useAppDispatch } from \"@/modules/hooks\";\nimport { useParams } from \"react-router-dom\";\nimport { useImmer } from \"use-immer\";\n\ntype Paths = \"Playlist\" | \"Comments\" | \"Subscribers\";\n\nconst navs: [string, Paths][] = [\n  [\"歌曲列表\", \"Playlist\"],\n  [\"评论\", \"Comments\"],\n  [\"收藏者\", \"Subscribers\"],\n];\n\nconst Contents: { [key in Paths]: ReactNode } = {\n  Playlist,\n  Comments,\n  Subscribers,\n};\n\nexport default memo(function Playlist() {\n  const { id } = useParams();\n  const dispatch = useAppDispatch();\n  const [loading, setLoading] = useState(true);\n  const [songs, setSongs] = useState([]);\n  const [data, setData] = useImmer({});\n  // const [privileges, setPrivileges] = useState([]);\n  const [status, setStatus] = useState<Paths>(navs[0][1]);\n  const handleInit = async () => {\n    try {\n      const data = await apiPlaylistDetail({\n        id,\n      });\n      setData(data);\n      if (data.playlist.trackCount > 0) {\n        const { songs } = await apiSongDetail({\n          ids: data.playlist.trackIds.map(({ id }) => id).join(\",\"),\n        });\n        setSongs(songs);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // TODO\n  const handleSub = useCallback(\n    async (isSub) => {\n      try {\n        const { code } = await apiPlaylistSubscribe({\n          t: isSub ? 2 : 1,\n          id,\n        });\n        if (code === 200) {\n          dispatch(setToast(isSub ? \"取消收藏成功！\" : \"收藏成功！\"));\n          setData((draft) => {\n            draft.playlist.subscribed = !isSub;\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [id]\n  );\n\n  useEffect(() => {\n    handleInit();\n  }, [id]);\n\n  if (loading)\n    return (\n      <div className=\"w-full h-full flex-center\">\n        <Loading />\n      </div>\n    );\n  return (\n    <div className=\"overflow-auto h-full\">\n      <Header data={data} handleSub={handleSub} songs={songs} />\n      <div className=\"mt-4\">\n        <div className=\"space-x-4 flex items-baseline px-8\">\n          {navs.map(([nav, code]) => (\n            <button\n              type=\"button\"\n              className={classNames(\n                \"text-sm\",\n                status === code && \"font-bold ui_underline\"\n              )}\n              key={nav}\n              onClick={() => setStatus(code)}\n            >\n              {nav}\n              {nav === \"评论\" && `(${data.playlist.commentCount})`}\n            </button>\n          ))}\n        </div>\n        <div>{createElement(Contents[status], { songs })}</div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect } from \"react\";\nimport { apiDjDetail } from \"@/api\";\n\nexport default memo(({ id }) => {\n  const handleInit = async () => {\n    try {\n      const {} = await apiDjDetail({\n        rid: id,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"domPlaylistDetail\">\n      <div className=\"domPlaylistDetail_header\">{}</div>\n      <div className=\"domPlaylistDetail_main\">TODO</div>\n    </div>\n  );\n});\n","import React, { useState } from \"react\";\n\nexport default () => {\n  const [data] = useState(0);\n  return <div>TOTO</div>;\n};\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Music from \"./Music\";\nimport DJ from \"./DJ\";\nimport Album from \"./Album\";\n\nconst Router = () => {\n  return (\n    <Routes>\n      <Route path=\"music/:id\" element={<Music />} />\n      <Route path=\"dj/:id\" element={<DJ />} />\n      <Route path=\"album/:id\" element={<Album />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["Tags","tags","length","div","className","span","key","tag","index","Link","to","memo","Description","description","useState","open","setOpen","descriptionList","match","classNames","button","type","onClick","IconCaretUp","size","IconCaretDown","Header","data","handleSub","songs","img","loading","src","playlist","coverImgUrl","alt","name","creator","userId","avatarUrl","nickname","dayjs","createTime","Date","now","format","DomGroupPlay","subscribed","IconCheckbox","stroke","IconFolderPlus","transSubscribeCount","subscribedCount","IconScreenShare","shareCount","IconCloudDownload","trackCount","transPlayCount","playCount","Playlist","style","map","item","MenuCreate","schema","id","tabIndex","Rank","Heart","Download","Name","Artists","artists","ar","Album","al","dt","useParams","setLoading","setData","handleInit","apiCommentPlaylist","handleChange","useCallback","useEffect","Write","max","placeholder","onChange","Loading","CommentsList","comments","more","page","setPage","subscribers","total","apiPlaylistSubscribers","limit","offset","Gender","gender","signature","Page","Math","ceil","func","navs","Contents","Comments","Subscribers","dispatch","useAppDispatch","setSongs","useImmer","status","setStatus","apiPlaylistDetail","apiSongDetail","ids","trackIds","join","console","log","isSub","apiPlaylistSubscribe","t","code","setToast","draft","nav","commentCount","createElement","apiDjDetail","rid","Routes","Route","path","element","Music","DJ"],"sourceRoot":""}