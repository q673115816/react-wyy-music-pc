{"version":3,"file":"js/Playlist.js?version=ee0f855c","mappings":"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","sources":["webpack://@wyy/web/./src/features/Playlist/components/Tags.tsx","webpack://@wyy/web/./src/features/Playlist/components/Description.tsx","webpack://@wyy/web/./src/features/Playlist/components/Header.tsx","webpack://@wyy/web/./src/features/Playlist/components/Playlist.tsx","webpack://@wyy/web/./src/features/Playlist/components/Comments.tsx","webpack://@wyy/web/./src/features/Playlist/components/Subscribers.tsx","webpack://@wyy/web/./src/features/Playlist/Music.tsx","webpack://@wyy/web/./src/features/Playlist/DJ.tsx","webpack://@wyy/web/./src/features/Playlist/Album.tsx","webpack://@wyy/web/./src/features/Playlist/Router.tsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport React, { FC, memo } from \"react\";\n\ninterface iTags {\n  tags: [];\n}\n\nconst Tags: FC<iTags> = ({ tags = [] }) => {\n  if (tags.length === 0) return null;\n  return (\n    <div className=\"tags\">\n      <span>标签：</span>\n      {tags.map((tag, index) => (\n        <span key={tag}>\n          {index > 0 && \" / \"}\n          <Link to={`/home/playlist/${tag}`} className=\"tag ui_link\">\n            {tag}\n          </Link>\n        </span>\n      ))}\n    </div>\n  );\n};\n\nexport default memo(Tags);\n","import classNames from \"classnames\";\nimport { IconCaretDown, IconCaretUp } from \"@tabler/icons\";\nimport React, { FC, memo, useState } from \"react\";\n\ninterface iDescription {\n  description: string;\n}\n\nconst Description: FC<iDescription> = ({ description = \"\" }) => {\n  if (!description) return null;\n  const [open, setOpen] = useState(false);\n  const descriptionList = description.match(/^.*$/gm);\n  return (\n    <div className=\"relative pr-5\">\n      <div className=\"whitespace-pre-line leading-6\">\n        简介：\n        <span\n          className={classNames(\n            \"text-gray-500 select-text\",\n            !open && \"truncate inline-block max-w-xs align-bottom\"\n          )}\n        >\n          {open ? description : descriptionList?.[0]}\n        </span>\n        <button\n          type=\"button\"\n          onClick={() => setOpen(!open)}\n          className=\"absolute top-0 right-0 text-gray-500\"\n        >\n          {open ? (\n            <IconCaretUp size={16} className=\"fill-current\" />\n          ) : (\n            <IconCaretDown size={16} className=\"fill-current\" />\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Description);\n","import React, { useState, memo, FC } from \"react\";\nimport classNames from \"classnames\";\nimport DomGroupPlay from \"@/components/GroupPlay\";\nimport { transPlayCount, transSubscribeCount } from \"@/common/utils\";\nimport {\n  IconFolderPlus,\n  IconScreenShare,\n  IconCloudDownload,\n  IconCheckbox,\n  IconCaretUp,\n  IconCaretDown,\n} from \"@tabler/icons\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\n\nimport Tags from \"./Tags\";\nimport Description from \"./Description\";\n\ninterface iHeader {\n  data: {};\n  handleSub: (isSub: boolean) => void;\n  songs: [];\n}\n\nconst Header: FC<iHeader> = ({ data = {}, handleSub, songs }) => (\n  // console.log('playlist_music_header');\n  <div className=\"p-8 flex items-start\">\n    <div className=\"border rounded overflow-hidden flex-none w-92 h-92\">\n      <img\n        loading={`lazy`}\n        className=\"w-full h-full\"\n        src={`${data.playlist.coverImgUrl}?param=200y200`}\n        alt=\"\"\n      />\n    </div>\n    <div className=\"info flex-auto w-0 ml-5\">\n      <div className=\"name leading-tight\">\n        <span className=\"whitespace-nowrap text-red-500 border border-current p-0.5 rounded mr-2 align-bottom inline-block\">\n          歌单\n        </span>\n        <span className=\"h1 select-text\">\n          {data.playlist.name || \"我喜欢的音乐\"}\n        </span>\n      </div>\n      <div className=\"creator flex items-center mt-2\">\n        <Link\n          to={`/user/${data.playlist.creator?.userId}`}\n          className=\"w-6 h-6 rounded-full overflow-hidden mr-2\"\n        >\n          <img\n            className=\"\"\n            src={`${data.playlist.creator?.avatarUrl}?param=50y50`}\n            alt=\"\"\n          />\n        </Link>\n\n        <Link\n          to={`/user/${data.playlist.creator?.userId}`}\n          className=\"nickname ui_link mr-2\"\n        >\n          {data.playlist.creator?.nickname}\n        </Link>\n\n        <span className=\"text-gray-500\">\n          {dayjs(data.playlist.createTime || Date.now()).format(\"YYYY-MM-DD\")}\n          创建\n        </span>\n      </div>\n      <div className=\"actions flex space-x-2 mt-2\">\n        <DomGroupPlay playlist={songs} />\n        <button\n          onClick={() => handleSub(data.playlist.subscribed)}\n          type=\"button\"\n          className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn\"\n        >\n          {data.playlist.subscribed ? (\n            <IconCheckbox size={20} stroke={1} />\n          ) : (\n            <IconFolderPlus size={20} stroke={1} />\n          )}\n          &nbsp;\n          {data.playlist.subscribed ? \"已收藏\" : \"收藏\"}\n          {`(${transSubscribeCount(data.playlist.subscribedCount)})`}\n        </button>\n        <button\n          type=\"button\"\n          className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn\"\n        >\n          <IconScreenShare size={20} stroke={1} />\n          &nbsp; 分享\n          {`(${transSubscribeCount(data.playlist.shareCount)})`}\n        </button>\n        <button\n          type=\"button\"\n          className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full btn\"\n        >\n          <IconCloudDownload size={20} stroke={1} />\n          &nbsp; 下载全部\n        </button>\n      </div>\n      <div className=\"space-y-1 mt-2\">\n        <Tags tags={data.playlist.tags} />\n        <div>\n          <span className=\"mr-3\">\n            歌曲：\n            <span className=\"text-gray-500\">{data.playlist.trackCount}</span>\n          </span>\n          <span>\n            播放：\n            <span className=\"text-gray-500\">\n              {transPlayCount(data.playlist.playCount)}\n            </span>\n          </span>\n        </div>\n        <Description description={data.playlist.description} />\n      </div>\n    </div>\n  </div>\n);\n\nexport default memo(Header);\n","import React, { CSSProperties, memo } from \"react\";\nimport classNames from \"classnames\";\nimport dayjs from \"dayjs\";\n\nimport MenuCreate from \"@/components/MenuCreate/MenuCreate\";\nimport Rank from \"@/components/Table/Rank\";\nimport Heart from \"@/components/Table/Heart\";\nimport Download from \"@/components/Table/Download\";\nimport Name from \"@/components/Table/Name\";\nimport Artists from \"@/components/Table/Artists\";\nimport Album from \"@/components/Table/Album\";\n\nconst Playlist = ({ songs = [] }) => {\n  if (!songs.length) {\n    return (\n      <div className=\"pt-16 text-center text-sm text-gray-400\">暂无音乐</div>\n    );\n  }\n  return (\n    <div\n      style={\n        {\n          \"--ui_grid_template\": \"36px / 30px 30px 30px 36% 4fr 6fr 2fr\",\n        } as CSSProperties\n      }\n      className=\"mt-4\"\n    >\n      <div className=\"grid ui_grid_template pl-8\">\n        <div />\n        <div />\n        <div />\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          音乐标题\n        </div>\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          歌手\n        </div>\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          专辑\n        </div>\n        <div className=\"px-1 flex items-center hover:bg-gray-200 text-gray-500\">\n          时长\n        </div>\n      </div>\n      {songs.map((item, index) => (\n        <MenuCreate\n          schema={[\n            [\"评论\", \"播放\", \"下一首播放\"],\n            [\"收藏到歌单\", \"分享\", \"复制链接\", \"不感兴趣\", \"下载\"],\n          ]}\n          type=\"song\"\n          item={item}\n          key={item.id}\n        >\n          <div\n            tabIndex={2}\n            className={classNames(\n              \"grid items-center focus:outline-none focus:bg-gray-200 hover:bg-gray-100 ui_grid_template pl-8\",\n              index % 2 === 0 && \"bg-gray-50\"\n            )}\n          >\n            <div className=\"px-1\">\n              <Rank index={index} id={item.id} />\n            </div>\n            <div className=\"px-1\">\n              <Heart id={item.id} />\n            </div>\n            <div className=\"px-1\">\n              <Download />\n            </div>\n            <Name className=\"px-1\" item={item} />\n            <Artists className=\"px-1\" artists={item.ar} />\n            <Album className=\"px-1\" name={item.al.name} id={item.al.id} />\n            <div className=\"text-gray-500 px-1\">\n              {dayjs(item.dt).format(\"mm:ss\")}\n            </div>\n          </div>\n        </MenuCreate>\n      ))}\n    </div>\n  );\n};\n\nexport default memo(Playlist);\n","import React, { memo, useCallback, useEffect, useState } from \"react\";\nimport CommentsList from \"@/components/Comments/CommentsList\";\nimport Write from \"@/components/Write\";\nimport { apiCommentPlaylist } from \"@/api\";\nimport Loading from \"@/components/Loading\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetCommentPlaylistQuery } from \"@/modules/services/playlist\";\n\nexport default memo(function Comments() {\n  const { id } = useParams();\n  const { data, isLoading } = useGetCommentPlaylistQuery({\n    id,\n  });\n\n  const handleChange = useCallback(() => {}, []);\n\n  return (\n    <div className=\"px-8\">\n      {/* TODO */}\n      <div className=\"pt-10 pb-10\">\n        <Write max={140} placeholder={\"\"} onChange={handleChange} />\n      </div>\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <CommentsList comments={data} type={0} more={id} />\n      )}\n    </div>\n  );\n});\n","import React, { memo, useEffect, useState } from \"react\";\nimport { apiPlaylistSubscribers } from \"@/api\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Gender from \"@/components/Gender\";\nimport Page from \"@/components/Page\";\nimport Loading from \"@/components/Loading\";\n\ninterface iSubscribers {\n  avatarUrl: string;\n  userId: number;\n  nickname: string;\n  gender: number;\n  signature: string;\n}\n\nconst limit = 60;\n\nexport default memo(function Subscribers() {\n  const { id } = useParams();\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const handleInit = async () => {\n    const { subscribers, total } = await apiPlaylistSubscribers({\n      id,\n      limit,\n      offset: (page - 1) * limit,\n    });\n    setData({\n      subscribers,\n      total,\n    });\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, []);\n\n  if (loading)\n    return (\n      <div className={`flex-center pt-32`}>\n        <Loading />\n      </div>\n    );\n  return (\n    <div className=\"px-8\">\n      <div className=\"domPlaylistDetail_subscribers flex justify-between flex-wrap\">\n        {data?.subscribers.map((item: iSubscribers) => (\n          <div key={item.userId} className=\"item flex mt-6 w-80 \">\n            <Link\n              to={`/user/${item.userId}`}\n              className=\"avatar w-24 h-24 border rounded-full overflow-hidden\"\n            >\n              <img\n                loading={`lazy`}\n                src={`${item.avatarUrl}?param=100y100`}\n                alt=\"\"\n              />\n            </Link>\n            <div className=\"ml-2 flex-auto w-0 flex flex-col justify-center\">\n              <div className=\"text-sm flex items-center\">\n                <Link to={`/user/${item.userId}`}>{item.nickname}</Link>\n                &nbsp;\n                <Gender gender={item.gender} size={16} />\n              </div>\n              <div className=\"mt-2 truncate\">{item.signature}</div>\n            </div>\n          </div>\n        ))}\n      </div>\n      <Page total={Math.ceil(data?.total / limit)} page={page} func={setPage} />\n    </div>\n  );\n});\n","import React, {\n  useEffect,\n  useState,\n  memo,\n  useCallback,\n  ReactNode,\n  createElement,\n} from \"react\";\n\nimport { apiPlaylistDetail, apiPlaylistSubscribe, apiSongDetail } from \"@/api\";\n\nimport { setToast } from \"@/modules/reducers/mask/slice\";\nimport classNames from \"classnames\";\nimport Loading from \"@/components/Loading\";\n\nimport Header from \"./components/Header\";\nimport Playlist from \"./components/Playlist\";\nimport Comments from \"./components/Comments\";\nimport Subscribers from \"./components/Subscribers\";\nimport { useAppDispatch } from \"@/modules/hooks\";\nimport { useParams } from \"react-router-dom\";\nimport { useImmer } from \"use-immer\";\nimport useToast from \"@/hooks/useToast\";\n\ntype Paths = \"Playlist\" | \"Comments\" | \"Subscribers\";\n\nconst navs: [string, Paths][] = [\n  [\"歌曲列表\", \"Playlist\"],\n  [\"评论\", \"Comments\"],\n  [\"收藏者\", \"Subscribers\"],\n];\n\nconst Contents: { [key in Paths]: ReactNode } = {\n  Playlist,\n  Comments,\n  Subscribers,\n};\n\nexport default memo(function Playlist() {\n  const { id } = useParams();\n  const toast = useToast();\n  const [loading, setLoading] = useState(true);\n  const [songs, setSongs] = useState([]);\n  const [data, setData] = useImmer({});\n  // const [privileges, setPrivileges] = useState([]);\n  const [status, setStatus] = useState<Paths>(navs[0][1]);\n  const handleInit = async () => {\n    try {\n      const data = await apiPlaylistDetail({\n        id,\n      });\n      setData(data);\n      if (data.playlist.trackCount > 0) {\n        const { songs } = await apiSongDetail({\n          ids: data.playlist.trackIds.map(({ id }) => id).join(\",\"),\n        });\n        setSongs(songs);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // TODO\n  const handleSub = useCallback(\n    async (isSub) => {\n      try {\n        const { code } = await apiPlaylistSubscribe({\n          t: isSub ? 2 : 1,\n          id,\n        });\n        if (code === 200) {\n          toast(isSub ? \"取消收藏成功！\" : \"收藏成功！\");\n          setData((draft) => {\n            draft.playlist.subscribed = !isSub;\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [id]\n  );\n\n  useEffect(() => {\n    handleInit();\n  }, [id]);\n\n  if (loading)\n    return (\n      <div className=\"w-full h-full flex-center\">\n        <Loading />\n      </div>\n    );\n  return (\n    <div className=\"overflow-auto h-full\">\n      <Header data={data} handleSub={handleSub} songs={songs} />\n      <div className=\"mt-4\">\n        <div className=\"space-x-4 flex items-baseline px-8\">\n          {navs.map(([nav, code]) => (\n            <button\n              type=\"button\"\n              className={classNames(\n                \"text-sm\",\n                status === code && \"font-bold ui_underline\"\n              )}\n              key={nav}\n              onClick={() => setStatus(code)}\n            >\n              {nav}\n              {nav === \"评论\" && `(${data.playlist.commentCount})`}\n            </button>\n          ))}\n        </div>\n        <div>{createElement(Contents[status], { songs })}</div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect } from \"react\";\nimport { apiDjDetail } from \"@/api\";\n\nexport default memo(({ id }) => {\n  const handleInit = async () => {\n    try {\n      const {} = await apiDjDetail({\n        rid: id,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"domPlaylistDetail\">\n      <div className=\"domPlaylistDetail_header\">{}</div>\n      <div className=\"domPlaylistDetail_main\">TODO</div>\n    </div>\n  );\n});\n","import React, { useState } from \"react\";\n\nexport default () => {\n  const [data] = useState(0);\n  return <div>TOTO</div>;\n};\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Music from \"./Music\";\nimport DJ from \"./DJ\";\nimport Album from \"./Album\";\n\nconst Router = () => {\n  return (\n    <Routes>\n      <Route path=\"music/:id\" element={<Music />} />\n      <Route path=\"dj/:id\" element={<DJ />} />\n      <Route path=\"album/:id\" element={<Album />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["Tags","tags","length","div","className","span","map","tag","index","key","Link","to","memo","Description","description","useState","open","setOpen","descriptionList","match","classNames","button","type","onClick","IconCaretUp","size","IconCaretDown","Header","data","handleSub","songs","img","loading","src","playlist","coverImgUrl","alt","name","creator","userId","avatarUrl","nickname","dayjs","createTime","Date","now","format","DomGroupPlay","subscribed","IconCheckbox","stroke","IconFolderPlus","transSubscribeCount","subscribedCount","IconScreenShare","shareCount","IconCloudDownload","trackCount","transPlayCount","playCount","Playlist","style","item","MenuCreate","schema","id","tabIndex","Rank","Heart","Download","Name","Artists","artists","ar","Album","al","dt","useParams","useGetCommentPlaylistQuery","isLoading","handleChange","useCallback","Write","max","placeholder","onChange","Loading","CommentsList","comments","more","page","setPage","setData","setLoading","handleInit","subscribers","total","apiPlaylistSubscribers","limit","offset","useEffect","Gender","gender","signature","Page","Math","ceil","func","navs","Contents","Comments","Subscribers","toast","useToast","setSongs","useImmer","status","setStatus","apiPlaylistDetail","apiSongDetail","ids","trackIds","join","console","log","isSub","apiPlaylistSubscribe","t","code","draft","nav","commentCount","createElement","apiDjDetail","rid","Routes","Route","path","element","Music","DJ"],"sourceRoot":""}