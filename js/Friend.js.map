{"version":3,"file":"js/Friend.js?version=023b0bf6","mappings":"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","sources":["webpack://wyy/./src/features/Friend/components/TopicList.tsx","webpack://wyy/./src/features/Friend/components/Aside.tsx","webpack://wyy/./src/features/Friend/Friend.tsx","webpack://wyy/./src/features/Friend/Topic.tsx","webpack://wyy/./src/features/Friend/Top.tsx","webpack://wyy/./src/features/Friend/Acquaintance.tsx","webpack://wyy/./src/features/Friend/Router.tsx"],"sourcesContent":["import React, { FC, memo } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst TopicList: FC<{ list: [] }> = ({ list = [] }) => (\n  <div className=\"list\">\n    {list.map((item) => (\n      <Link\n        to={`/friend/${item.actId}`}\n        key={item.actId}\n        className=\"py-1 pl-5 flex hover:bg-gray-100\"\n      >\n        <div className=\"cover w-8 h-8 flex-none\">\n          <img\n            className=\"rounded\"\n            src={`${item.sharePicUrl}?param=50y50`}\n            alt=\"\"\n          />\n        </div>\n        <div className=\"content px-2 flex-auto w-0\">\n          <div className=\"title flex items-center\">\n            #<span className=\"truncate\">{item.title}</span>#\n          </div>\n          <div className=\"participateCount text-gray-300\">\n            {`${item.participateCount}人参与`}\n          </div>\n        </div>\n      </Link>\n    ))}\n  </div>\n);\nexport default memo(TopicList);\n","import { useAppDispatch, useAppSelector } from \"@/modules/hooks\";\nimport { apiHotTopic } from \"@/api\";\nimport { Link } from \"react-router-dom\";\nimport Gender from \"@/components/Gender\";\nimport { setLoginVisibilty } from \"@/modules/reducers/common/slice\";\nimport TopicList from \"./TopicList\";\nimport React, { memo, useEffect, useState } from \"react\";\n\nexport default memo(function Aside() {\n  const { profile } = useAppSelector(({ account }) => account);\n  const dispatch = useAppDispatch();\n  const [hot, setHot] = useState([]);\n  const handleInitHot = async () => {\n    try {\n      const { hot = [] } = await apiHotTopic({\n        limit: 5,\n      });\n      setHot(hot);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInitHot();\n  }, []);\n  return (\n    <div className=\"flex-none\" style={{ width: 250 }}>\n      <div className=\"\">\n        {profile.userId ? (\n          <div className=\"h-40 pt-8 bg-gray-100\">\n            <div className=\"top flex px-5 items-start\">\n              <Link\n                to={`/user/${profile.userId}`}\n                className=\"avatar w-12 h-12 rounded-full overflow-hidden\"\n              >\n                <img\n                  className=\"\"\n                  src={`${profile.avatarUrl}?param=100y100`}\n                  alt=\"\"\n                />\n              </Link>\n              <div className=\"flex-center\">\n                <Link\n                  to={`/user/${profile.userId}`}\n                  className=\"nickname ml-2.5\"\n                >\n                  {profile.nickname}\n                </Link>\n                &nbsp;\n                <Gender gender={profile.gender} size={14} />\n              </div>\n            </div>\n            <div className=\"infos flex divide-x text-center mt-4\">\n              <Link\n                to={`/user/${profile.userId}/dynamic`}\n                className=\"info flex-1 ui_text_black_hover\"\n              >\n                <div className=\"num text-xl\">{profile.eventCount}</div>\n                <div className=\"string\">动态</div>\n              </Link>\n              <Link\n                to={`/user/${profile.userId}/follow`}\n                className=\"info flex-1 ui_text_black_hover\"\n              >\n                <div className=\"num text-xl\">{profile.follows}</div>\n                <div className=\"string\">关注</div>\n              </Link>\n              <Link\n                to={`/user/${profile.userId}/fans`}\n                className=\"info flex-1 ui_text_black_hover\"\n              >\n                <div className=\"num text-xl\">{profile.followeds}</div>\n                <div className=\"string\">粉丝</div>\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"nologin px-5\">\n            <div style={{ height: 170 }} />\n            <div className=\"tips text-center text-gray-500\">\n              登录网易云音乐，可以享受无限收藏的乐趣，并且无限同步到手机\n            </div>\n            <button\n              type=\"button\"\n              className=\"ui_theme_bg_color text-white w-full h-10 mt-4 rounded-full\"\n              onClick={() => dispatch(setLoginVisibilty())}\n            >\n              立即登录\n            </button>\n          </div>\n        )}\n      </div>\n      <div className=\"mt-5\">\n        <div className=\"flex px-5 mb-2.5\">\n          <span className=\"font-bold\">热门话题</span>\n          <Link className=\"text-gray-400 ml-auto\" to=\"/friend/top\">\n            更多 &gt;\n          </Link>\n        </div>\n        <TopicList list={hot} />\n      </div>\n      <div className=\"mt-8\">\n        <div className=\"flex px-5 mb-2.5\">\n          <span className=\"font-bold\">认识的人</span>\n          <Link className=\"text-gray-400 ml-auto\" to=\"/friend/acquaintance\">\n            更多 &gt;\n          </Link>\n        </div>\n      </div>\n      <div className=\"mt-8\">\n        <div className=\"flex px-5 mb-2.5\">\n          <span className=\"font-bold\">添加关注</span>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect, useRef, useState } from \"react\";\nimport { apiEvent } from \"@/api\";\n\nimport { IconPlus } from \"@tabler/icons\";\n\nimport useInfinite from \"@/hooks/useInfinite\";\nimport Loading from \"@/components/Loading\";\nimport Dynamic from \"@/components/Dynamic\";\nimport Aside from \"./components/Aside\";\nimport { useAppDispatch, useAppSelector } from \"@/modules/hooks\";\n\nconst getArticleFromJson = (json) => {\n  const obj = JSON.parse(json);\n  return (\n    <>\n      <div className=\"song\">\n        <div className=\"cover\">\n          <img src={obj.img80x80} alt=\"\" />\n        </div>\n        <div className=\"\">{obj.song.name}</div>\n      </div>\n    </>\n  );\n};\n\nexport default memo(function Friend() {\n  const [event, setEvent] = useState([]);\n\n  const DomScroll = useRef(null);\n  const DomObserver = useRef(null);\n  const refLasttime = useRef(-1);\n  const handleInitEvent = async () => {\n    try {\n      const { event = [], lasttime = -1 } = await apiEvent({\n        lasttime: refLasttime.current,\n      });\n      refLasttime.current = lasttime;\n      // dispatch(setFriendEventAdd({ event }));\n      setEvent((prev) => [...prev, ...event]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // const handleInit = async () => {\n  //   await handleInitHot()\n  //   await handleInitEvent()\n  // };\n\n  useEffect(() => {\n    setEvent([]);\n  }, []);\n  useInfinite(handleInitEvent, DomScroll, DomObserver);\n\n  return (\n    <div className=\"h-full overflow-auto\" ref={DomScroll}>\n      <div className=\"flex divide-x min-h-full\">\n        <div className=\"relative flex-auto\">\n          <div className=\"h-14 px-8 flex items-center sticky top-0 z-10 bg-white\">\n            <span className=\"h1\">动态</span>\n            <button\n              type=\"button\"\n              className=\"flex ml-auto items-center ui_theme_bg_color text-white h-6 px-3 rounded-full\"\n            >\n              <IconPlus size={12} stroke={5} />\n              写动态\n            </button>\n          </div>\n          <div className=\"domFriend_content\">\n            <div className=\"px-8\">\n              <Dynamic list={event} />\n            </div>\n            <div className=\"flex-center\" ref={DomObserver}>\n              {event.length === 0 ? (\n                <div className=\"empty text-center text-gray-400 pt-48\">\n                  暂无动态\n                </div>\n              ) : (\n                <Loading />\n              )}\n            </div>\n          </div>\n        </div>\n\n        <Aside />\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useCallback, useEffect, useRef, useState } from \"react\";\nimport { apiTopicDetail, apiTopicDetailEventHot, apiHotTopic } from \"@/api\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport Dynamic from \"@/components/Dynamic\";\nimport { IconShare, IconPencil } from \"@tabler/icons\";\nimport TopicList from \"./components/TopicList\";\nimport { useParams } from \"react-router-dom\";\n\nexport default memo(function Topic() {\n  const { id } = useParams();\n  console.log(id);\n  const [state, setState] = useState({});\n  const [detail, setDetail] = useState({});\n  const [hot, setHot] = useState([]);\n  const [data, setData] = useState([]);\n  const DomScroll = useRef(null);\n  const DomObserver = useRef(null);\n\n  const handleInitHot = async () => {\n    try {\n      const { act } = await apiTopicDetail({\n        actid: id,\n      });\n      const { hot } = await apiHotTopic({\n        limit: 10,\n      });\n      setDetail(act);\n      setHot(hot);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleInitEvent = useCallback(async () => {\n    console.log(\"handleInitEvent\");\n    try {\n      const { events } = await apiTopicDetailEventHot({\n        actid: id,\n      });\n      setData(events);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [id]);\n  useInfinite(handleInitEvent, DomScroll, DomObserver);\n  useEffect(() => {\n    setData([]);\n    handleInitHot();\n  }, [id]);\n  return (\n    <div className=\"domFriend h-full overflow-auto\" ref={DomScroll}>\n      <div className=\"flex divide-x\">\n        <div className=\"domFriend_left flex-auto w-0\">\n          <div className=\"px-8 pt-4\">\n            <div className=\"border-b\">\n              <div className=\"rounded overflow-hidden border relative\">\n                <img\n                  src={detail.coverPCUrl}\n                  loading={\"lazy\"}\n                  className={`h-56 object-cover block`}\n                  alt=\"\"\n                />\n                <div\n                  className={`absolute inset-0 bg-black bg-opacity-20 flex-center flex-col`}\n                >\n                  <div\n                    style={{ minWidth: 210 }}\n                    className=\"relative max-w-sm min-w- border-t border-b border-white border-opacity-60 py-6 text-white text-xl flex-center text-center flex-col \"\n                  >\n                    <div className={`flex`}>\n                      #<span className=\"truncate\">{detail.title}</span>#\n                    </div>\n                    <span className=\"absolute inset-x-0 text-xs whitespace-nowrap top-full transform -translate-y-1/2\">\n                      {`${detail.participateCount}人参与`}\n                    </span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"bg-white flex-center h-9 mt-4 w-52 rounded text-red-500 bg-opacity-90 hover:bg-opacity-100\"\n                  >\n                    <IconPencil size={16} />\n                    立即参与\n                  </button>\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"absolute m-4 w-8 h-8 flex-center top-0 right-0 border text-white border-current rounded-full bg-black bg-opacity-50\"\n                >\n                  <IconShare size={24} stroke={1} />\n                </button>\n              </div>\n              <ul className=\"pb-8 text-sm text-gray-500 leading-6\">\n                {detail.text?.map((text, index) => (\n                  <li key={index}>{text}</li>\n                ))}\n              </ul>\n            </div>\n            <Dynamic list={data} />\n            <div ref={DomObserver} />\n          </div>\n        </div>\n        <div className=\"domFriend_right flex-none\" style={{ width: 230 }}>\n          <div className=\"p-4 text-sm text-gray-700\">推荐话题</div>\n          <TopicList list={hot} />\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect, useState } from \"react\";\nimport TopicList from \"./components/TopicList\";\nimport { apiHotTopic, apiTopicDetail } from \"@/api\";\nimport classNames from \"classnames\";\n\nexport default memo(function TOP() {\n  const [type, setType] = useState(\"day\");\n  const [hot, setHot] = useState([]);\n  const [list, setList] = useState([]);\n  const handleInit = async () => {\n    setList([\n      {\n        title: \"你的恋爱人格是什么\",\n        count: 916,\n      },\n      {\n        title: \"你的恋爱人格是什么\",\n        count: 916,\n      },\n    ]);\n  };\n\n  const handleInitHot = async () => {\n    try {\n      const { hot } = await apiHotTopic({\n        limit: 10,\n      });\n      setHot(hot);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInitHot();\n  }, []);\n  useEffect(() => {\n    handleInit();\n  }, [type]);\n  return (\n    <div className={` h-full overflow-auto`}>\n      <div className={`flex divide-x`}>\n        <div className=\"flex-auto w-0\">\n          <div className=\"h-16 px-8 flex items-center\">\n            <span className={`text-lg font-bold`}>话题飙升榜</span>\n            <div className={`ml-auto space-x-3 text-gray-300`}>\n              <button\n                type={\"button\"}\n                onClick={() => setType(\"day\")}\n                className={classNames(\n                  `hover:text-gray-700`,\n                  type === \"day\" && \"text-gray-700\"\n                )}\n              >\n                24小时\n              </button>\n              <span>|</span>\n              <button\n                type={\"button\"}\n                onClick={() => setType(\"week\")}\n                className={classNames(\n                  `hover:text-gray-700`,\n                  type === \"week\" && \"text-gray-700\"\n                )}\n              >\n                7天\n              </button>\n            </div>\n          </div>\n          <div>\n            {list.map((item, index) => (\n              <div\n                key={index}\n                className={classNames(\n                  \"flex items-center h-20 hover:bg-gray-100\",\n                  index % 2 === 1 && \"bg-gray-50\"\n                )}\n              >\n                <div className={`w-16 flex-center text-sm `}>{index + 1}</div>\n                <div className={`w-14 h-14`}>\n                  <img src=\"\" alt=\"\" />\n                </div>\n                <div>\n                  <div className={`text-lg`}>{item.title}</div>\n                  <div className={`text-gray-300`}>{item.count}人参与</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"domFriend_right flex-none\" style={{ width: 230 }}>\n          <div className=\"p-4 text-sm text-gray-700\">推荐话题</div>\n          <TopicList list={hot} />\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from \"react\";\n\nexport default memo(function Acquaintance() {\n  return (\n    <div className={``}>\n      <div className={`text-xl p-8 font-bold`}>寻找并邀请好友</div>\n      <div className={`px-8`}>\n        <div className={`space-x-2 text-gray-500`}>\n          <button type=\"button\">已有1位好友加入</button>\n          <span>|</span>\n          <button type={\"button\"}>邀请另外3位好友加入</button>\n        </div>\n        <div>TODO</div>\n      </div>\n    </div>\n  );\n});\n","import React, { lazy } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Friend from \"./Friend\";\nimport Topic from \"./Topic\";\nimport Top from \"./Top\";\nimport Acquaintance from \"./Acquaintance\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route index element={<Friend />} />\n      <Route path=\"top\" element={<Top />} />\n      <Route path=\"Acquaintance\" element={<Acquaintance />} />\n      <Route path=\":id\" element={<Topic />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["TopicList","list","div","className","map","item","Link","to","actId","key","img","src","sharePicUrl","alt","span","title","participateCount","memo","profile","useAppSelector","account","dispatch","useAppDispatch","useState","hot","setHot","handleInitHot","apiHotTopic","limit","console","log","useEffect","style","width","userId","avatarUrl","nickname","Gender","gender","size","eventCount","follows","followeds","height","type","onClick","setLoginVisibilty","event","setEvent","DomScroll","useRef","DomObserver","refLasttime","handleInitEvent","lasttime","apiEvent","current","prev","useInfinite","ref","IconPlus","stroke","Dynamic","length","Loading","detail","id","useParams","setDetail","data","setData","act","apiTopicDetail","actid","useCallback","events","apiTopicDetailEventHot","coverPCUrl","loading","minWidth","IconPencil","IconShare","ul","text","index","li","setType","setList","handleInit","count","button","classNames","Routes","Route","element","Friend","path","Top","Acquaintance","Topic"],"sourceRoot":""}