{"version":3,"file":"js/Friend.js?version=0ad35175","mappings":"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","sources":["webpack://wyy/./src/modules/services/friend/api.ts","webpack://wyy/./src/features/Friend/components/TopicList.tsx","webpack://wyy/./src/features/Friend/components/Aside.tsx","webpack://wyy/./src/features/Friend/Friend.tsx","webpack://wyy/./src/features/Friend/components/Detail.tsx","webpack://wyy/./src/features/Friend/Topic.tsx","webpack://wyy/./src/features/Friend/Top.tsx","webpack://wyy/./src/features/Friend/Acquaintance.tsx","webpack://wyy/./src/features/Friend/Router.tsx"],"sourcesContent":["import { Tops, Topics, TopicDetails } from \"./types\";\nimport { base } from \"../base\";\n\nexport const api = base.injectEndpoints({\n  endpoints: (build) => ({\n    getHotTopic: build.query<Topics, { limit: number }>({\n      query: (body) => ({\n        url: `hot/topic`,\n        method: \"POST\",\n        body,\n      }),\n    }),\n    getTopicDetail: build.query<TopicDetails, { actid: string }>({\n      query: (body) => ({\n        url: `topic/detail`,\n        method: \"POST\",\n        body,\n      }),\n    }),\n  }),\n});\n\nexport const { useGetHotTopicQuery, useGetTopicDetailQuery } = api;\n","import { useGetHotTopicQuery } from \"@/modules/services/friend\";\nimport React, { FC, memo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Loading from \"@/components/Loading\";\n\ninterface iProps {\n  limit: number;\n}\n\nconst TopicList: FC<iProps> = ({ limit }) => {\n  const { data, isLoading } = useGetHotTopicQuery({ limit });\n  const hot = data?.hot || [];\n  if (isLoading) {\n    return (\n      <div className={`flex-center`}>\n        <Loading />\n      </div>\n    );\n  }\n  return (\n    <div className=\"list\">\n      {hot.map((item) => (\n        <Link\n          to={`/friend/${item.actId}`}\n          key={item.actId}\n          className=\"py-1 pl-5 flex hover:bg-gray-100\"\n        >\n          <div className=\"cover w-8 h-8 flex-none\">\n            <img\n              className=\"rounded\"\n              src={`${item.sharePicUrl}?param=50y50`}\n              alt=\"\"\n            />\n          </div>\n          <div className=\"content px-2 flex-auto w-0\">\n            <div className=\"title flex items-center\">\n              #<span className=\"truncate\">{item.title}</span>#\n            </div>\n            <div className=\"participateCount text-gray-300\">\n              {`${item.participateCount}人参与`}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n};\nexport default memo(TopicList);\n","import { useAppDispatch, useAppSelector } from \"@/modules/hooks\";\nimport { Link } from \"react-router-dom\";\nimport Gender from \"@/components/Gender\";\nimport { setLoginVisibilty } from \"@/modules/reducers/common/slice\";\nimport TopicList from \"./TopicList\";\nimport React, { memo } from \"react\";\n\nexport default memo(function Aside() {\n  const { profile } = useAppSelector(({ account }) => account);\n  const dispatch = useAppDispatch();\n  return (\n    <div className=\"flex-none\" style={{ width: 250 }}>\n      <div className=\"\">\n        {profile.userId ? (\n          <div className=\"h-40 pt-8 bg-gray-100\">\n            <div className=\"top flex px-5 items-start\">\n              <Link\n                to={`/user/${profile.userId}`}\n                className=\"avatar w-12 h-12 rounded-full overflow-hidden\"\n              >\n                <img\n                  className=\"\"\n                  src={`${profile.avatarUrl}?param=100y100`}\n                  alt=\"\"\n                />\n              </Link>\n              <div className=\"flex-center\">\n                <Link\n                  to={`/user/${profile.userId}`}\n                  className=\"nickname ml-2.5\"\n                >\n                  {profile.nickname}\n                </Link>\n                &nbsp;\n                <Gender gender={profile.gender} size={14} />\n              </div>\n            </div>\n            <div className=\"infos flex divide-x text-center mt-4\">\n              <Link\n                to={`/user/${profile.userId}/dynamic`}\n                className=\"info flex-1 ui_text_black_hover\"\n              >\n                <div className=\"num text-xl\">{profile.eventCount}</div>\n                <div className=\"string\">动态</div>\n              </Link>\n              <Link\n                to={`/user/${profile.userId}/follow`}\n                className=\"info flex-1 ui_text_black_hover\"\n              >\n                <div className=\"num text-xl\">{profile.follows}</div>\n                <div className=\"string\">关注</div>\n              </Link>\n              <Link\n                to={`/user/${profile.userId}/fans`}\n                className=\"info flex-1 ui_text_black_hover\"\n              >\n                <div className=\"num text-xl\">{profile.followeds}</div>\n                <div className=\"string\">粉丝</div>\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"nologin px-5\">\n            <div style={{ height: 170 }} />\n            <div className=\"tips text-center text-gray-500\">\n              登录网易云音乐，可以享受无限收藏的乐趣，并且无限同步到手机\n            </div>\n            <button\n              type=\"button\"\n              className=\"ui_theme_bg_color text-white w-full h-10 mt-4 rounded-full\"\n              onClick={() => dispatch(setLoginVisibilty())}\n            >\n              立即登录\n            </button>\n          </div>\n        )}\n      </div>\n      <div className=\"mt-5\">\n        <div className=\"flex px-5 mb-2.5\">\n          <span className=\"font-bold\">热门话题</span>\n          <Link className=\"text-gray-400 ml-auto\" to=\"/friend/top\">\n            更多 &gt;\n          </Link>\n        </div>\n        <TopicList limit={5} />\n      </div>\n      <div className=\"mt-8\">\n        <div className=\"flex px-5 mb-2.5\">\n          <span className=\"font-bold\">认识的人</span>\n          <Link className=\"text-gray-400 ml-auto\" to=\"/friend/acquaintance\">\n            更多 &gt;\n          </Link>\n        </div>\n      </div>\n      <div className=\"mt-8\">\n        <div className=\"flex px-5 mb-2.5\">\n          <span className=\"font-bold\">添加关注</span>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect, useRef, useState } from \"react\";\nimport { apiEvent } from \"@/api\";\nimport { IconPlus } from \"@tabler/icons\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport Loading from \"@/components/Loading\";\nimport Dynamic from \"@/components/Dynamic\";\nimport Aside from \"./components/Aside\";\n\nconst getArticleFromJson = (json) => {\n  const obj = JSON.parse(json);\n  return (\n    <>\n      <div className=\"song\">\n        <div className=\"cover\">\n          <img src={obj.img80x80} alt=\"\" />\n        </div>\n        <div className=\"\">{obj.song.name}</div>\n      </div>\n    </>\n  );\n};\n\nconst Friend = () => {\n  const [event, setEvent] = useState([]);\n\n  const DomScroll = useRef(null);\n  const DomObserver = useRef(null);\n  const refLasttime = useRef(-1);\n  const handleInitEvent = async () => {\n    try {\n      const { event = [], lasttime = -1 } = await apiEvent({\n        lasttime: refLasttime.current,\n      });\n      refLasttime.current = lasttime;\n      // dispatch(setFriendEventAdd({ event }));\n      setEvent((prev) => [...prev, ...event]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    setEvent([]);\n  }, []);\n  useInfinite(handleInitEvent, DomScroll, DomObserver);\n\n  return (\n    <div className=\"h-full overflow-auto\" ref={DomScroll}>\n      <div className=\"flex divide-x min-h-full\">\n        <div className=\"relative flex-auto\">\n          <div className=\"h-14 px-8 flex items-center sticky top-0 z-10 bg-white\">\n            <span className=\"h1\">动态</span>\n            <button\n              type=\"button\"\n              className=\"flex ml-auto items-center ui_theme_bg_color text-white h-6 px-3 rounded-full\"\n            >\n              <IconPlus size={12} stroke={5} />\n              写动态\n            </button>\n          </div>\n          <div className=\"domFriend_content\">\n            <div className=\"px-8\">\n              <Dynamic list={event} />\n            </div>\n            <div className=\"flex-center\" ref={DomObserver}>\n              {event.length === 0 ? (\n                <div className=\"empty text-center text-gray-400 pt-48\">\n                  暂无动态\n                </div>\n              ) : (\n                <Loading />\n              )}\n            </div>\n          </div>\n        </div>\n        <Aside />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Friend);\n","import { IconPencil, IconShare } from \"@tabler/icons\";\nimport React, { memo } from \"react\";\nimport { useGetTopicDetailQuery } from \"@/modules/services/friend\";\nimport { useParams } from \"react-router-dom\";\n\nconst Detail = () => {\n  const { id } = useParams();\n  const { data, isLoading } = useGetTopicDetailQuery({\n    actid: id as string,\n  });\n  const act = data?.act || {};\n  if (isLoading) return null;\n  return (\n    <div className=\"border-b\">\n      <div className=\"rounded overflow-hidden border relative\">\n        <img\n          src={act.coverPCUrl}\n          loading={\"lazy\"}\n          className={`h-56 object-cover block`}\n          alt=\"\"\n        />\n        <div\n          className={`absolute inset-0 bg-black bg-opacity-20 flex-center flex-col`}\n        >\n          <div\n            style={{ minWidth: 210 }}\n            className=\"relative max-w-sm min-w- border-t border-b border-white border-opacity-60 py-6 text-white text-xl flex-center text-center flex-col \"\n          >\n            <div className={`flex`}>\n              #<span className=\"truncate\">{act.title}</span>#\n            </div>\n            <span className=\"absolute inset-x-0 text-xs whitespace-nowrap top-full transform -translate-y-1/2\">\n              {`${act.participateCount}人参与`}\n            </span>\n          </div>\n          <button\n            type=\"button\"\n            className=\"bg-white flex-center h-9 mt-4 w-52 rounded text-red-500 bg-opacity-90 hover:bg-opacity-100\"\n          >\n            <IconPencil size={16} />\n            立即参与\n          </button>\n        </div>\n        <button\n          type=\"button\"\n          className=\"absolute m-4 w-8 h-8 flex-center top-0 right-0 border text-white border-current rounded-full bg-black bg-opacity-50\"\n        >\n          <IconShare size={24} stroke={1} />\n        </button>\n      </div>\n      <ul className=\"pb-8 text-sm text-gray-500 leading-6\">\n        {act.text?.map((text, index) => (\n          <li key={index}>{text}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default memo(Detail);\n","import React, { memo, useCallback, useEffect, useRef, useState } from \"react\";\nimport { apiTopicDetailEventHot } from \"@/api\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport Dynamic from \"@/components/Dynamic\";\nimport TopicList from \"./components/TopicList\";\nimport { useParams } from \"react-router-dom\";\nimport Detail from \"./components/Detail\";\n\nexport default memo(function Topic() {\n  const { id } = useParams();\n  console.log(id);\n  const [state, setState] = useState({});\n  const [data, setData] = useState([]);\n  const DomScroll = useRef(null);\n  const DomObserver = useRef(null);\n\n  const handleInitEvent = useCallback(async () => {\n    console.log(\"handleInitEvent\");\n    try {\n      const { events } = await apiTopicDetailEventHot({\n        actid: id,\n      });\n      setData(events);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [id]);\n  useInfinite(handleInitEvent, DomScroll, DomObserver);\n\n  return (\n    <div className=\"h-full overflow-auto\" ref={DomScroll}>\n      <div className=\"flex divide-x\">\n        <div className=\"flex-auto w-0\">\n          <div className=\"px-8 pt-4\">\n            <Detail />\n            <Dynamic list={data} />\n            <div ref={DomObserver} />\n          </div>\n        </div>\n        <div className=\"flex-none\" style={{ width: 230 }}>\n          <div className=\"p-4 text-sm text-gray-700\">推荐话题</div>\n          <TopicList limit={10} />\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo, useEffect, useState } from \"react\";\nimport TopicList from \"./components/TopicList\";\nimport { apiTopicDetail } from \"@/api\";\nimport classNames from \"classnames\";\n\nexport default memo(function TOP() {\n  const [type, setType] = useState(\"day\");\n  const [list, setList] = useState([]);\n  const handleInit = async () => {\n    setList([\n      {\n        title: \"你的恋爱人格是什么\",\n        count: 916,\n      },\n      {\n        title: \"你的恋爱人格是什么\",\n        count: 916,\n      },\n    ]);\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, [type]);\n  return (\n    <div className={` h-full overflow-auto`}>\n      <div className={`flex divide-x`}>\n        <div className=\"flex-auto w-0\">\n          <div className=\"h-16 px-8 flex items-center\">\n            <span className={`text-lg font-bold`}>话题飙升榜</span>\n            <div className={`ml-auto space-x-3 text-gray-300`}>\n              <button\n                type={\"button\"}\n                onClick={() => setType(\"day\")}\n                className={classNames(\n                  `hover:text-gray-700`,\n                  type === \"day\" && \"text-gray-700\"\n                )}\n              >\n                24小时\n              </button>\n              <span>|</span>\n              <button\n                type={\"button\"}\n                onClick={() => setType(\"week\")}\n                className={classNames(\n                  `hover:text-gray-700`,\n                  type === \"week\" && \"text-gray-700\"\n                )}\n              >\n                7天\n              </button>\n            </div>\n          </div>\n          <div>\n            {list.map((item, index) => (\n              <div\n                key={index}\n                className={classNames(\n                  \"flex items-center h-20 hover:bg-gray-100\",\n                  index % 2 === 1 && \"bg-gray-50\"\n                )}\n              >\n                <div className={`w-16 flex-center text-sm `}>{index + 1}</div>\n                <div className={`w-14 h-14`}>\n                  <img src=\"\" alt=\"\" />\n                </div>\n                <div>\n                  <div className={`text-lg`}>{item.title}</div>\n                  <div className={`text-gray-300`}>{item.count}人参与</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"domFriend_right flex-none\" style={{ width: 230 }}>\n          <div className=\"p-4 text-sm text-gray-700\">推荐话题</div>\n          <TopicList limit={10} />\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from \"react\";\n\nexport default memo(function Acquaintance() {\n  return (\n    <div className={``}>\n      <div className={`text-xl p-8 font-bold`}>寻找并邀请好友</div>\n      <div className={`px-8`}>\n        <div className={`space-x-2 text-gray-500`}>\n          <button type=\"button\">已有1位好友加入</button>\n          <span>|</span>\n          <button type={\"button\"}>邀请另外3位好友加入</button>\n        </div>\n        <div>TODO</div>\n      </div>\n    </div>\n  );\n});\n","import React, { lazy } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Friend from \"./Friend\";\nimport Topic from \"./Topic\";\nimport Top from \"./Top\";\nimport Acquaintance from \"./Acquaintance\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route index element={<Friend />} />\n      <Route path=\"top\" element={<Top />} />\n      <Route path=\"Acquaintance\" element={<Acquaintance />} />\n      <Route path=\":id\" element={<Topic />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["api","base","endpoints","build","getHotTopic","query","body","url","method","getTopicDetail","useGetHotTopicQuery","useGetTopicDetailQuery","TopicList","limit","data","isLoading","hot","div","className","Loading","map","item","Link","to","actId","key","img","src","sharePicUrl","alt","span","title","participateCount","memo","profile","useAppSelector","account","dispatch","useAppDispatch","style","width","userId","avatarUrl","nickname","Gender","gender","size","eventCount","follows","followeds","height","type","onClick","setLoginVisibilty","Friend","useState","event","setEvent","DomScroll","useRef","DomObserver","refLasttime","handleInitEvent","lasttime","apiEvent","current","prev","console","log","useEffect","useInfinite","ref","IconPlus","stroke","Dynamic","list","length","Detail","act","id","useParams","actid","coverPCUrl","loading","minWidth","IconPencil","IconShare","ul","text","index","li","setData","useCallback","events","apiTopicDetailEventHot","setType","setList","handleInit","count","button","classNames","Routes","Route","element","path","Top","Acquaintance","Topic"],"sourceRoot":""}