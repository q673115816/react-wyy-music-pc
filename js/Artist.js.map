{"version":3,"file":"js/Artist.js?version=6080002f","mappings":"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","sources":["webpack://@wyy/web/./src/features/Artist/components/Detail.tsx","webpack://@wyy/web/./src/features/Artist/layouts/Grid.tsx","webpack://@wyy/web/./src/features/Artist/layouts/List.tsx","webpack://@wyy/web/./src/features/Artist/layouts/Column.tsx","webpack://@wyy/web/./src/features/Artist/components/Album.tsx","webpack://@wyy/web/./src/features/Artist/components/Desc.tsx","webpack://@wyy/web/./src/features/Artist/components/MV.tsx","webpack://@wyy/web/./src/features/Artist/components/Similarity.tsx","webpack://@wyy/web/./src/features/Artist/config.ts","webpack://@wyy/web/./src/features/Artist/Artist.tsx","webpack://@wyy/web/./src/features/Artist/Router.tsx"],"sourcesContent":["import React, { memo } from \"react\";\nimport { IconFolderPlus, IconCheckbox } from \"@tabler/icons\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { setDialogUnSubscriptionShow } from \"@/modules/reducers/mask/slice\";\nimport { useAppDispatch } from \"@/modules/hooks\";\nimport {\n  useGetArtistDetailQuery,\n  usePostArtistSubMutation,\n} from \"@/modules/services/artist\";\nimport { useToast } from \"@/components/Toast\";\n\nconst Detail = () => {\n  const { id = \"\" } = useParams();\n  const toast = useToast();\n  const dispatch = useAppDispatch();\n  const [subPost, { isLoading: isSubbing }] = usePostArtistSubMutation();\n  const { data } = useGetArtistDetailQuery({ id });\n  const detail = data?.data || {};\n  const isFollowed = detail?.user?.followed || false;\n  const handleUnSubscription = () => {\n    dispatch(\n      setDialogUnSubscriptionShow({\n        artistId: id,\n      })\n    );\n  };\n\n  const handleSubscription = async () => {\n    try {\n      await subPost({\n        id,\n        t: 1,\n      });\n      toast(\"收藏成功！\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleToggleSub = async () => {\n    isFollowed ? handleUnSubscription() : await handleSubscription();\n  };\n\n  return (\n    <div className=\"domArtist_header flex p-8\">\n      <div className=\"w-44 h-44 border overflow-hidden rounded\">\n        <img src={`${detail.artist?.cover}?param=200y200`} alt=\"\" />\n      </div>\n      <div className=\"content flex-auto px-5\">\n        <div className=\"name h1 select-text\">{detail.artist?.name}</div>\n        <div className=\"enname my-3 select-text\">\n          {detail.alias?.map((alia) => alia)}\n        </div>\n        <div className=\"actions mt-3 flex space-x-2\">\n          <button\n            onClick={handleToggleSub}\n            type=\"button\"\n            className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm\"\n          >\n            {isFollowed ? (\n              <>\n                <IconCheckbox size={20} stroke={1} />\n                已收藏\n              </>\n            ) : (\n              <>\n                <IconFolderPlus size={20} stroke={1} />\n                收藏\n              </>\n            )}\n          </button>\n          {detail.user && (\n            <Link\n              to={`/user/${detail.user?.userId}`}\n              className=\"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm\"\n            >\n              个人主页\n            </Link>\n          )}\n        </div>\n        <div className=\"info mt-5 space-x-5\">\n          <span className=\"size\">\n            单曲数:\n            {detail?.artist?.musicSize}\n          </span>\n          <span className=\"size\">\n            专辑数:\n            {detail.artist?.albumSize}\n          </span>\n          <span className=\"size\">\n            MV数:\n            {detail.artist?.mvSize}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Detail);\n","import React, { FC, memo } from \"react\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\nimport { IconPlayerPlay } from \"@tabler/icons\";\nimport { iProps } from \"./types\";\n\nconst Grid: FC<iProps> = ({ hotAlbums = [] }) => (\n  <div className=\"grid grid-cols-4 p-8 gap-x-20 gap-y-5\">\n    {hotAlbums.map((item) => (\n      <div className=\"item\" key={item.id}>\n        <div className=\"cover rounded overflow-hidden relative group\">\n          <Link to={`/playlist/album/${item.id}`}>\n            <img className=\"\" src={`${item.picUrl}?param=200y200`} alt=\"\" />\n          </Link>\n          <button\n            type=\"button\"\n            className=\"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"\n          >\n            <IconPlayerPlay size={20} className=\"fill-current\" />\n          </button>\n        </div>\n        <div className=\"name text-sm mt-2\">\n          <Link to={`/playlist/album/${item.id}`} className=\"ui_ellipse\">\n            <span className=\"ui_text_black_hover\">{item.name}</span>\n            {item.alias.map((alia) => (\n              <span className=\"text-gray-500\" key={alia}>\n                {`（${alia}）`}\n              </span>\n            ))}\n          </Link>\n        </div>\n        <div className=\"text-gray-400 mt-2\">\n          {dayjs(item.publishTime).format(\"YYYY-MM-DD\")}\n        </div>\n      </div>\n    ))}\n  </div>\n);\n\nexport default memo(Grid);\n","import React, { FC, memo } from \"react\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport { iProps } from \"./types\";\n\nconst List: FC<iProps> = ({ hotAlbums = [] }) => (\n  <div className=\"list pt-4\">\n    {hotAlbums.map((item, index) => (\n      <div\n        className={classNames(\n          \"list_item pl-5 flex items-center h-20 hover:bg-gray-100\",\n          {\n            \"bg-gray-50\": index % 2 === 0,\n          }\n        )}\n        key={item.id}\n      >\n        <Link\n          className=\"cover border rounded flex-none w-14 h-14\"\n          to={`/playlist/album/${item.id}`}\n        >\n          <img\n            className=\"ui_containimg\"\n            src={`${item.picUrl}?param=100y100`}\n            alt=\"\"\n          />\n        </Link>\n        <Link\n          className=\"name truncate px-2.5\"\n          to={`/playlist/album/${item.id}`}\n        >\n          {item.name}\n          &nbsp;\n          {item.alias?.length > 0 && (\n            <span className=\"text-gray-400\">\n              ({item.alias.map((alia) => alia)})\n            </span>\n          )}\n        </Link>\n        <span className=\"size text-gray-400\">{item.size}首</span>\n        <span className=\"publishTime text-gray-400\">\n          发行时间：\n          {dayjs(item.publishTime).format(\"YYYY-MM-DD\")}\n        </span>\n      </div>\n    ))}\n  </div>\n);\n\nexport default memo(List);\n","import React, { FC, memo, useEffect, useState } from \"react\";\nimport { IconPlayerPlay, IconFolderPlus, IconDownload } from \"@tabler/icons\";\n\nimport dayjs from \"dayjs\";\nimport classNames from \"classnames\";\nimport DomTags from \"@/components/Tags\";\nimport DomHeart from \"@/components/Table/Heart\";\nimport { useGetArtistTopSongQuery } from \"@/modules/services/artist\";\nimport { useParams } from \"react-router-dom\";\n\ninterface iProps {}\n\nconst Column: FC<iProps> = () => {\n  const { id = \"\" } = useParams();\n  console.log(\"artist_column\");\n  const [limit, setLimit] = useState(10);\n  const { data } = useGetArtistTopSongQuery({ id });\n  const top50 = data?.songs || [];\n  return (\n    <div className=\"column p-8\">\n      <div className=\"column_item\">\n        <div className=\"cover\">\n          <div className=\"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white\">\n            <div className=\"text-4xl\">TOP</div>\n            <div className=\"text-6xl\">50</div>\n          </div>\n        </div>\n        <div className=\"aside flex-auto ml-20 w-0\">\n          <div className=\"flex\">\n            <span className=\"font-bold text-base\">热门50首</span>\n            <div className=\"flex items-center\">\n              <button\n                type=\"button\"\n                className=\"flex-none border rounded-full flex-center mx-3 p-1\"\n              >\n                <IconPlayerPlay size={10} className=\"fill-current\" />\n              </button>\n              <span className=\"text-gray-300\">|</span>\n              <button type=\"button\" className=\"mx-3\">\n                <IconFolderPlus size={20} stroke={1} />\n              </button>\n            </div>\n          </div>\n          <div className=\"list mt-2\">\n            {top50.slice(0, limit).map((item, index) => (\n              <div\n                className={classNames(\n                  \"item hover:bg-gray-100 focus:outline-none focus:bg-gray-200\",\n                  { \"bg-gray-50\": index % 2 === 0 }\n                )}\n                tabIndex={2}\n                key={item.id}\n              >\n                <div className=\"index flex-none text-right text-gray-400\">\n                  {String(index + 1).padStart(2, \"0\")}\n                </div>\n                <div className=\"heart flex-none text-center\">\n                  <DomHeart id={item.id} />\n                </div>\n                <div className=\"download flex-none text-center\">\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-500 hover:text-black\"\n                  >\n                    <IconDownload size={16} stroke={1} />\n                  </button>\n                </div>\n                <div className=\"name flex-auto flex flex-auto min-w-0 px-2.5\">\n                  <span\n                    className=\"truncate\"\n                    title={`${item.name}(${item.alia.map((alia) => alia)})`}\n                  >\n                    {item.name}\n                    &nbsp;\n                    <span className=\"text-gray-400\">\n                      {item.alia.map((alia) => alia)}\n                    </span>\n                  </span>\n                  <DomTags item={item} className=\"flex-none\" />\n                </div>\n                <div className=\"duration text-gray-400 flex-none\">\n                  {dayjs(item.dt).format(\"mm:ss\")}\n                </div>\n              </div>\n            ))}\n            {limit === 10 && top50.length > 10 && (\n              <button\n                type=\"button\"\n                className=\"seeMore\"\n                onClick={() => setLimit(50)}\n              >\n                查看全部\n                {top50.length}首 &gt;\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Column);\n","import React, { memo, createElement, ReactNode } from \"react\";\nimport {\n  IconLayoutGrid,\n  IconList,\n  IconLayout,\n  TablerIcon,\n} from \"@tabler/icons\";\nimport classNames from \"classnames\";\nimport Grid from \"../layouts/Grid\";\nimport List from \"../layouts/List\";\nimport Column from \"../layouts/Column\";\nimport { useParams } from \"react-router-dom\";\nimport { useLocalStorage } from \"react-use\";\nimport { useGetArtistAlbumQuery } from \"@/modules/services/artist\";\nimport Loading from \"@/components/Loading\";\n\nexport type Layout = \"Grid\" | \"List\" | \"Column\";\n\nconst navs: [Layout, TablerIcon][] = [\n  [\"Grid\", IconLayoutGrid],\n  [\"List\", IconList],\n  [\"Column\", IconLayout],\n];\n\nconst Contents: { [key in Layout]: ReactNode } = {\n  Grid,\n  List,\n  Column,\n};\n\nexport default memo(function Album() {\n  const { id = \"\" } = useParams();\n  const [layout = \"Grid\", setLayout, remove] = useLocalStorage<Layout>(\n    \"layout\",\n    navs[0][0]\n  );\n  const { data, isLoading } = useGetArtistAlbumQuery({ id });\n  const hotAlbums = data?.hotAlbums || [];\n  const more = data?.more || false;\n  if (isLoading) {\n    return <Loading />;\n  }\n  return (\n    <div className=\"domArtist_section relative\">\n      <div className=\"absolute right-8 bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden\">\n        {navs.map(([view, Ico]) => (\n          <button\n            key={view}\n            type=\"button\"\n            className={classNames(\n              \"px-1.5 py-0.5 bg-gray-200\",\n              \"handle\",\n              view === layout && \"bg-gray-400 text-white\"\n            )}\n            onClick={() => setLayout(view)}\n          >\n            <Ico size={14} stroke={1} />\n          </button>\n        ))}\n      </div>\n      <div className=\"domArtist_section_layout\">\n        {createElement(Contents[layout], { hotAlbums, id })}\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetArtistDescQuery } from \"@/modules/services/artist\";\nimport Loading from \"@/components/Loading\";\n\nconst Desc = () => {\n  const { id = \"\" } = useParams();\n  const { data, isLoading } = useGetArtistDescQuery({ id });\n  if (isLoading) {\n    return <Loading />;\n  }\n  return (\n    <div className=\"domArtist_section p-8 leading-8 text-sm select-text\">\n      <div className=\"domArtist_subtitle font-bold\">简介</div>\n      <div className=\"domArtist_article text-gray-500 indent-8\">\n        {data?.briefDesc}\n      </div>\n      <br />\n      <br />\n      {data?.introduction?.map((introduction) => (\n        <div key={introduction.ti} className=\"select-text\">\n          <div className=\"domArtist_subtitle font-bold\">{introduction.ti}</div>\n          <div className=\"domArtist_article text-gray-500 whitespace-pre-line\">\n            {introduction.txt}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default memo(Desc);\n","import React, { useRef, memo } from \"react\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport GridVideo from \"@/components/GridVideo\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetArtistMVMutation } from \"@/modules/services/artist\";\nimport { useImmer } from \"use-immer\";\nimport Loading from \"@/components/Loading\";\nimport { MV } from \"@/modules/services/types\";\n\nconst limit = 24;\n\nexport default memo(function MV() {\n  const { id = \"\" } = useParams();\n  const [MVs, setMVs] = useImmer([]);\n  const [MVGet, { isLoading }] = useGetArtistMVMutation();\n  // const [hasMore, setHasMore] = useState(true);\n  const more = useRef(true);\n  const offset = useRef(0);\n  const domScroll = useRef<HTMLDivElement>(null);\n  const domObserver = useRef<HTMLDivElement>(null);\n  const handleInit = async () => {\n    if (!more.current) return;\n    try {\n      const { data } = await MVGet({\n        id,\n        limit,\n        offset: offset.current,\n      });\n      offset.current += limit;\n      const mvs = data?.mvs || [];\n      const hasMore = data?.hasMore || false;\n      more.current = hasMore;\n      setMVs((draft) => {\n        draft.push(\n          ...mvs.map(({ id, imgurl, duration, name, playCount }: MV) => ({\n            id,\n            duration,\n            playCount,\n            cover: imgurl,\n            title: name,\n            type: \"0\",\n          }))\n        );\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useInfinite(handleInit, domScroll, domObserver);\n\n  return (\n    <div className=\"domArtist_section p-8\">\n      <GridVideo list={MVs} />\n      <div ref={domObserver} className=\"flex-center\">\n        {isLoading && <Loading />}\n      </div>\n    </div>\n  );\n});\n","import React, { memo, FC } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Loading from \"@/components/Loading\";\nimport { useGetSimiArtistQuery } from \"@/modules/services/artist\";\n\nconst Similarity = () => {\n  const { id = \"\" } = useParams();\n  const { data, isLoading } = useGetSimiArtistQuery({ id });\n\n  const artists = data?.artists || [];\n\n  if (isLoading) return <Loading />;\n\n  if (artists.length === 0) {\n    return (\n      <div className=\"text-center text-gray-400 text-sm pt-16\">\n        没有相似歌手\n      </div>\n    );\n  }\n  return (\n    <div className=\"p-8\">\n      <div className=\"grid grid-cols-5 gap-5\">\n        {artists.map((item) => (\n          <div className={`space-y-2`} key={item.id}>\n            <Link\n              to={`/artist/${item.id}`}\n              className=\"block rounded overflow-hidden border\"\n            >\n              <img\n                loading={`lazy`}\n                className=\"aspect-square object-fit w-full h-full\"\n                src={`${item.picUrl}?param=200y200`}\n                alt=\"\"\n              />\n            </Link>\n            <div>\n              <Link to={`/artist/${item.id}`} className=\"text-sm\">\n                {item.name}\n              </Link>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Similarity);\n","import Album from \"./components/Album\";\nimport Desc from \"./components/Desc\";\nimport MV from \"./components/MV\";\nimport Similarity from \"./components/Similarity\";\n\nexport type Nav = \"Album\" | \"MV\" | \"Desc\" | \"Similarity\";\n\nexport const navs: [string, Nav][] = [\n  [\"专辑\", \"Album\"],\n  [\"MV\", \"MV\"],\n  [\"歌手详情\", \"Desc\"],\n  [\"相似歌手\", \"Similarity\"],\n];\n\nexport const Contents = {\n  Album,\n  MV,\n  Desc,\n  Similarity,\n};\n","import React, { createElement, memo, useState } from \"react\";\n\nimport classNames from \"classnames\";\nimport \"./style.scss\";\nimport Detail from \"./components/Detail\";\nimport { Contents, navs } from \"./config\";\n\nexport default memo(function Artist() {\n  const [active, setActive] = useState(navs[0][1]);\n  return (\n    <div className=\"domArtist overflow-auto max-h-full flex-auto\">\n      <Detail />\n      <div>\n        <div className=\"flex mx-8\">\n          <div className=\"flex gap-4 text-sm\">\n            {navs.map(([name, key]) => (\n              <button\n                key={key}\n                onClick={() => setActive(key)}\n                type=\"button\"\n                className={classNames(\n                  active === key && \"font-bold ui_underline\"\n                )}\n              >\n                {name}\n              </button>\n            ))}\n          </div>\n          <div className=\"relative ml-auto\" />\n        </div>\n        {createElement(Contents[active])}\n      </div>\n    </div>\n  );\n});\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Artist from \"./Artist\";\nconst Router = () => {\n  return (\n    <Routes>\n      <Route path={\":id\"} element={<Artist />} />\n    </Routes>\n  );\n};\n\nexport default Router;\n"],"names":["Detail","detail","useParams","id","toast","useToast","dispatch","useAppDispatch","usePostArtistSubMutation","subPost","isLoading","useGetArtistDetailQuery","data","isFollowed","user","followed","handleSubscription","t","console","log","handleToggleSub","setDialogUnSubscriptionShow","artistId","div","className","img","src","artist","cover","alt","name","alias","map","alia","button","onClick","type","IconCheckbox","size","stroke","IconFolderPlus","Link","to","userId","span","musicSize","albumSize","mvSize","memo","Grid","hotAlbums","item","key","picUrl","IconPlayerPlay","dayjs","publishTime","format","List","index","classNames","length","Column","useState","limit","setLimit","useGetArtistTopSongQuery","top50","songs","slice","tabIndex","String","padStart","DomHeart","IconDownload","title","DomTags","dt","navs","IconLayoutGrid","IconList","IconLayout","Contents","useLocalStorage","layout","setLayout","useGetArtistAlbumQuery","more","Loading","view","Ico","createElement","Desc","useGetArtistDescQuery","briefDesc","br","introduction","ti","txt","Similarity","useGetSimiArtistQuery","artists","loading","Album","MV","useImmer","MVs","setMVs","useGetArtistMVMutation","MVGet","useRef","offset","domScroll","domObserver","handleInit","mvs","hasMore","current","draft","push","imgurl","duration","playCount","useInfinite","GridVideo","list","ref","active","setActive","Routes","Route","path","element","Artist"],"sourceRoot":""}