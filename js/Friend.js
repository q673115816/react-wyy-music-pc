"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[144],{6469:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r=n(7363),a=n.n(r),l=n(6711),c=n(5666),o=n.n(c),i=n(9266),s=n(6719),u=n(534),m=n(4719),f=n(2763),d=n(4837),v=n(2429),p=n(8942),y=function(e){var t=e.list,n=void 0===t?[]:t;return a().createElement("div",{className:"list"},n.map((function(e){return a().createElement(l.Link,{to:"/friend/".concat(e.actId),key:e.actId,className:"py-1 pl-5 flex hover:bg-gray-100"},a().createElement("div",{className:"cover w-8 h-8 flex-none"},a().createElement("img",{className:"rounded",src:"".concat(e.sharePicUrl,"?param=50y50"),alt:""})),a().createElement("div",{className:"content px-2 flex-auto w-0"},a().createElement("div",{className:"title flex items-center"},"#",a().createElement("span",{className:"truncate"},e.title),"#"),a().createElement("div",{className:"participateCount text-gray-300"},"".concat(e.participateCount,"人参与"))))})))};const h=(0,r.memo)(y);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,r,a,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,a)}const b=(0,r.memo)((function(){var e,t,n,c,s=(0,d.C)((function(e){return e.account})).profile,u=(0,d.T)(),m=(n=(0,r.useState)([]),c=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){o=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw a}}return l}}(n,c)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(n,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=m[0],y=m[1],b=(e=o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.oy)({limit:5});case 3:t=e.sent,n=t.hot,y(void 0===n?[]:n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),t=function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function c(e){E(l,r,a,c,o,"next",e)}function o(e){E(l,r,a,c,o,"throw",e)}c(void 0)}))},function(){return t.apply(this,arguments)});return(0,r.useEffect)((function(){b()}),[]),a().createElement("div",{className:"flex-none",style:{width:250}},a().createElement("div",{className:""},s.userId?a().createElement("div",{className:"h-40 pt-8 bg-gray-100"},a().createElement("div",{className:"top flex px-5 items-start"},a().createElement(l.Link,{to:"/user/".concat(s.userId),className:"avatar w-12 h-12 rounded-full overflow-hidden"},a().createElement("img",{className:"",src:"".concat(s.avatarUrl,"?param=100y100"),alt:""})),a().createElement("div",{className:"flex-center"},a().createElement(l.Link,{to:"/user/".concat(s.userId),className:"nickname ml-2.5"},s.nickname)," ",a().createElement(v.ZP,{gender:s.gender,size:14}))),a().createElement("div",{className:"infos flex divide-x text-center mt-4"},a().createElement(l.Link,{to:"/user/".concat(s.userId,"/dynamic"),className:"info flex-1 ui_text_black_hover"},a().createElement("div",{className:"num text-xl"},s.eventCount),a().createElement("div",{className:"string"},"动态")),a().createElement(l.Link,{to:"/user/".concat(s.userId,"/follow"),className:"info flex-1 ui_text_black_hover"},a().createElement("div",{className:"num text-xl"},s.follows),a().createElement("div",{className:"string"},"关注")),a().createElement(l.Link,{to:"/user/".concat(s.userId,"/fans"),className:"info flex-1 ui_text_black_hover"},a().createElement("div",{className:"num text-xl"},s.followeds),a().createElement("div",{className:"string"},"粉丝")))):a().createElement("div",{className:"nologin px-5"},a().createElement("div",{style:{height:170}}),a().createElement("div",{className:"tips text-center text-gray-500"},"登录网易云音乐，可以享受无限收藏的乐趣，并且无限同步到手机"),a().createElement("button",{type:"button",className:"ui_theme_bg_color text-white w-full h-10 mt-4 rounded-full",onClick:function(){return u((0,p.setLoginVisibilty)())}},"立即登录"))),a().createElement("div",{className:"mt-5"},a().createElement("div",{className:"flex px-5 mb-2.5"},a().createElement("span",{className:"font-bold"},"热门话题"),a().createElement(l.Link,{className:"text-gray-400 ml-auto",to:"/friend/top"},"更多 >")),a().createElement(h,{list:f})),a().createElement("div",{className:"mt-8"},a().createElement("div",{className:"flex px-5 mb-2.5"},a().createElement("span",{className:"font-bold"},"认识的人"),a().createElement(l.Link,{className:"text-gray-400 ml-auto",to:"/friend/acquaintance"},"更多 >"))),a().createElement("div",{className:"mt-8"},a().createElement("div",{className:"flex px-5 mb-2.5"},a().createElement("span",{className:"font-bold"},"添加关注"))))}));function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,a,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,a)}function w(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}const S=(0,r.memo)((function(){var e,t,n,l,c=(n=(0,r.useState)([]),l=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){o=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw a}}return l}}(n,l)||k(n,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],v=c[1],p=(0,r.useRef)(null),y=(0,r.useRef)(null),h=(0,r.useRef)(-1),x=(e=o().mark((function e(){var t,n,r,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.Nz)({lasttime:h.current});case 3:t=e.sent,n=t.event,r=void 0===n?[]:n,a=t.lasttime,l=void 0===a?-1:a,h.current=l,v((function(e){return w(e).concat(w(r))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})),t=function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function c(e){g(l,r,a,c,o,"next",e)}function o(e){g(l,r,a,c,o,"throw",e)}c(void 0)}))},function(){return t.apply(this,arguments)});return(0,r.useEffect)((function(){v([])}),[]),(0,u.Z)(x,p,y),a().createElement("div",{className:"h-full overflow-auto",ref:p},a().createElement("div",{className:"flex divide-x min-h-full"},a().createElement("div",{className:"relative flex-auto"},a().createElement("div",{className:"h-14 px-8 flex items-center sticky top-0 z-10 bg-white"},a().createElement("span",{className:"h1"},"动态"),a().createElement("button",{type:"button",className:"flex ml-auto items-center ui_theme_bg_color text-white h-6 px-3 rounded-full"},a().createElement(s.IconPlus,{size:12,stroke:5}),"写动态")),a().createElement("div",{className:"domFriend_content"},a().createElement("div",{className:"px-8"},a().createElement(f.Z,{list:d})),a().createElement("div",{className:"flex-center",ref:y},0===d.length?a().createElement("div",{className:"empty text-center text-gray-400 pt-48"},"暂无动态"):a().createElement(m.Z,null)))),a().createElement(b,null)))}));function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n,r,a,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function c(e){I(l,r,a,c,o,"next",e)}function o(e){I(l,r,a,c,o,"throw",e)}c(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){o=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const j=(0,r.memo)((function(){var e,t=(0,l.useParams)().id;console.log(t);var n,c=C((0,r.useState)({}),2),m=(c[0],c[1],C((0,r.useState)({}),2)),d=m[0],v=m[1],p=C((0,r.useState)([]),2),y=p[0],x=p[1],E=C((0,r.useState)([]),2),b=E[0],N=E[1],g=(0,r.useRef)(null),w=(0,r.useRef)(null),k=(n=_(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.bv)({actid:t});case 3:return n=e.sent.act,e.next=6,(0,i.oy)({limit:10});case 6:r=e.sent.hot,v(n),x(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(){return n.apply(this,arguments)}),S=(0,r.useCallback)(_(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleInitEvent"),e.prev=1,e.next=4,(0,i.Mx)({actid:t});case 4:n=e.sent.events,N(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t]);return(0,u.Z)(S,g,w),(0,r.useEffect)((function(){N([]),k()}),[t]),a().createElement("div",{className:"domFriend h-full overflow-auto",ref:g},a().createElement("div",{className:"flex divide-x"},a().createElement("div",{className:"domFriend_left flex-auto w-0"},a().createElement("div",{className:"px-8 pt-4"},a().createElement("div",{className:"border-b"},a().createElement("div",{className:"rounded overflow-hidden border relative"},a().createElement("img",{src:d.coverPCUrl,loading:"lazy",className:"h-56 object-cover block",alt:""}),a().createElement("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex-center flex-col"},a().createElement("div",{style:{minWidth:210},className:"relative max-w-sm min-w- border-t border-b border-white border-opacity-60 py-6 text-white text-xl flex-center text-center flex-col "},a().createElement("div",{className:"flex"},"#",a().createElement("span",{className:"truncate"},d.title),"#"),a().createElement("span",{className:"absolute inset-x-0 text-xs whitespace-nowrap top-full transform -translate-y-1/2"},"".concat(d.participateCount,"人参与"))),a().createElement("button",{type:"button",className:"bg-white flex-center h-9 mt-4 w-52 rounded text-red-500 bg-opacity-90 hover:bg-opacity-100"},a().createElement(s.IconPencil,{size:16}),"立即参与")),a().createElement("button",{type:"button",className:"absolute m-4 w-8 h-8 flex-center top-0 right-0 border text-white border-current rounded-full bg-black bg-opacity-50"},a().createElement(s.IconShare,{size:24,stroke:1}))),a().createElement("ul",{className:"pb-8 text-sm text-gray-500 leading-6"},null===(e=d.text)||void 0===e?void 0:e.map((function(e,t){return a().createElement("li",{key:t},e)})))),a().createElement(f.Z,{list:b}),a().createElement("div",{ref:w}))),a().createElement("div",{className:"domFriend_right flex-none",style:{width:230}},a().createElement("div",{className:"p-4 text-sm text-gray-700"},"推荐话题"),a().createElement(h,{list:y}))))}));var P=n(4184),O=n.n(P);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,a,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function c(e){L(l,r,a,c,o,"next",e)}function o(e){L(l,r,a,c,o,"throw",e)}c(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){o=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const U=(0,r.memo)((function(){var e,t=T((0,r.useState)("day"),2),n=t[0],l=t[1],c=T((0,r.useState)([]),2),s=c[0],u=c[1],m=T((0,r.useState)([]),2),f=m[0],d=m[1],v=(e=z(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d([{title:"你的恋爱人格是什么",count:916},{title:"你的恋爱人格是什么",count:916}]);case 1:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),p=function(){var e=z(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.oy)({limit:10});case 3:t=e.sent.hot,u(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){p()}),[]),(0,r.useEffect)((function(){v()}),[n]),a().createElement("div",{className:" h-full overflow-auto"},a().createElement("div",{className:"flex divide-x"},a().createElement("div",{className:"flex-auto w-0"},a().createElement("div",{className:"h-16 px-8 flex items-center"},a().createElement("span",{className:"text-lg font-bold"},"话题飙升榜"),a().createElement("div",{className:"ml-auto space-x-3 text-gray-300"},a().createElement("button",{type:"button",onClick:function(){return l("day")},className:O()("hover:text-gray-700","day"===n&&"text-gray-700")},"24小时"),a().createElement("span",null,"|"),a().createElement("button",{type:"button",onClick:function(){return l("week")},className:O()("hover:text-gray-700","week"===n&&"text-gray-700")},"7天"))),a().createElement("div",null,f.map((function(e,t){return a().createElement("div",{key:t,className:O()("flex items-center h-20 hover:bg-gray-100",t%2==1&&"bg-gray-50")},a().createElement("div",{className:"w-16 flex-center text-sm "},t+1),a().createElement("div",{className:"w-14 h-14"},a().createElement("img",{src:"",alt:""})),a().createElement("div",null,a().createElement("div",{className:"text-lg"},e.title),a().createElement("div",{className:"text-gray-300"},e.count,"人参与")))})))),a().createElement("div",{className:"domFriend_right flex-none",style:{width:230}},a().createElement("div",{className:"p-4 text-sm text-gray-700"},"推荐话题"),a().createElement(h,{list:s}))))})),Z=(0,r.memo)((function(){return a().createElement("div",{className:""},a().createElement("div",{className:"text-xl p-8 font-bold"},"寻找并邀请好友"),a().createElement("div",{className:"px-8"},a().createElement("div",{className:"space-x-2 text-gray-500"},a().createElement("button",{type:"button"},"已有1位好友加入"),a().createElement("span",null,"|"),a().createElement("button",{type:"button"},"邀请另外3位好友加入")),a().createElement("div",null,"TODO")))})),F=function(){return a().createElement(l.Routes,null,a().createElement(l.Route,{index:!0,element:a().createElement(S,null)}),a().createElement(l.Route,{path:"top",element:a().createElement(U,null)}),a().createElement(l.Route,{path:"Acquaintance",element:a().createElement(Z,null)}),a().createElement(l.Route,{path:":id",element:a().createElement(j,null)}))}}}]);
//# sourceMappingURL=Friend.js.map?version=023b0bf6