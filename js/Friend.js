"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[144],{9502:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(7363),r=n.n(a),l=n(6711),c=n(5666),o=n.n(c),i=n(9266),s=n(6719),m=n(534),u=n(4719),d=n(7794),f=n(4837),v=n(2429),p=n(8942),E=n(357),y=function(e){var t=e.limit,n=(0,E.nf)({limit:t}),a=n.data,c=n.isLoading,o=(null==a?void 0:a.hot)||[];return c?r().createElement(u.Z,null):r().createElement("div",{className:"list"},o.map((function(e){return r().createElement(l.Link,{to:"/friend/".concat(e.actId),key:e.actId,className:"py-1 pl-5 flex hover:bg-gray-100"},r().createElement("div",{className:"cover w-8 h-8 flex-none"},r().createElement("img",{className:"rounded",src:"".concat(e.sharePicUrl,"?param=50y50"),alt:""})),r().createElement("div",{className:"content px-2 flex-auto w-0"},r().createElement("div",{className:"title flex items-center"},"#",r().createElement("span",{className:"truncate"},e.title),"#"),r().createElement("div",{className:"participateCount text-gray-300"},"".concat(e.participateCount,"人参与"))))})))};const x=(0,a.memo)(y),h=(0,a.memo)((function(){var e=(0,f.C)((function(e){return e.account})).profile,t=(0,f.T)();return r().createElement("div",{className:"flex-none",style:{width:250}},r().createElement("div",{className:""},e.userId?r().createElement("div",{className:"h-40 pt-8 bg-gray-100"},r().createElement("div",{className:"top flex px-5 items-start"},r().createElement(l.Link,{to:"/user/".concat(e.userId),className:"avatar w-12 h-12 rounded-full overflow-hidden"},r().createElement("img",{className:"",src:"".concat(e.avatarUrl,"?param=100y100"),alt:""})),r().createElement("div",{className:"flex-center"},r().createElement(l.Link,{to:"/user/".concat(e.userId),className:"nickname ml-2.5"},e.nickname)," ",r().createElement(v.ZP,{gender:e.gender,size:14}))),r().createElement("div",{className:"infos flex divide-x text-center mt-4"},r().createElement(l.Link,{to:"/user/".concat(e.userId,"/dynamic"),className:"info flex-1 ui_text_black_hover"},r().createElement("div",{className:"num text-xl"},e.eventCount),r().createElement("div",{className:"string"},"动态")),r().createElement(l.Link,{to:"/user/".concat(e.userId,"/follow"),className:"info flex-1 ui_text_black_hover"},r().createElement("div",{className:"num text-xl"},e.follows),r().createElement("div",{className:"string"},"关注")),r().createElement(l.Link,{to:"/user/".concat(e.userId,"/fans"),className:"info flex-1 ui_text_black_hover"},r().createElement("div",{className:"num text-xl"},e.followeds),r().createElement("div",{className:"string"},"粉丝")))):r().createElement("div",{className:"nologin px-5"},r().createElement("div",{style:{height:170}}),r().createElement("div",{className:"tips text-center text-gray-500"},"登录网易云音乐，可以享受无限收藏的乐趣，并且无限同步到手机"),r().createElement("button",{type:"button",className:"ui_theme_bg_color text-white w-full h-10 mt-4 rounded-full",onClick:function(){return t((0,p.setLoginVisibilty)())}},"立即登录"))),r().createElement("div",{className:"mt-5"},r().createElement("div",{className:"flex px-5 mb-2.5"},r().createElement("span",{className:"font-bold"},"热门话题"),r().createElement(l.Link,{className:"text-gray-400 ml-auto",to:"/friend/top"},"更多 >")),r().createElement(x,{limit:5})),r().createElement("div",{className:"mt-8"},r().createElement("div",{className:"flex px-5 mb-2.5"},r().createElement("span",{className:"font-bold"},"认识的人"),r().createElement(l.Link,{className:"text-gray-400 ml-auto",to:"/friend/acquaintance"},"更多 >"))),r().createElement("div",{className:"mt-8"},r().createElement("div",{className:"flex px-5 mb-2.5"},r().createElement("span",{className:"font-bold"},"添加关注"))))}));function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}var k=function(){var e,t,n,l,c=(n=(0,a.useState)([]),l=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw r}}return l}}(n,l)||w(n,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],v=c[1],p=(0,a.useRef)(null),E=(0,a.useRef)(null),y=(0,a.useRef)(-1),x=(e=o().mark((function e(){var t,n,a,r,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.Nz)({lasttime:y.current});case 3:t=e.sent,n=t.event,a=void 0===n?[]:n,r=t.lasttime,l=void 0===r?-1:r,y.current=l,v((function(e){return g(e).concat(g(a))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})),t=function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function c(e){N(l,a,r,c,o,"next",e)}function o(e){N(l,a,r,c,o,"throw",e)}c(void 0)}))},function(){return t.apply(this,arguments)});return(0,a.useEffect)((function(){v([])}),[]),(0,m.Z)(x,p,E),r().createElement("div",{className:"h-full overflow-auto",ref:p},r().createElement("div",{className:"flex divide-x min-h-full"},r().createElement("div",{className:"relative flex-auto"},r().createElement("div",{className:"h-14 px-8 flex items-center sticky top-0 z-10 bg-white"},r().createElement("span",{className:"h1"},"动态"),r().createElement("button",{type:"button",className:"flex ml-auto items-center ui_theme_bg_color text-white h-6 px-3 rounded-full"},r().createElement(s.IconPlus,{size:12,stroke:5}),"写动态")),r().createElement("div",{className:"domFriend_content"},r().createElement("div",{className:"px-8"},r().createElement(d.Z,{list:f})),r().createElement("div",{className:"flex-center",ref:E},0===f.length?r().createElement("div",{className:"empty text-center text-gray-400 pt-48"},"暂无动态"):r().createElement(u.Z,null)))),r().createElement(h,null)))};const S=(0,a.memo)(k);var I=function(){var e,t=(0,l.useParams)().id,n=(0,E.xu)({actid:t}),a=n.data,c=n.isLoading,o=(null==a?void 0:a.act)||{};return c?null:r().createElement("div",{className:"border-b"},r().createElement("div",{className:"rounded overflow-hidden border relative"},r().createElement("img",{src:o.coverPCUrl,loading:"lazy",className:"h-56 object-cover block",alt:""}),r().createElement("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex-center flex-col"},r().createElement("div",{style:{minWidth:210},className:"relative max-w-sm min-w- border-t border-b border-white border-opacity-60 py-6 text-white text-xl flex-center text-center flex-col "},r().createElement("div",{className:"flex"},"#",r().createElement("span",{className:"truncate"},o.title),"#"),r().createElement("span",{className:"absolute inset-x-0 text-xs whitespace-nowrap top-full transform -translate-y-1/2"},"".concat(o.participateCount,"人参与"))),r().createElement("button",{type:"button",className:"bg-white flex-center h-9 mt-4 w-52 rounded text-red-500 bg-opacity-90 hover:bg-opacity-100"},r().createElement(s.IconPencil,{size:16}),"立即参与")),r().createElement("button",{type:"button",className:"absolute m-4 w-8 h-8 flex-center top-0 right-0 border text-white border-current rounded-full bg-black bg-opacity-50"},r().createElement(s.IconShare,{size:24,stroke:1}))),r().createElement("ul",{className:"pb-8 text-sm text-gray-500 leading-6"},null===(e=o.text)||void 0===e?void 0:e.map((function(e,t){return r().createElement("li",{key:t},e)}))))};const A=(0,a.memo)(I);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const j=(0,a.memo)((function(){var e=(0,l.useParams)().id;console.log(e);var t,n=P((0,a.useState)({}),2),c=(n[0],n[1],P((0,a.useState)([]),2)),s=c[0],u=c[1],f=(0,a.useRef)(null),v=(0,a.useRef)(null),p=(0,a.useCallback)((t=o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handleInitEvent"),t.prev=1,t.next=4,(0,i.Mx)({actid:e});case 4:n=t.sent.events,u(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var l=t.apply(e,n);function c(e){C(l,a,r,c,o,"next",e)}function o(e){C(l,a,r,c,o,"throw",e)}c(void 0)}))}),[e]);return(0,m.Z)(p,f,v),r().createElement("div",{className:"h-full overflow-auto",ref:f},r().createElement("div",{className:"flex divide-x"},r().createElement("div",{className:"flex-auto w-0"},r().createElement("div",{className:"px-8 pt-4"},r().createElement(A,null),r().createElement(d.Z,{list:s}),r().createElement("div",{ref:v}))),r().createElement("div",{className:"flex-none",style:{width:230}},r().createElement("div",{className:"p-4 text-sm text-gray-700"},"推荐话题"),r().createElement(x,{limit:10}))))}));var L=n(4184),R=n.n(L);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function z(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const T=(0,a.memo)((function(){var e,t,n=Z((0,a.useState)("day"),2),l=n[0],c=n[1],i=Z((0,a.useState)([]),2),s=i[0],m=i[1],u=(e=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m([{title:"你的恋爱人格是什么",count:916},{title:"你的恋爱人格是什么",count:916}]);case 1:case"end":return e.stop()}}),e)})),t=function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function c(e){z(l,a,r,c,o,"next",e)}function o(e){z(l,a,r,c,o,"throw",e)}c(void 0)}))},function(){return t.apply(this,arguments)});return(0,a.useEffect)((function(){u()}),[l]),r().createElement("div",{className:" h-full overflow-auto"},r().createElement("div",{className:"flex divide-x"},r().createElement("div",{className:"flex-auto w-0"},r().createElement("div",{className:"h-16 px-8 flex items-center"},r().createElement("span",{className:"text-lg font-bold"},"话题飙升榜"),r().createElement("div",{className:"ml-auto space-x-3 text-gray-300"},r().createElement("button",{type:"button",onClick:function(){return c("day")},className:R()("hover:text-gray-700","day"===l&&"text-gray-700")},"24小时"),r().createElement("span",null,"|"),r().createElement("button",{type:"button",onClick:function(){return c("week")},className:R()("hover:text-gray-700","week"===l&&"text-gray-700")},"7天"))),r().createElement("div",null,s.map((function(e,t){return r().createElement("div",{key:t,className:R()("flex items-center h-20 hover:bg-gray-100",t%2==1&&"bg-gray-50")},r().createElement("div",{className:"w-16 flex-center text-sm "},t+1),r().createElement("div",{className:"w-14 h-14"},r().createElement("img",{src:"",alt:""})),r().createElement("div",null,r().createElement("div",{className:"text-lg"},e.title),r().createElement("div",{className:"text-gray-300"},e.count,"人参与")))})))),r().createElement("div",{className:"domFriend_right flex-none",style:{width:230}},r().createElement("div",{className:"p-4 text-sm text-gray-700"},"推荐话题"),r().createElement(x,{limit:10}))))})),U=(0,a.memo)((function(){return r().createElement("div",{className:""},r().createElement("div",{className:"text-xl p-8 font-bold"},"寻找并邀请好友"),r().createElement("div",{className:"px-8"},r().createElement("div",{className:"space-x-2 text-gray-500"},r().createElement("button",{type:"button"},"已有1位好友加入"),r().createElement("span",null,"|"),r().createElement("button",{type:"button"},"邀请另外3位好友加入")),r().createElement("div",null,"TODO")))})),M=function(){return r().createElement(l.Routes,null,r().createElement(l.Route,{index:!0,element:r().createElement(S,null)}),r().createElement(l.Route,{path:"top",element:r().createElement(T,null)}),r().createElement(l.Route,{path:"Acquaintance",element:r().createElement(U,null)}),r().createElement(l.Route,{path:":id",element:r().createElement(j,null)}))}}}]);
//# sourceMappingURL=Friend.js.map?version=9904024d