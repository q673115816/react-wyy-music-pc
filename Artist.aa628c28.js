(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[9009],{9330:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var n=a(9351),r=(a(1249),a(7941),a(3804)),c=a.n(r),s=a(4184),l=a.n(s),i=a(2137),o=a(7757),m=a.n(o),u=(a(9720),a(5200)),d=a(9965),f=a(5325),v=a(2131),p=(a(8309),a(7484)),x=a.n(p),E=a(847);const b=(0,r.memo)((function(e){var t=e.hotAlbums,a=void 0===t?[]:t;return c().createElement("div",{className:"grid grid-cols-4 p-8 gap-x-20 gap-y-5"},a.map((function(e){return c().createElement("div",{className:"item",key:e.id},c().createElement("div",{className:"cover rounded overflow-hidden relative group"},c().createElement(E.Link,{to:"/playlist/album/".concat(e.id)},c().createElement("img",{className:"",src:"".concat(e.picUrl,"?param=200y200"),alt:""})),c().createElement("button",{type:"button",className:"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},c().createElement(u.IconPlayerPlay,{size:20,className:"fill-current"}))),c().createElement("div",{className:"name text-sm mt-2"},c().createElement(E.Link,{to:"/playlist/album/".concat(e.id),className:"ui_ellipse"},c().createElement("span",{className:"ui_text_black_hover"},e.name),e.alias.map((function(e){return c().createElement("span",{className:"text-gray-500",key:e},"（".concat(e,"）"))})))),c().createElement("div",{className:"text-gray-400 mt-2"},x()(e.publishTime).format("YYYY-MM-DD")))})))})),N=(0,r.memo)((function(e){var t=e.hotAlbums,a=void 0===t?[]:t;return c().createElement("div",{className:"list pt-4"},a.map((function(e,t){var a;return c().createElement("div",{className:l()("list_item hover:bg-gray-100",{"bg-gray-50":t%2==0}),key:e.id},c().createElement(E.Link,{className:"cover",to:"/playlist/album/".concat(e.id)},c().createElement("img",{className:"ui_containimg",src:"".concat(e.picUrl,"?param=100y100"),alt:""})),c().createElement(E.Link,{className:"name truncate",to:"/playlist/album/".concat(e.id)},e.name," ",(null===(a=e.alias)||void 0===a?void 0:a.length)>0&&c().createElement("span",{className:"text-gray-400"},"(",e.alias.map((function(e){return e})),")")),c().createElement("span",{className:"size text-gray-400"},e.size,"首"),c().createElement("span",{className:"publishTime text-gray-400"},"发行时间：",x()(e.publishTime).format("YYYY-MM-DD")))})))}));a(7042),a(3112),a(2222);var y=a(7285),h=a(1495);const g=(0,r.memo)((function(e){e.hotAlbums;var t=e.id;console.log("artist_column");var a=(0,r.useState)([]),s=(0,n.Z)(a,2),o=s[0],f=s[1],v=(0,r.useState)(10),p=(0,n.Z)(v,2),E=p[0],b=p[1],N=function(){var e=(0,i.Z)(m().mark((function e(){var a,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.Fz)({id:t});case 3:a=e.sent,n=a.songs,f(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){N()}),[]),c().createElement("div",{className:"column p-8"},c().createElement("div",{className:"column_item"},c().createElement("div",{className:"cover"},c().createElement("div",{className:"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white"},c().createElement("div",{className:"text-4xl"},"TOP"),c().createElement("div",{className:"text-6xl"},"50"))),c().createElement("div",{className:"aside flex-auto ml-20 w-0"},c().createElement("div",{className:"flex"},c().createElement("span",{className:"font-bold text-base"},"热门50首"),c().createElement("div",{className:"flex items-center"},c().createElement("button",{type:"button",className:"flex-none border rounded-full flex-center mx-3 p-1"},c().createElement(u.IconPlayerPlay,{size:10,className:"fill-current"})),c().createElement("span",{className:"text-gray-300"},"|"),c().createElement("button",{type:"button",className:"mx-3"},c().createElement(u.IconFolderPlus,{size:20,stroke:1})))),c().createElement("div",{className:"list mt-2"},o.slice(0,E).map((function(e,t){return c().createElement("div",{className:l()("item hover:bg-gray-100 focus:outline-none focus:bg-gray-200",{"bg-gray-50":t%2==0}),tabIndex:"2",key:e.id},c().createElement("div",{className:"index flex-none text-right text-gray-400"},String(t+1).padStart(2,0)),c().createElement("div",{className:"heart flex-none text-center"},c().createElement(h.Z,{id:e.id})),c().createElement("div",{className:"download flex-none text-center"},c().createElement("button",{type:"button",className:"text-gray-500 hover:text-black"},c().createElement(u.IconDownload,{size:16,stroke:1}))),c().createElement("div",{className:"name flex-auto flex flex-auto min-w-0 px-2.5"},c().createElement("span",{className:"truncate",title:"".concat(e.name,"(").concat(e.alia.map((function(e){return e})),")")},e.name," ",c().createElement("span",{className:"text-gray-400"},e.alia.map((function(e){return e})))),c().createElement(y.Z,{item:e,className:"flex-none"})),c().createElement("div",{className:"duration text-gray-400 flex-none"},x()(e.dt).format("mm:ss")))})),10===E&&o.length>10&&c().createElement("button",{type:"button",className:"seeMore",onClick:function(){return b(50)}},"查看全部",o.length,"首 >")))))}));var k={grid:{Ico:u.IconLayoutGrid,View:b},list:{Ico:u.IconList,View:N},column:{Ico:u.IconLayout,View:g}},w=Object.entries(k);const _=(0,r.memo)((function(e){var t,a,s=e.id,o=(0,f.useDispatch)(),u=(0,f.useSelector)((function(e){return e.artist})).layout,p=(0,r.useState)({hotAlbums:[],more:null}),x=(0,n.Z)(p,2),E=x[0],b=x[1],N=function(){var e=(0,i.Z)(m().mark((function e(){var t,a,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.w4)({id:s});case 3:t=e.sent,a=t.hotAlbums,n=t.more,b({hotAlbums:a,more:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){N()}),[]),c().createElement("div",{className:"domArtist_section relative"},c().createElement("div",{className:"absolute right-8 -translate-y-full bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden"},w.map((function(e){var t=(0,n.Z)(e,2),a=t[0],r=t[1].Ico;return c().createElement("button",{key:a,type:"button",className:l()("px-1.5 py-0.5 bg-gray-200","handle",a===u&&"bg-gray-300 text-white"),onClick:function(){return o((e={layout:a},{type:v.I,payload:e}));var e}},c().createElement(r,{size:14,stroke:1}))}))),c().createElement("div",{className:"domArtist_section_layout"},(t=k[u].View,a=E.hotAlbums,c().createElement(t,{hotAlbums:a,id:s}))))}));var Z=a(7329),A=a(120),I=a(4126);const z=(0,r.memo)((function(e){var t=e.id,a=(0,r.useState)([]),s=(0,n.Z)(a,2),l=s[0],o=s[1],u=(0,r.useRef)(!0),f=(0,r.useRef)(0),v=(0,r.useRef)(),p=(0,r.useRef)(),x=function(){var e=(0,i.Z)(m().mark((function e(){var a,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,d.qx)({id:t,limit:24,offset:f.current});case 5:a=e.sent,n=a.mvs,a.time,r=a.hasMore,f.current+=24,u.current=r,o((function(e){return[].concat((0,Z.Z)(e),(0,Z.Z)(n.map((function(e){var t=e.id,a=e.imgurl,n=e.duration,r=e.name;return{id:t,duration:n,playCount:e.playCount,cover:a,title:r}}))))})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return(0,A.Z)(x,v,p),c().createElement("div",{className:"domArtist_section p-8"},c().createElement(I.Z,{list:l}),c().createElement("div",{ref:p}))})),S=(0,r.memo)((function(e){var t,a=e.id,s=(0,r.useState)({}),l=(0,n.Z)(s,2),o=l[0],u=l[1],f=function(){var e=(0,i.Z)(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.RG)({id:a});case 3:t=e.sent,u(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){f()}),[]),c().createElement("div",{className:"domArtist_section p-8 leading-8 text-sm select-text"},c().createElement("div",{className:"domArtist_subtitle font-bold"},"简介"),c().createElement("div",{className:"domArtist_article text-gray-500",style:{textIndent:"2em"}},o.briefDesc),c().createElement("br",null),c().createElement("br",null),null===(t=o.introduction)||void 0===t?void 0:t.map((function(e){return c().createElement("div",{key:e.ti,className:"select-text"},c().createElement("div",{className:"domArtist_subtitle font-bold"},e.ti),c().createElement("div",{className:"domArtist_article text-gray-500 whitespace-pre-line"},e.txt))})))}));var L=a(8157);const C=(0,r.memo)((function(e){var t=e.id,a=(0,r.useState)([]),s=(0,n.Z)(a,2),l=s[0],o=s[1],u=(0,r.useState)(!0),f=(0,n.Z)(u,2),v=f[0],p=f[1],x=function(){var e=(0,i.Z)(m().mark((function e(){var a,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.LV)({id:t});case 3:a=e.sent,n=a.artists,o(n),p(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){x()}),[]),v?c().createElement("div",{className:"flex justify-center pt-12"},c().createElement(L.Z,null)):0===l.length?c().createElement("div",{className:"text-center text-gray-400 text-sm pt-16"},"没有相似歌手"):c().createElement("div",{className:"domArtist_section p-8"},c().createElement("div",{className:"grid grid-cols-5 gap-5"},l.map((function(e){return c().createElement("div",{className:"item",key:e.id},c().createElement("div",{className:"cover rounded overflow-hidden border"},c().createElement(E.Link,{to:"/artist/".concat(e.id),className:"ui_aspect-ratio-1/1"},c().createElement("img",{className:"",src:"".concat(e.picUrl,"?param=200y200"),alt:""}))),c().createElement("div",{className:"footer text-sm mt-2"},c().createElement(E.Link,{to:"/artist/".concat(e.id),className:""},e.name)))}))))}));a(9826),a(9653);var M=a(9158),D=a(3194);const Y=(0,r.memo)((function(e){var t,a,s,l,o,v,p,x=e.id,b=(0,f.useSelector)((function(e){return e.account})).artistSublist,N=(0,r.useMemo)((function(){return b.find((function(e){return e.id===Number(x)}))}),[b,x]),y=(0,f.useDispatch)(),h=(0,r.useState)({}),g=(0,n.Z)(h,2),k=g[0],w=g[1],_=function(){var e=(0,i.Z)(m().mark((function e(){var t,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.XH)({id:x});case 3:t=e.sent,a=t.data,w(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.dU)({id:x,t:1});case 3:y((0,M.fz)("收藏成功！")),(0,D.r)(y),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=4;break}y((0,M.kA)({artistId:x})),e.next=6;break;case 4:return e.next=6,Z();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){_()}),[x]),c().createElement("div",{className:"domArtist_header flex p-8"},c().createElement("div",{className:"avatar border overflow-hidden rounded"},c().createElement("img",{src:"".concat(null===(t=k.artist)||void 0===t?void 0:t.cover,"?param=200y200"),alt:""})),c().createElement("div",{className:"content flex-auto px-5"},c().createElement("div",{className:"name h1 select-text"},null===(a=k.artist)||void 0===a?void 0:a.name),c().createElement("div",{className:"enname my-3 select-text"},null===(s=k.alias)||void 0===s?void 0:s.map((function(e){return e}))),c().createElement("div",{className:"actions mt-3 flex space-x-2"},c().createElement("button",{onClick:A,type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm"},N?c().createElement(c().Fragment,null,c().createElement(u.IconCheckbox,{size:20,stroke:1}),"已收藏"):c().createElement(c().Fragment,null,c().createElement(u.IconFolderPlus,{size:20,stroke:1}),"收藏")),k.user&&c().createElement(E.Link,{to:"/user/".concat(null===(l=k.user)||void 0===l?void 0:l.userId),className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm"},"个人主页")),c().createElement("div",{className:"info mt-5 space-x-5"},c().createElement("span",{className:"size"},"单曲数:",null===(o=k.artist)||void 0===o?void 0:o.musicSize),c().createElement("span",{className:"size"},"专辑数:",null===(v=k.artist)||void 0===v?void 0:v.albumSize),c().createElement("span",{className:"size"},"MV数:",null===(p=k.artist)||void 0===p?void 0:p.mvSize))))}));var P={专辑:_,MV:z,歌手详情:S,相似歌手:C};const V=(0,r.memo)((function(e){var t=e.id,a=(0,r.useState)("专辑"),s=(0,n.Z)(a,2),i=s[0],o=s[1];return c().createElement("div",{className:"domArtist overflow-auto max-h-full flex-auto"},c().createElement(Y,{id:t}),c().createElement("div",{className:"domArtist_main"},c().createElement("div",{className:"domArtist_nav flex mx-8"},c().createElement("div",{className:"flex space-x-4 text-sm"},Object.keys(P).map((function(e){return c().createElement("button",{key:e,onClick:function(){return o(e)},type:"button",className:l()("domArtist_nav_link",i===e&&"font-bold ui_underline")},e)}))),c().createElement("div",{className:"domArtist_album_layout ml-auto"})),function(e,t){return c().createElement(e,{id:t})}(P[i],t)))}))}}]);