(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{90:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(10),l=a(5),o=a(11),s=a.n(o),i=a(17),m=a.n(i),d=a(9),u=a.n(d),v=a(12),p=a(27),E=a.n(p),f=a(69),b=a(21),N=a(15),_=function(){var e=Object(r.h)().id;console.log(e);var t=Object(c.useState)(!1),a=u()(t,2),o=a[0],i=a[1],d=Object(v.c)((function(e){return e.video})),p=d.VideoGroupList,_=d.curr_check,y=d.VideoCategoryList,g=d.VideoTimelineRecommend,h=Object(v.b)(),k=Object(c.useRef)(),j=function(){var e=m()(s.a.mark((function e(){var t,a,c,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([Object(b.H)(),Object(b.G)(),Object(b.F)()]);case 3:t=e.sent,a=u()(t,3),c=a[0],n=a[1],r=a[2],h(Object(N.y)({VideoTimelineRecommend:c.datas,VideoGroupList:n.data,VideoCategoryList:r.data})),w(k.current),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=m()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.H)();case 3:t=e.sent,a=t.datas,h(Object(N.c)(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){e.scrollTop+e.clientHeight+300>e.scrollHeight&&(O(),console.log("add next page"))};return Object(c.useEffect)((function(){j()}),[]),n.a.createElement("div",{className:"inner overflow-auto",ref:k,onScroll:function(e){var t=e.target;w(t)}},n.a.createElement("div",{className:"video_sort_filter_bar"},n.a.createElement("div",{className:"group_select_wrap"},n.a.createElement("button",{className:"group_select_button",onClick:function(){return i(!o)}},_," ",">"),n.a.createElement("div",{className:"group_select_box",style:{display:o?null:"none"}},n.a.createElement("div",null,n.a.createElement(l.c,{className:"group_select_check",activeClassName:"on",to:"/play/videolist"},"全部视频")),n.a.createElement("hr",{style:{marginTop:"10px"}}),n.a.createElement("div",{className:"group_select_list"},p.map((function(e){var t=e.id,a=e.name;return n.a.createElement(l.c,{activeClassName:"on",className:"group_select_check",key:t,to:"/play/videolist/".concat(t)},a)}))))),n.a.createElement("div",{className:"recommend_group_list"},y.map((function(e){var t=e.name,a=e.id;return n.a.createElement(l.c,{className:"recommend_group_list_check",activeClassName:"on",key:a,to:"/play/videolist/".concat(a)},t)})))),n.a.createElement("div",{className:"domplay_list"},g.map((function(e){var t=e.data;return n.a.createElement("div",{className:"item",key:t.id},n.a.createElement("div",{className:"cover"},n.a.createElement(l.b,{to:"/video/".concat(t.vid)},n.a.createElement("img",{className:"coverimg",src:t.coverUrl,alt:""}),n.a.createElement("div",{className:"playTime"},Object(f.a)(t.playTime)),n.a.createElement("div",{className:"durationms"},E()(t.durationms).format("mm:ss")))),n.a.createElement("div",{className:"title"},n.a.createElement(l.b,{to:"/video/".concat(t.vid),className:"text-overflow"},t.title)),n.a.createElement("div",{className:"creator gray"},n.a.createElement(l.b,{to:"/user/".concat(t.creator.userId)},t.creator.nickname)))}))))},y=function(){return n.a.createElement("div",null,"mvlist")};t.default=function(){var e=Object(r.i)().url;return n.a.createElement("div",{className:"domplay"},n.a.createElement("div",{className:"domplay_header"},n.a.createElement(l.c,{className:"domplay_link",activeClassName:"on",to:"".concat(e,"/videolist")},"视频"),n.a.createElement(l.c,{className:"domplay_link",activeClassName:"on",to:"".concat(e,"/mvlist")},"mv")),n.a.createElement("div",{className:"domplay_content"},n.a.createElement(r.d,null,n.a.createElement(r.b,{path:"".concat(e,"/videolist/:id"),component:_}),n.a.createElement(r.b,{path:"".concat(e,"/videolist"),component:_}),n.a.createElement(r.b,{path:"".concat(e,"/mvlist/:id"),component:y}),n.a.createElement(r.b,{path:"".concat(e,"/mvlist"),component:y}),n.a.createElement(r.a,{to:"".concat(e,"/videolist")}))))}}}]);