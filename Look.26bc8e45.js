"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[8113],{6179:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(3804),l=n.n(a),c=n(847),r=n(885),o=n(9709);const s=(0,a.memo)((function(){var e=(0,a.useState)(20),t=(0,r.Z)(e,2),n=(t[0],t[1]),s=(0,a.useRef)(null),u=(0,a.useRef)(null);return(0,o.Z)((function(){n((function(e){return e+20}))}),s,u),l().createElement("div",{className:"domLook overflow-auto max-h-full flex-auto",ref:s},l().createElement("div",{className:"domLook_header ui_header"},l().createElement("span",{className:"title h1"},"LOOK直播"),l().createElement("span",{className:"text-gray-400 slogan ml-2"},"在这里，看见音乐"),l().createElement(c.Link,{to:function(e){var t=e.pathname;return"".concat(t,"/my")},className:"ml-2 py-1 px-2 rounded bg-red-500 text-white"},"我的直播"),l().createElement("a",{href:"https://look.163.com/hot",className:"text-gray-400 ml-auto"},"更多 >")),l().createElement("div",{className:"px-8"},l().createElement("div",null),l().createElement("div",{ref:u})))}));n(4747);var u=n(1343),m=n(6813),i=n(4184),d=n.n(i);const f=(0,a.memo)((function(){var e=(0,u.T)(),t=(0,u.C)(m.liveSelector).status,n=(0,a.useRef)(null),c=(0,a.useRef)(null),r=(0,a.useRef)(null);return l().createElement("div",{className:"w-full h-full p-8 overflow-auto"},l().createElement("div",{className:"flex"},l().createElement("button",{type:"button",className:d()("text-white rounded p-2",t.deskTop?"bg-red-500":"bg-blue-500"),onClick:function(){t.deskTop?(e((0,m.deskTopClose)()),n.current.srcObject.getTracks().forEach((function(e){return e.stop()})),n.current.srcObject=null):c.current=navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then((function(t){n.current.srcObject=t,e((0,m.deskTopOpen)())})).catch((function(e){return console.log(e)}))}},"桌面共享开关"),l().createElement("button",{type:"button",className:d()("text-white rounded p-2",t.user?"bg-red-500":"bg-blue-500"),onClick:function(){t.user?e((0,m.userClose)()):(e((0,m.userOpen)()),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){r.current.srcObject=e})).catch((function(e){return console.log(e)})))}},"摄像头开关")),l().createElement("div",{className:"flex flex-col"},l().createElement("div",{className:""},l().createElement("video",{className:"w-full",ref:n,autoPlay:!0,playsInline:!0})),l().createElement("div",{className:""},l().createElement("video",{className:"w-full",ref:r,autoPlay:!0,playsInline:!0}))))})),p=(0,a.memo)((function(){return l().createElement(c.Switch,null,l().createElement(c.Route,{path:"/look",exact:!0,component:s}),l().createElement(c.Route,{path:"/look/my",component:f}))}))}}]);