{"version":3,"file":"Home_Playlist.85fac691.js","mappings":"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","sources":["webpack://wyy/./src/pages/Home/Playlist/Home/components/Banner.tsx","webpack://wyy/./src/pages/Home/Playlist/Home/components/HeaderBar.tsx","webpack://wyy/./src/pages/Home/Playlist/Home/index.tsx","webpack://wyy/./src/pages/Home/Playlist/Highquality/index.tsx","webpack://wyy/./src/pages/Home/Playlist/index.tsx"],"sourcesContent":["import React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IconCrown } from '@tabler/icons';\n\nexport default memo(({ item = {}, cat = '全部歌单' }) => (\n  <Link\n    to={`/home/playlist/highquality/${cat}`}\n    className=\"domHome_playlist_banner flex items-center relative  rounded-lg overflow-hidden z-10\"\n  >\n    <div\n      className=\"absolute inset-0 bg-center\"\n      style={{\n        backgroundImage: `url(${item.coverImgUrl})`,\n        filter: 'blur(20px) grayscale(80%)',\n        zIndex: '-1',\n      }}\n    />\n    <div className=\"cover w-36 h-36 rounded-lg overflow-hidden\">\n      <img src={item.coverImgUrl} alt=\"\" />\n    </div>\n    <div className=\"contennt ml-2.5\">\n      <div className=\"tag border border-current flex-center text-sm rounded-full\">\n        <IconCrown size={16} />\n        &nbsp;\n        精品歌单\n      </div>\n      <div className=\"text-white text-base mt-4\">\n        {item.name}\n      </div>\n      <div className=\"text-gray-300 mt-2\">\n        {item.copywriter}\n      </div>\n    </div>\n  </Link>\n));\n","import React, { memo, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { IconChevronRight } from '@tabler/icons';\nimport { useSelector } from 'react-redux';\n\nconst DomSmallHot = () => (\n  <svg\n    className=\"absolute left-full top-1/4 fill-current\"\n    viewBox=\"0 0 12 12\"\n    width=\"12\"\n    height=\"6\"\n  >\n    <text dominantBaseline=\"middle\" textAnchor=\"middle\" x=\"0.5em\" y=\"0.5em\" className=\"fill-current ui_themeColor font-bold\">hot</text>\n  </svg>\n);\n\nconst DomSubList = memo(({ sub = [], category = null, cat = '' }) => (\n  <div className=\"flex-auto grid grid-cols-6 gap-y-4\">\n    {\n      sub\n        .filter((item) => item.category === Number(category))\n        .map((item) => (\n          <NavLink\n            activeClassName=\"on ui_themeColor\"\n            className=\"domHome_playlist_popup_nav_link text-gray-600 hover:ui_themeColor\"\n            to={`/home/playlist/${encodeURIComponent(item.name)}`}\n            key={item.name}\n          >\n            <span className={classNames('inline-flex inner px-4 py-1 rounded-full overflow-hidden', { ui_bg_opacity: item.name === cat })}>\n              <span className=\"relative\">\n                {item.name}\n                {\n                  item.hot && <DomSmallHot />\n                }\n              </span>\n            </span>\n          </NavLink>\n        ))\n    }\n  </div>\n));\nexport default memo(({ cat }) => {\n  const [popup, setPopup] = useState(false);\n  const {\n    hot,\n    catlist,\n  } = useSelector(({ home }) => home.playlist);\n  return (\n    <div className=\"domHome_playlist_nav pt-4 pb-4 flex items-center\">\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          className=\"border flex items-center justify-center h-8 w-24 rounded-full hover:bg-gray-100 focus:outline-none text-sm\"\n          onClick={() => setPopup(!popup)}\n        >\n          {decodeURIComponent(cat)}\n          <IconChevronRight size={20} stroke={1} />\n        </button>\n        <div className=\"domHome_playlist_popup_nav absolute z-20 bg-white shadow text-sm divide-y top-full mt-1 pb-20\" style={{ display: popup ? null : 'none' }}>\n          <div className=\"pl-8 py-4\">\n            <NavLink\n              onClick={() => setPopup(false)}\n              activeClassName=\"on ui_themeColor\"\n              exact\n              className=\"domHome_playlist_popup_nav_link text-gray-600 hover:ui_themeColor\"\n              to=\"/home/playlist/全部歌单\"\n            >\n              <span className={classNames('inline-flex inner px-4 py-1 rounded-full overflow-hidden', { ui_bg_opacity: cat === '全部歌单' })}>\n                全部歌单\n              </span>\n            </NavLink>\n          </div>\n          <div className=\"p-5 space-y-4\">\n            {\n              Object.entries(catlist.categories)\n                .map(([category, value]) => (\n                  <div key={category} className=\"flex\">\n                    <div className=\"category text-gray-300\">\n                      {value}\n                    </div>\n                    <DomSubList\n                      sub={catlist.sub}\n                      category={category}\n                      cat={cat}\n                    />\n                  </div>\n                ))\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"ml-auto flex\">\n        {hot.tags?.map((item) => (\n          <NavLink\n            activeClassName=\"ui_themeColor ui_bg_opacity\"\n            className=\"domHome_playlist_nav_link text-gray-500 hover:text-gray-700 px-2 rounded-full text-center\"\n            to={`/home/playlist/${encodeURIComponent(item.name)}`}\n            key={item.name}\n          >\n            {item.name}\n          </NavLink>\n        ))}\n      </div>\n\n    </div>\n  );\n});\n","import React, {\n  useState, useEffect, useRef, memo,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport './style.scss';\n// import Lazyload from 'react-lazyload';\nimport {\n  apiTopPlaylist,\n  apiPlaylistCatlist,\n  apiTopPlaylistHighquality,\n  apiPlaylistHighqualityTags,\n  apiPlaylistHot,\n} from '@/api';\nimport { setTopPlaylist, setPlaylistCatlist } from '@/reducers/home/actions';\nimport DomLoading from '@/components/Loading';\nimport DomResize from '@/components/ResizeObserver';\nimport DomPage from '@/components/Page';\nimport DomItem from '@/components/GridPlaylist/Item';\nimport DomBanner from './components/Banner';\nimport DomHeaderBar from './components/HeaderBar';\n\nexport default memo(({ cat = '全部歌单', page = 1 }) => {\n  // console.log('playlist');\n  page = Number(page)\n  const { push } = useHistory();\n  const [order, setOrder] = useState('hot');// new , default = hot\n  // const [offer, setOffer] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n  const DomScroll = useRef();\n\n  const {\n    highquality,\n    playlists,\n  } = useSelector(({ home: { playlist } }) => playlist);\n\n  const handleProInit = async () => {\n    try {\n      const [hot, catlist] = await Promise.all([\n        apiPlaylistHot(),\n        apiPlaylistCatlist(),\n      ]);\n      dispatch(setPlaylistCatlist({\n        hot, catlist,\n      }));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleInit = async () => {\n    setLoading(true);\n\n    try {\n      const highquality = await apiTopPlaylistHighquality({\n        cat,\n        limit: 1,\n      });\n      const playlists = await apiTopPlaylist({\n        order,\n        cat,\n        limit: 100,\n        offset: (page - 1) * 100,\n      });\n      dispatch(setTopPlaylist({\n        highquality,\n        playlists,\n      }));\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n      DomScroll.current.scrollTo(0, 0);\n    }\n  };\n\n  useEffect(() => {\n    handleProInit();\n  }, []);\n\n  useEffect(() => {\n    handleInit();\n  }, [order, cat, page]);\n  if (loading) {\n    return (\n      <div className=\"flex-center w-full h-full\">\n        <DomLoading />\n      </div>\n    );\n  }\n  return (\n    <div className=\"domHome_playlist px-8 overflow-auto max-h-full flex-auto\" ref={DomScroll}>\n      <div className=\"ui_w1100\">\n        {highquality.playlists.length > 0 && <DomBanner item={highquality.playlists[0]} cat={cat} />}\n        <DomHeaderBar cat={cat} />\n        <DomResize className=\"domHome_playlist_list grid gap-5\" small=\"grid-cols-4\" big=\"grid-cols-5\">\n          {\n            playlists.playlists.map((item) => (\n              <DomItem item={item} key={item.id} />\n            ))\n          }\n        </DomResize>\n        <DomPage\n          total={Math.ceil(playlists.total / 100)}\n          page={page}\n          func={(props) => push(`${props}`)}\n        />\n      </div>\n    </div>\n  );\n});\n","import React, {\n  useEffect, useRef, useState, memo,\n} from 'react';\nimport {\n  Link, NavLink,\n} from 'react-router-dom';\nimport { IconFilter, IconPlayerPlay, IconCrown } from '@tabler/icons';\nimport classNames from 'classnames';\nimport { apiTopPlaylistHighquality, apiPlaylistHighqualityTags } from '@/api';\nimport { transPlayCount } from '@/common/utils';\nimport useInfinite from '@/hooks/useInfinite';\nimport DomPlaylistAsyncReplace from '@/components/GroupPlay/PlaylistAsyncReplace';\nimport DomTagsBox from '@/components/Tags/Box';\n\n// import './style.scss';\n\nexport default memo(({ cat = '全部歌单' }) => {\n  console.log('home_playlist_high');\n  const [data, setData] = useState([]);\n  const [tags, setTags] = useState([]);\n  const before = useRef(0);\n  const [showPopup, setShowPopup] = useState(false);\n  const domObserver = useRef();\n  const domScroll = useRef();\n  const handleBeforeInit = async () => {\n    try {\n      const { tags = [] } = await apiPlaylistHighqualityTags();\n      setTags(tags);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleInit = async () => {\n    try {\n      const { playlists = [], lasttime } = await apiTopPlaylistHighquality({\n        cat,\n        limit: 20,\n        before: before.current,\n      });\n      before.current = lasttime;\n      setData((data) => [...data, ...playlists]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useInfinite(handleInit, domScroll, domObserver);\n\n  useEffect(() => {\n    handleBeforeInit();\n  }, []);\n\n  useEffect(() => {\n    setData([]);\n  }, [cat]);\n\n  return (\n    <div\n      className=\"domHome_playlist_highquality px-8 overflow-auto flex-auto\"\n      ref={domScroll}\n    >\n      <div className=\"py-3 flex items-center justify-between\">\n        <div className=\"flex items-center\">\n          <span className=\"font-bold text-xl\">\n            精品歌单\n          </span>\n          &nbsp;\n          <a\n            href=\"https://music.163.com/#/topic?id=202001\"\n            className=\"flex-center w-4 h-4 border rounded-full text-gray-400 hover:text-gray-500 border-current\"\n          >\n            ?\n          </a>\n        </div>\n        <div className=\"relative\">\n          <button\n            onClick={() => setShowPopup(!showPopup)}\n            type=\"button\"\n            className=\"flex items-center border hover:bg-gray-100 rounded-full px-2 py-1\"\n          >\n            <IconFilter size={16} stroke={1} />\n            {cat}\n          </button>\n          <div\n            className=\"absolute divide-y bg-white top-8 right-0 z-10 shadow rounded-lg\"\n            style={{ width: 510, display: showPopup ? null : 'none' }}\n          >\n            <div className=\"py-4 px-6\">\n              <NavLink\n                activeClassName=\"ui_themeColor\"\n                className=\"item hover:ui_themeColor text-sm\"\n                onClick={() => setShowPopup(false)}\n                to=\"./全部歌单\"\n              >\n                <span className={classNames('inline-flex inner px-3 py-1 rounded-full overflow-hidden', { ui_bg_opacity: cat === '全部歌单' })}>\n                  全部歌单\n                </span>\n              </NavLink>\n            </div>\n            <div className=\"p-6 grid grid-cols-5 gap-y-4\">\n              {tags.map((item) => (\n                <NavLink\n                  onClick={() => setShowPopup(false)}\n                  to={item.name}\n                  activeClassName=\"ui_themeColor\"\n                  className=\"item hover:ui_themeColor text-sm whitespace-nowrap\"\n                  key={item.id}\n                >\n                  <span className={classNames('inline-flex inner px-3 py-1 rounded-full overflow-hidden', { ui_bg_opacity: item.name === cat })}>\n                    {item.name}\n                  </span>\n                </NavLink>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"domHome_playlist_highquality_list grid gap-6 grid-cols-2\">\n        {\n          data.map((item) => (\n            <div className=\"item flex\" key={item.id}>\n              <div className=\"cover w-32 h-32 rounded-lg group overflow-hidden flex-none relative\">\n                <Link\n                  to={`/playlist/music/${item.id}`}\n                  className=\"ui_aspect-ratio-1/1\"\n                >\n                  <span className=\"absolute top-0 left-0 p-0.5 w-8 h-8 bg-yellow-500 text-white ui_angle_top_left\">\n                    <IconCrown size={14} className=\"transform -rotate-45\" />\n                  </span>\n                  <img src={`${item.coverImgUrl}?param=200y200`} alt=\"\" />\n                  <div className=\"absolute text-white top-0 right-0 py-1 px-2 flex-center\">\n                    <IconPlayerPlay size={12} />\n                    {transPlayCount(item.playCount)}\n                  </div>\n                </Link>\n                <DomPlaylistAsyncReplace\n                  id={item.id}\n                  className=\"playArrow opacity-0 group-hover:opacity-100 ui_themeColor absolute right-0 bottom-0 m-2 p-2 bg-white bg-opacity-90 rounded-full\"\n                >\n                  <IconPlayerPlay size={16} className=\"fill-current\" />\n                </DomPlaylistAsyncReplace>\n              </div>\n              <div className=\"ml-2 flex-auto w-0 pt-5\">\n                <div className=\"text-sm truncate ui_text_black_hover\">\n                  <Link to={`/playlist/music/${item.id}`} className=\"\">\n                    {item.name}\n                  </Link>\n                </div>\n                <div className=\"mt-3 flex items-center ui_text_gray_hover\">\n                  by&nbsp;\n                  <Link to={`/user/${item.userId}`} className=\"\">\n                    {item.creator.nickname}\n                  </Link>\n                  &nbsp;\n                  {\n                    item?.creator?.avatarDetail?.identityIconUrl\n                    && <img className=\"w-3 h-3\" src={item.creator.avatarDetail.identityIconUrl} alt=\"\" />\n                  }\n                </div>\n                <div className=\"mt-4 text-gray-300 flex items-center\">\n                  <DomTagsBox text={item.tag} className=\"flex-none mr-1\" />\n                  <span className=\"flex-auto truncate\">\n                    {item.copywriter}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))\n        }\n        <div ref={domObserver} />\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport useMemoParmas from '@/hooks/useMemoParams';\nimport DomHome from './Home';\nimport DomHighquality from './Highquality';\n\nexport default memo(() => (\n  <Switch>\n    <Route path=\"/home/playlist/highquality\">\n      {({ match: { path } }) => (\n        <Switch>\n          <Route path={`${path}/:cat`}>\n            {useMemoParmas(DomHighquality)}\n          </Route>\n          <Redirect to={`${path}/全部歌单`} />\n        </Switch>\n      )}\n    </Route>\n    <Route path=\"/home/playlist/:cat/:page\">\n      {useMemoParmas(DomHome)}\n    </Route>\n    <Redirect from=\"/home/playlist/:cat\" to=\"/home/playlist/:cat/1\" />\n    <Redirect to=\"/home/playlist/全部歌单\" />\n    {/* <Route path=\"/home/playlist\" component={DomHome} /> */}\n  </Switch>\n));\n"],"names":["memo","item","cat","Link","to","className","style","backgroundImage","coverImgUrl","filter","zIndex","src","alt","IconCrown","size","name","copywriter","DomSmallHot","viewBox","width","height","dominantBaseline","textAnchor","x","y","DomSubList","sub","category","Number","map","NavLink","activeClassName","encodeURIComponent","key","classNames","ui_bg_opacity","hot","useState","popup","setPopup","useSelector","home","playlist","catlist","type","onClick","decodeURIComponent","IconChevronRight","stroke","display","exact","Object","entries","categories","value","tags","page","push","useHistory","order","loading","setLoading","dispatch","useDispatch","DomScroll","useRef","highquality","playlists","handleProInit","Promise","all","apiPlaylistHot","apiPlaylistCatlist","setPlaylistCatlist","console","log","handleInit","apiTopPlaylistHighquality","limit","apiTopPlaylist","offset","setTopPlaylist","current","scrollTo","useEffect","ref","length","small","big","id","total","Math","ceil","func","props","data","setData","setTags","before","showPopup","setShowPopup","domObserver","domScroll","handleBeforeInit","apiPlaylistHighqualityTags","lasttime","useInfinite","href","IconFilter","IconPlayerPlay","transPlayCount","playCount","userId","creator","nickname","avatarDetail","identityIconUrl","text","tag","Switch","Route","path","match","useMemoParmas","DomHighquality","Redirect","DomHome","from"],"sourceRoot":""}