{"version":3,"file":"Home_Recommend.78cc3204.js","mappings":"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","sources":["webpack://wyy/./src/components/Dialog/HomeOrder/index.tsx","webpack://wyy/./src/pages/Home/Recommend/playlist.tsx","webpack://wyy/./src/pages/Home/Recommend/Privatecontent.tsx","webpack://wyy/./src/pages/Home/Recommend/Newsong.tsx","webpack://wyy/./src/pages/Home/Recommend/Djprogram.tsx","webpack://wyy/./src/pages/Home/Recommend/index.tsx","webpack://wyy/./src/pages/Home/Recommend/MV.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, MouseEvent } from 'react';\nimport { setDialogReset } from '@/reducers/mask/slice';\nimport { setHomeOrder } from '@/reducers/setting/slice';\nimport { useAppDispatch, useAppSelector } from '@/reducers/hooks';\nimport { IconBulb, IconMenu } from '@tabler/icons';\nimport './style.scss';\nimport classNames from 'classnames';\nimport produce from 'immer';\nimport HOCDialog from '../Dialog';\nimport Drag from '@/components/Drag'\n\ntype Order = string[]\n\nconst defaultOrder: Order = ['推荐歌单', '独家放送', '最新音乐', '推荐MV', '主播电台', '看看'];\n\nexport default () => {\n  const dispatch = useAppDispatch();\n  const { dialogHomeOrderVisibility } = useAppSelector(({ mask }) => mask);\n  const { homeOrder } = useAppSelector(({ setting }) => setting);\n  const [tempHomeOrder, setTempHomeOrder] = useState<Order>(homeOrder);\n  const [curr, setCurr] = useState('');\n  const [top, setTop] = useState(0);\n  const [startY, setStartY] = useState(0);\n  const RefIndex = useRef(-Infinity);\n\n  const handleMove = (e: MouseEvent<HTMLDivElement>) => {\n    const apart = e.clientY - startY;\n    const { current: index } = RefIndex;\n    if (index <= 0 && apart <= 0) return false;\n    if (index >= tempHomeOrder.length - 1 && apart >= 0) return false;\n    if (apart >= 48 * (3 / 4)) {\n      setStartY((prev) => prev + 48);\n      setTempHomeOrder(produce((draft) => {\n        [draft[index], draft[index + 1]] = [draft[index + 1], draft[index]];\n      }));\n      RefIndex.current += 1;\n      setTop(-48 * (1 / 4));\n      return false;\n    }\n    if (apart <= -48 * (3 / 4)) {\n      setStartY((prev) => prev - 48);\n      setTempHomeOrder(produce((draft) => {\n        [draft[index], draft[index - 1]] = [draft[index - 1], draft[index]];\n      }));\n      RefIndex.current -= 1;\n      setTop(48 * (1 / 4));\n      return false;\n    }\n    setTop(apart);\n  };\n\n  const handleUp = () => {\n    setCurr('');\n  };\n\n  const handleDown = (e: MouseEvent<HTMLDivElement>, curr: string, index: number) => {\n    setCurr(curr);\n    setStartY(e.clientY);\n    RefIndex.current = index;\n  };\n\n  const handleReset = () => {\n    setTempHomeOrder(defaultOrder);\n  };\n\n  const handleConfirm = () => {\n    dispatch(setDialogReset());\n    dispatch(setHomeOrder(tempHomeOrder));\n  };\n  if (!dialogHomeOrderVisibility) return null;\n  return (\n    <HOCDialog id=\"dialogHomeOrder\" title=\"调整栏目顺序\">\n      <div className=\"content\">\n        <div className=\"tips mx-10 text-gray-400 mb-6 flex items-center\">\n          <IconBulb size={14} />\n          <span className=\"ml-1\">\n            想调整首页栏目的顺序?按住右边的按钮拖动即可\n          </span>\n        </div>\n        <div className=\"flex flex-col relative\">\n          {tempHomeOrder.map((order, index) => (\n            <div key={order} className=\"h-12 text-base text-gray-500\">\n              <Drag\n                onMouseMove={handleMove}\n                onMouseUp={handleUp}\n                onMouseDown={(e: MouseEvent<HTMLDivElement>) => handleDown(e, order, index)}\n                className={classNames(\n                  \"w-full border-b hover:bg-gray-200 bg-white px-10 h-12 flex items-center\",\n                  curr === order && \"absolute shadow z-10\"\n                )}\n                style={{\n                  transform: `translate(0, ${curr === order ? top : 0}px)`,\n                }}\n              >\n                {order}\n                <IconMenu className=\"ml-auto cursor-move\" />\n              </Drag>\n            </div>\n          ))}\n        </div>\n        <div className=\"flex-center py-4\">\n          <button\n            onClick={handleReset}\n            type=\"button\"\n            className=\"underline text-gray-400 block\"\n          >\n            恢复默认排序\n          </button>\n        </div>\n        <div className=\"flex-center pt-4 pb-8 space-x-2\">\n          <button\n            onClick={handleConfirm}\n            type=\"button\"\n            className=\"rounded-full ui_theme_bg_color text-white h-8 w-20\"\n          >\n            完成\n          </button>\n          <button\n            type=\"button\"\n            className=\"border rounded-full h-8 w-20\"\n            onClick={() => dispatch(setDialogReset())}\n          >\n            取消\n          </button>\n        </div>\n      </div>\n    </HOCDialog>\n  );\n};\n","import React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IconPlayerPlay } from '@tabler/icons';\nimport { transPlayCount } from '@/common/utils';\nimport { SymbolToday } from '@/components/Symbol';\nimport DomPlaylistAsyncReplace from '@/components/GroupPlay/PlaylistAsyncReplace';\nimport { useSelector } from 'react-redux';\n\nexport default memo(({ playlist = [] }) => {\n  const { isLogin } = useSelector(({ common }) => common);\n  if (!isLogin) return <div>需要登录</div>;\n  return (\n    <div className=\"domHome_recommend_playlist grid gap-5 grid-cols-5 mt-4\">\n      <div className=\"item\">\n        <div className=\"cover border relative group rounded-lg overflow-hidden\">\n          <Link to=\"/dailysong\" className=\"ui_aspect-ratio-1/1\">\n            <div className=\"inner\" style={{ color: 'var(--themeColor)' }}>\n              <SymbolToday />\n            </div>\n          </Link>\n          <button type=\"button\" className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-500 absolute m-2 right-0 bottom-0 rounded-full flex-center w-7 h-7 bg-white bg-opacity-90 ui_themeColor\">\n            <IconPlayerPlay size={16} className=\"fill-current\" />\n          </button>\n        </div>\n        <div className=\"footer break-all text-sm mt-2\">\n          <Link to=\"/dailysong\">每日歌曲推荐</Link>\n        </div>\n      </div>\n      {\n      playlist.slice(0, 9).map((item) => (\n        <div key={item.id} className=\"item\">\n          <div className=\"cover relative group rounded-lg overflow-hidden border\">\n            <Link to={`/playlist/music/${item.id}`} className=\"ui_aspect-ratio-1/1\">\n              <img className=\"ui_containimg\" src={`${item.picUrl}?param=200y200`} alt=\"\" />\n              <div className=\"absolute top-0 right-0 my-0.5 mx-2\">\n                <span className=\"text-white flex-center\">\n                  <IconPlayerPlay size={12} />\n                  {transPlayCount(item.playcount)}\n                </span>\n              </div>\n            </Link>\n            <DomPlaylistAsyncReplace id={item.id} className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-500 absolute m-2 right-0 bottom-0 rounded-full flex-center w-7 h-7 bg-white bg-opacity-90 ui_themeColor\">\n              <IconPlayerPlay size={16} className=\"fill-current\" />\n            </DomPlaylistAsyncReplace>\n          </div>\n          <div className=\"footer break-all text-sm mt-2\">\n            <Link to={`/playlist/music/${item.id}`} className=\"name ui_ellipse\">\n              {item.name}\n            </Link>\n          </div>\n        </div>\n      ))\n    }\n    </div>\n  );\n});\n","import React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lazyload from 'react-lazyload';\nimport { IconPlayerPlay } from '@tabler/icons';\nimport DomMenuCreate from '@/components/MenuCreate';\n\nexport default memo(({ privatecontent = [] }) => (\n  <div className=\"domHome_recommend_privatecontent grid grid-cols-3 gap-4 mt-4\">\n    {\n      privatecontent.map((item) => (\n        <div className=\"item\" key={item.id}>\n          <DomMenuCreate\n            item={item}\n            type=\"mv\"\n            schema={[\n              ['播放MV'],\n            ]}\n          >\n            <div className=\"cover relative rounded overflow-hidden\">\n              <Link to={`/player/mv/${item.id}`} className=\"ui_aspect-ratio-16/9\">\n                <span className=\"ico absolute top-2 left-2 rounded-full text-white w-6 h-6 bg-black bg-opacity-40 flex-center border border-gray-200\">\n                  <IconPlayerPlay size={14} className=\"fill-current\" />\n                </span>\n                <Lazyload overflow resize>\n                  <img className=\"ui_containimg\" src={item.sPicUrl} alt=\"\" />\n                </Lazyload>\n              </Link>\n            </div>\n          </DomMenuCreate>\n          <div className=\"name text-sm loading-4 mt-2\">\n            <Link to={`/player/mv/${item.id}`}>\n              {item.name}\n            </Link>\n          </div>\n        </div>\n      ))\n    }\n  </div>\n));\n","import React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lazyload from 'react-lazyload';\nimport { IconPlayerPlay } from '@tabler/icons';\nimport DomTags from '@/components/Tags';\nimport DomMenuCreate from '@/components/MenuCreate';\n\nexport default memo(({ newsong = [] }) => (\n  <div className=\"domHome_recommend_newsong grid gap-x-2 gap-y-4 mt-4 grid-cols-3 grid-rows-4 grid-flow-col\">\n    {\n      newsong.map((item) => (\n        // <DomMenuCreate\n        //   key={item.id}\n        //   item={item}\n        //   type=\"song\"\n        //   schema={[\n        //     ['评论', '播放', '下一首播放'],\n        //     ['收藏到歌单', '分享', '复制链接', '下载'],\n        //     ['不感兴趣'],\n        //   ]}\n        // >\n        <div key={item.id} className=\"item flex hover:bg-gray-100 rounded overflow-hidden\">\n          <button\n            type=\"button\"\n            onClick={() => console.log(item.id)}\n            className=\"cover flex-none relative rounded overflow-hidden ui_aspect-ratio-1/1\"\n          >\n            <span className=\"ico absolute text-red-500 bg-white rounded-full bg-opacity-90 inset-0 m-auto flex-center w-6 h-6\">\n              <IconPlayerPlay size={16} className=\"fill-current\" />\n            </span>\n            <Lazyload overflow resize>\n              <img\n                className=\"w-full h-full\"\n                src={`${item.picUrl}?param=50y50`}\n                alt=\"\"\n              />\n            </Lazyload>\n          </button>\n          <div className=\"content flex-auto flex flex-col w-0 px-2 py-1\">\n            <div className=\"name text-sm truncate\">\n              {item.name}\n            </div>\n            <div className=\"artist mt-1 flex\">\n              <DomTags item={item} sq={item.song.privilege.maxbr === 999000} mv={item.song.mvid} />\n              <div className=\"truncate\">\n                {\n                  item.song.artists.map((artist, index) => (\n                    <span key={artist.id} className=\"text-gray-400\">\n                      {index > 0 && ' / '}\n                      <Link\n                        to={`/artist/${artist.id}`}\n                        className=\"ui_text_gray_hover\"\n                      >\n                        {artist.name}\n                      </Link>\n                    </span>\n                  ))\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      ))\n    }\n  </div>\n));\n","import React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lazyload from 'react-lazyload';\n\nexport default memo(({ djprogram = [] }) => (\n  <div className=\"domHome_recommend_djprogram grid grid-cols-5 gap-5 mt-4\">\n    {\n      djprogram.slice(0, 5).map((item) => (\n        <div className=\"item\" key={item.id}>\n          <div className=\"cover border relative rounded overflow-hidden \">\n            <Link to={`/playlist/dj/${item.program?.radio?.id}`} className=\"ui_aspect-ratio-1/1\">\n              <Lazyload overflow resize>\n                <img\n                  className=\"\"\n                  src={`${item.program.radio.picUrl}?param=200y200`}\n                  alt=\"\"\n                />\n              </Lazyload>\n              <div className=\"mask absolute left-0 right-0 bottom-0 h-1/4 ui_linear_mask_bottom\" />\n              <div className=\"absolute left-0 right-0 bottom-0 p-2\">\n                <div className=\"text-white truncate\">\n                  {item.program.radio.name}\n                </div>\n              </div>\n            </Link>\n          </div>\n          <div className=\"name leading-5 text-sm mt-2\">\n            <Link\n              to={`/playlist/dj/${item.program.radio.id}`}\n              className=\"text-gray-600 hover:text-black\"\n            >\n              {item.program.radio.rcmdText}\n            </Link>\n          </div>\n        </div>\n      ))\n    }\n  </div>\n));\n","import React, { memo, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  apiBanner,\n  apiRecommendResource,\n  apiPersonalizedPrivatecontent,\n  apiPersonalizedNewsong,\n  apiPersonalizedMV,\n  apiPersonalizedDjprogram,\n} from '@/api';\nimport { setHomeRecommend } from '@/reducers/home/slice';\nimport { setDialogHomeOrderShow } from '@/reducers/mask/slice';\nimport DomSwiper from '@/components/Swiper';\nimport { IconChevronRight } from '@tabler/icons';\nimport DOMkankan from '@/components/AdLookRectangle';\nimport DialogHomeOrder from '@/components/Dialog/HomeOrder';\n\nimport DomLoading from '@/components/Loading';\nimport RecommendPlaylist from './playlist';\nimport RecommendPrivatecontent from './Privatecontent';\nimport RecommendNewsong from './Newsong';\nimport RecommendDjprogram from './Djprogram';\nimport RecommendMV from './MV';\n\nconst GridObj = {\n  推荐歌单: ['/home/playlist', RecommendPlaylist],\n  独家放送: ['/exclusive', RecommendPrivatecontent],\n  最新音乐: ['/home/playlist', RecommendNewsong],\n  推荐MV: ['/video/mvlist', RecommendMV],\n  主播电台: ['/home/dj', RecommendDjprogram],\n  看看: ['https://look.163.com/hot?livetype=2', () => (\n    <div className=\"domHome_recommend_kankan mt-4 grid grid-cols-4 gap-5\">\n      {\n        Object.keys(Array(4).fill(0))\n          .map((item) => (\n            <DOMkankan key={item} />\n          ))\n      }\n    </div>\n  )],\n};\n\nexport default memo(() => {\n  const {\n    banners,\n    playlist,\n    privatecontent,\n    newsong,\n    mv,\n    djprogram,\n  } = useSelector(({ home }) => home.recommend);\n  const { homeOrder } = useSelector(({ setting }) => setting);\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n  const handleInit = async () => {\n    try {\n      const [\n        { banners },\n        { recommend: playlist },\n        PersonalizedPrivatecontent,\n        PersonalizedNewsong,\n        PersonalizedMV,\n        PersonalizedDjprogram] = await Promise.all([\n        apiBanner(),\n        apiRecommendResource({\n          limit: 10,\n        }),\n        apiPersonalizedPrivatecontent(),\n        apiPersonalizedNewsong({\n          limit: 12,\n        }),\n        apiPersonalizedMV(),\n        apiPersonalizedDjprogram(),\n      ]);\n      dispatch(setHomeRecommend({\n        banners,\n        playlist,\n        privatecontent: PersonalizedPrivatecontent.result,\n        newsong: PersonalizedNewsong.result,\n        mv: PersonalizedMV.result,\n        djprogram: PersonalizedDjprogram.result,\n      }));\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    handleInit();\n  }, []);\n  if (loading) {\n    return (\n      <div className=\"flex-center w-full h-full\">\n        <DomLoading />\n      </div>\n    );\n  }\n  return (\n    <div className=\"domHome_content px-8 overflow-auto max-h-full flex-auto\">\n      <div className=\"domHome_recommend ui_w1100\">\n        <div className=\"domHome_item\">\n          <DomSwiper list={banners} coverSrc=\"imageUrl\" />\n        </div>\n        {\n          homeOrder.map((name) => {\n            const [path, Dom] = GridObj[name];\n            return (\n              <div className=\"domHome_item mt-8\" key={name}>\n                <Link\n                  className=\"domHome_recommend_subtitle h1 inline-flex items-center\"\n                  to={path}\n                >\n                  {name}\n                  <IconChevronRight size={24} />\n                </Link>\n                <Dom {...{\n                  playlist,\n                  privatecontent,\n                  newsong,\n                  mv,\n                  djprogram,\n                }}\n                />\n              </div>\n            );\n          })\n        }\n        <div className=\"domHome_recommend_diy mt-4 text-center pb-10\">\n          <div className=\"text-gray-500\">\n            现在可以根据个人喜好，自由调整首页栏目顺序啦~\n          </div>\n          <br />\n          <button\n            type=\"button\"\n            className=\"btn ui_themeColor border rounded-sm border-current w-32 h-8\"\n            onClick={() => dispatch(setDialogHomeOrderShow())}\n          >\n            调整栏目顺序\n          </button>\n        </div>\n        <DialogHomeOrder />\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lazyload from 'react-lazyload';\nimport DomMenuCreate from '@/components/MenuCreate';\nimport {IconPlayerPlay} from '@tabler/icons'\n\nexport default memo(({ mv = [] }) => (\n  <div className=\"domHome_recommend_mv grid gap-x-5 grid-cols-3 mt-4\">\n    {\n      mv.slice(0, 3).map((item) => (\n        <div className=\"item\" key={item.id}>\n          <DomMenuCreate\n            type=\"mv\"\n            item={item}\n            schema={[\n              ['评论', '播放MV'],\n              ['收藏MV', '分享', '下载', '复制链接'],\n              ['不感兴趣'],\n            ]}\n          >\n            <div className=\"cover border relative overflow-hidden rounded text-white\">\n                <div className=\"absolute top-0 w-full px-2 py-3 ui_linear_mask_top pointer-events-none\">\n                  {item.copywriter}\n                </div>\n                <div className=\"absolute top-1 right-2 pointer-events-none\">\n                  <div className=\"flex-center\">\n                    <IconPlayerPlay size={12}/>\n                    {item.playCount}\n                  </div>\n                </div>\n                <Lazyload scroll resize>\n                  <Link to={`/player/mv/${item.id}`} className=\"block ui_aspect-ratio-16/9\">\n                    <img className=\"h-full object-cover w-full\" src={item.picUrl} alt=\"\" />\n                  </Link>\n                </Lazyload>\n            </div>\n          </DomMenuCreate>\n          <div className=\"name truncate text-sm mt-2\">\n            <Link className=\"ui_text_black_hover\" to={`/player/mv/${item.id}`}>\n              {item.name}\n            </Link>\n          </div>\n          <div className=\"artist truncate mt-1\">\n            {\n              item.artists.map((artist, index) => (\n                <span key={artist.id} className=\"text-gray-400\">\n                  {index > 0 && ' / '}\n                  <Link\n                    to=\"/artist/:id\"\n                    className=\"ui_text_gray_hover\"\n                  >\n                    {artist.name}\n                  </Link>\n                </span>\n              ))\n            }\n          </div>\n        </div>\n      ))\n    }\n  </div>\n));\n"],"names":["defaultOrder","dispatch","useAppDispatch","dialogHomeOrderVisibility","useAppSelector","mask","homeOrder","setting","useState","tempHomeOrder","setTempHomeOrder","curr","setCurr","top","setTop","startY","setStartY","RefIndex","useRef","handleMove","e","apart","clientY","index","current","length","prev","produce","draft","handleUp","id","title","className","IconBulb","size","map","order","key","Drag","onMouseMove","onMouseUp","onMouseDown","handleDown","classNames","style","transform","IconMenu","onClick","type","setDialogReset","setHomeOrder","memo","playlist","useSelector","common","isLogin","Link","to","color","Symbol","IconPlayerPlay","slice","item","src","picUrl","alt","transPlayCount","playcount","name","privatecontent","schema","overflow","resize","sPicUrl","newsong","console","log","sq","song","privilege","maxbr","mv","mvid","artists","artist","djprogram","program","radio","rcmdText","GridObj","推荐歌单","RecommendPlaylist","独家放送","RecommendPrivatecontent","最新音乐","RecommendNewsong","推荐MV","copywriter","playCount","scroll","主播电台","RecommendDjprogram","看看","Object","keys","Array","fill","home","recommend","banners","loading","setLoading","useDispatch","handleInit","Promise","all","apiBanner","apiRecommendResource","limit","apiPersonalizedPrivatecontent","apiPersonalizedNewsong","apiPersonalizedMV","apiPersonalizedDjprogram","PersonalizedPrivatecontent","PersonalizedNewsong","PersonalizedMV","PersonalizedDjprogram","setHomeRecommend","result","useEffect","list","coverSrc","path","Dom","IconChevronRight","setDialogHomeOrderShow"],"sourceRoot":""}