(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[456],{3922:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var a=n(2137),r=n(9351),l=n(7757),c=n.n(l),m=(n(8309),n(1249),n(6699),n(2023),n(7941),n(3804)),o=n.n(m),s=n(847),i=n(1216),u=n(5200),d=n(6955),f=n(801),p=n(4561),v=n(6232),E=n(8556),h=n(1059),x={song:{apiDetail:function(e){var t=e.id;return(0,d.VO)({ids:t})},apiComment:d.dV,header:function(e){var t,n=e.detail;return o().createElement("div",{className:"domComment_header"},o().createElement("div",{className:"domComment_infos flex "},o().createElement("div",{className:"cover h-20 rounded overflow-hidden relative"},o().createElement(i.ZP,{className:"h-full"},o().createElement("img",{className:"h-full",src:n.al.picUrl,alt:""})),o().createElement("div",{className:"ico absolute inset-0 m-auto flex-center w-8 h-8 ui_themeColor rounded-full bg-white bg-opacity-90"},o().createElement(u.IconPlayerPlay,{size:16,className:"fill-current"}))),o().createElement("div",{className:"content px-6 py-2"},o().createElement("div",{className:"title text-lg"},n.name),o().createElement("div",{className:"info text-gray-500 mt-2 space-x-5"},o().createElement("span",null,"专辑：",o().createElement(s.Link,{className:"ui_text_gray_hover",to:"/playlist/album/".concat(n.al.id)},null===(t=n.al)||void 0===t?void 0:t.name)),o().createElement("span",null,"歌手：",n.ar.map((function(e,t){return o().createElement("span",{key:e.id},t>0&&" / ",o().createElement(s.Link,{className:"ui_text_gray_hover",to:"/artist/".concat(e.id)},e.name))})))))))}},mv:{apiDetail:d.Ro,apiComment:d.L,header:function(){return o().createElement("div",null)}},video:{apiDetail:d.ld,apiComment:d.ju,header:function(){return o().createElement("div",null)}}};const y=(0,m.memo)((function(){var e=(0,s.useParams)(),t=e.id,n=e.type;if(!Object.keys(x).includes(n))return o().createElement(s.Redirect,{to:"/"});var l=(0,m.useState)({}),i=(0,r.Z)(l,2),d=i[0],y=i[1],b=(0,m.useState)({}),N=(0,r.Z)(b,2),k=N[0],g=N[1],w=(0,m.useState)(""),_=(0,r.Z)(w,2),C=_[0],Z=_[1],z=(0,m.useState)(!0),S=(0,r.Z)(z,2),I=S[0],P=S[1],D=(0,m.useState)(1),R=(0,r.Z)(D,2),L=R[0],M=R[1],V=function(){var e=(0,a.Z)(c().mark((function e(){var a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x[n].apiDetail({id:t});case 3:a=e.sent,r=a.songs,y(r[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,a.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x[n].apiComment({id:t,offset:20*(L-1),limit:f.zI});case 3:a=e.sent,g(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return e.next=4,j();case 4:P(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=(0,m.useMemo)((function(){return x[n].header}),[n]);return(0,m.useEffect)((function(){I?O():j()}),[L]),I?o().createElement("div",{className:"w-full h-full flex-center"},o().createElement(E.Z,null)):o().createElement("div",{className:"domComment overflow-auto px-8 py-5 h-full"},o().createElement(A,{detail:d}),o().createElement("div",{className:"domComment_write mt-4"},o().createElement(p.Z,{value:C,setValue:Z,length:140}),o().createElement("div",{className:"domComment_write_actions flex mt-2.5"},o().createElement("div",{className:"flex space-x-2"},o().createElement("button",{type:"button",className:"text-gray-500 hover:text-black"},o().createElement(u.IconMoodSmile,{size:20,stroke:1.5})),o().createElement("button",{type:"button",className:"text-gray-500 hover:text-black"},o().createElement(u.IconAt,{size:20,stroke:1.5})),o().createElement("button",{type:"button",className:"text-gray-500 hover:text-black"},o().createElement(u.IconHash,{size:20,stroke:1.5}))),o().createElement("button",{type:"button",className:"ui_btn flex-center border px-4 h-8 text-sm hover:bg-gray-100 rounded-full ml-auto"},"评论"))),o().createElement("div",{className:"domComment_main mt-8"},o().createElement(v.Z,{comments:k,more:t}),o().createElement(h.Z,{total:Math.ceil(k.total/f.zI),page:L,func:M})))}))},899:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o}),n(6992),n(1539),n(8674),n(8783),n(3948);var a=n(3804),r=n.n(a),l=n(847),c=(0,a.lazy)((function(){return Promise.all([n.e(216),n.e(456)]).then(n.bind(n,3922))})),m=(0,a.lazy)((function(){return Promise.all([n.e(216),n.e(281)]).then(n.bind(n,3940))}));const o=(0,a.memo)((function(){return r().createElement(l.Switch,null,r().createElement(l.Route,{path:"/comment/:type/:id/hot"},r().createElement(m,null)),r().createElement(l.Route,null,r().createElement(c,null)))}))}}]);