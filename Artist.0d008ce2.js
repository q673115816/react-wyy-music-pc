"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[9009],{18962:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),c=(0,l.Z)(u),s=a(87757),i=(0,l.Z)(s);a(69720),a(21249);var o=a(87363),d=(0,l.Z)(o),m=a(16719),f=a(94184),v=(0,l.Z)(f),p=a(63233),x=a(21624),E=a(55888),b=a(21723),y=(0,l.Z)(b),N=a(57366),h=(0,l.Z)(N),g=a(15101),k=(0,l.Z)(g),Z={grid:{Ico:m.IconLayoutGrid,View:y.default},list:{Ico:m.IconList,View:h.default},column:{Ico:m.IconLayout,View:k.default}},_=Object.entries(Z);exports.default=(0,o.memo)((function(e){var t,a,l=e.id,r=(0,x.useDispatch)(),u=(0,x.useSelector)((function(e){return e.artist})).layout,s=(0,o.useState)({hotAlbums:[],more:null}),m=(0,c.default)(s,2),f=m[0],b=m[1],y=function(){var e=(0,n.default)(i.default.mark((function e(){var t,a,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.apiArtistAlbum)({id:l});case 3:t=e.sent,a=t.hotAlbums,r=t.more,b({hotAlbums:a,more:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){y()}),[]),d.default.createElement("div",{className:"domArtist_section relative"},d.default.createElement("div",{className:"absolute right-8 -translate-y-full bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden"},_.map((function(e){var t=(0,c.default)(e,2),a=t[0],l=t[1].Ico;return d.default.createElement("button",{key:a,type:"button",className:(0,v.default)("px-1.5 py-0.5 bg-gray-200","handle",a===u&&"bg-gray-300 text-white"),onClick:function(){return r((0,E.setArtistLayout)({layout:a}))}},d.default.createElement(l,{size:14,stroke:1}))}))),d.default.createElement("div",{className:"domArtist_section_layout"},(t=Z[u].View,a=f.hotAlbums,d.default.createElement(t,{hotAlbums:a,id:l}))))}))},83141:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),c=(0,l.Z)(u);a(21249);var s=a(87757),i=(0,l.Z)(s),o=a(87363),d=(0,l.Z)(o),m=a(63233);exports.default=(0,o.memo)((function(e){var t,a=e.id,l=(0,o.useState)({}),r=(0,c.default)(l,2),u=r[0],s=r[1],f=function(){var e=(0,n.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.apiArtistDesc)({id:a});case 3:t=e.sent,s(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){f()}),[]),d.default.createElement("div",{className:"domArtist_section p-8 leading-8 text-sm select-text"},d.default.createElement("div",{className:"domArtist_subtitle font-bold"},"简介"),d.default.createElement("div",{className:"domArtist_article text-gray-500",style:{textIndent:"2em"}},u.briefDesc),d.default.createElement("br",null),d.default.createElement("br",null),null===(t=u.introduction)||void 0===t?void 0:t.map((function(e){return d.default.createElement("div",{key:e.ti,className:"select-text"},d.default.createElement("div",{className:"domArtist_subtitle font-bold"},e.ti),d.default.createElement("div",{className:"domArtist_article text-gray-500 whitespace-pre-line"},e.txt))})))}))},43646:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(319),n=(0,l.Z)(r),u=a(48926),c=(0,l.Z)(u),s=a(63038),i=(0,l.Z)(s),o=a(87757),d=(0,l.Z)(o);a(92222),a(21249),a(68309);var m=a(87363),f=(0,l.Z)(m),v=a(63233),p=a(99709),x=(0,l.Z)(p),E=a(95996),b=(0,l.Z)(E);exports.default=(0,m.memo)((function(e){var t=e.id,a=(0,m.useState)([]),l=(0,i.default)(a,2),r=l[0],u=l[1],s=(0,m.useRef)(!0),o=(0,m.useRef)(0),p=(0,m.useRef)(),E=(0,m.useRef)(),y=function(){var e=(0,c.default)(d.default.mark((function e(){var a,l,r;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,v.apiArtistMV)({id:t,limit:24,offset:o.current});case 5:a=e.sent,l=a.mvs,a.time,r=a.hasMore,o.current+=24,s.current=r,u((function(e){return[].concat((0,n.default)(e),(0,n.default)(l.map((function(e){var t=e.id,a=e.imgurl,l=e.duration,r=e.name;return{id:t,duration:l,playCount:e.playCount,cover:a,title:r}}))))})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return(0,x.default)(y,p,E),f.default.createElement("div",{className:"domArtist_section p-8"},f.default.createElement(b.default,{list:r}),f.default.createElement("div",{ref:E}))}))},2061:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),c=(0,l.Z)(u);a(21249),a(68309);var s=a(87757),i=(0,l.Z)(s),o=a(87363),d=(0,l.Z)(o),m=a(63233),f=a(66711),v=a(74849),p=(0,l.Z)(v);exports.default=(0,o.memo)((function(e){var t=e.id,a=(0,o.useState)([]),l=(0,c.default)(a,2),r=l[0],u=l[1],s=(0,o.useState)(!0),v=(0,c.default)(s,2),x=v[0],E=v[1],b=function(){var e=(0,n.default)(i.default.mark((function e(){var a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.apiSimiArtist)({id:t});case 3:a=e.sent,l=a.artists,u(l),E(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){b()}),[]),x?d.default.createElement("div",{className:"flex justify-center pt-12"},d.default.createElement(p.default,null)):0===r.length?d.default.createElement("div",{className:"text-center text-gray-400 text-sm pt-16"},"没有相似歌手"):d.default.createElement("div",{className:"domArtist_section p-8"},d.default.createElement("div",{className:"grid grid-cols-5 gap-5"},r.map((function(e){return d.default.createElement("div",{className:"item",key:e.id},d.default.createElement("div",{className:"cover rounded overflow-hidden border"},d.default.createElement(f.Link,{to:"/artist/".concat(e.id),className:""},d.default.createElement("img",{loading:"lazy",className:"ui_aspect-ratio-1/1",src:"".concat(e.picUrl,"?param=200y200"),alt:""}))),d.default.createElement("div",{className:"footer text-sm mt-2"},d.default.createElement(f.Link,{to:"/artist/".concat(e.id),className:""},e.name)))}))))}))},64096:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),c=(0,l.Z)(u),s=a(87757),i=(0,l.Z)(s);a(69826),a(9653),a(68309),a(21249);var o=a(87363),d=(0,l.Z)(o),m=a(16719),f=a(66711),v=a(21624),p=a(93011),x=a(63233),E=a(36481);exports.default=(0,o.memo)((function(e){var t,a,l,r,u,s,b,y=e.id,N=(0,v.useSelector)((function(e){return e.account})).artistSublist,h=(0,o.useMemo)((function(){return N.find((function(e){return e.id===Number(y)}))}),[N,y]),g=(0,v.useDispatch)(),k=(0,o.useState)({}),Z=(0,c.default)(k,2),_=Z[0],w=Z[1],A=function(){var e=(0,n.default)(i.default.mark((function e(){var t,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.apiArtistDetail)({id:y});case 3:t=e.sent,a=t.data,w(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,n.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.apiArtistSub)({id:y,t:1});case 3:g((0,p.setToast)("收藏成功！")),(0,E.useRefreshArtistSublist)(g),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,n.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=4;break}g((0,p.setDialogUnSubscriptionShow)({artistId:y})),e.next=6;break;case 4:return e.next=6,S();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){A()}),[y]),d.default.createElement("div",{className:"domArtist_header flex p-8"},d.default.createElement("div",{className:"avatar border overflow-hidden rounded"},d.default.createElement("img",{src:"".concat(null===(t=_.artist)||void 0===t?void 0:t.cover,"?param=200y200"),alt:""})),d.default.createElement("div",{className:"content flex-auto px-5"},d.default.createElement("div",{className:"name h1 select-text"},null===(a=_.artist)||void 0===a?void 0:a.name),d.default.createElement("div",{className:"enname my-3 select-text"},null===(l=_.alias)||void 0===l?void 0:l.map((function(e){return e}))),d.default.createElement("div",{className:"actions mt-3 flex space-x-2"},d.default.createElement("button",{onClick:M,type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm"},h?d.default.createElement(d.default.Fragment,null,d.default.createElement(m.IconCheckbox,{size:20,stroke:1}),"已收藏"):d.default.createElement(d.default.Fragment,null,d.default.createElement(m.IconFolderPlus,{size:20,stroke:1}),"收藏")),_.user&&d.default.createElement(f.Link,{to:"/user/".concat(null===(r=_.user)||void 0===r?void 0:r.userId),className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm"},"个人主页")),d.default.createElement("div",{className:"info mt-5 space-x-5"},d.default.createElement("span",{className:"size"},"单曲数:",null===(u=_.artist)||void 0===u?void 0:u.musicSize),d.default.createElement("span",{className:"size"},"专辑数:",null===(s=_.artist)||void 0===s?void 0:s.albumSize),d.default.createElement("span",{className:"size"},"MV数:",null===(b=_.artist)||void 0===b?void 0:b.mvSize))))}))},27137:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(63038),n=(0,l.Z)(r);a(21249),a(47941);var u=a(87363),c=(0,l.Z)(u),s=a(94184),i=(0,l.Z)(s);a(57996);var o=a(18962),d=(0,l.Z)(o),m=a(43646),f=(0,l.Z)(m),v=a(83141),p=(0,l.Z)(v),x=a(2061),E=(0,l.Z)(x),b=a(64096),y=(0,l.Z)(b),N={专辑:d.default,MV:f.default,歌手详情:p.default,相似歌手:E.default};exports.default=(0,u.memo)((function(e){var t=e.id,a=(0,u.useState)("专辑"),l=(0,n.default)(a,2),r=l[0],s=l[1];return c.default.createElement("div",{className:"domArtist overflow-auto max-h-full flex-auto"},c.default.createElement(y.default,{id:t}),c.default.createElement("div",{className:"domArtist_main"},c.default.createElement("div",{className:"domArtist_nav flex mx-8"},c.default.createElement("div",{className:"flex space-x-4 text-sm"},Object.keys(N).map((function(e){return c.default.createElement("button",{key:e,onClick:function(){return s(e)},type:"button",className:(0,i.default)("domArtist_nav_link",r===e&&"font-bold ui_underline")},e)}))),c.default.createElement("div",{className:"domArtist_album_layout ml-auto"})),function(e,t){return c.default.createElement(e,{id:t})}(N[r],t)))}))},15101:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(48926),n=(0,l.Z)(r),u=a(63038),c=(0,l.Z)(u);a(21249),a(47042),a(83112),a(92222),a(68309);var s=a(87757),i=(0,l.Z)(s),o=a(87363),d=(0,l.Z)(o),m=a(16719),f=a(27484),v=(0,l.Z)(f),p=a(94184),x=(0,l.Z)(p),E=a(66285),b=(0,l.Z)(E),y=a(87653),N=(0,l.Z)(y),h=a(63233);exports.default=(0,o.memo)((function(e){e.hotAlbums;var t=e.id;console.log("artist_column");var a=(0,o.useState)([]),l=(0,c.default)(a,2),r=l[0],u=l[1],s=(0,o.useState)(10),f=(0,c.default)(s,2),p=f[0],E=f[1],y=function(){var e=(0,n.default)(i.default.mark((function e(){var a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.apiArtistTopSong)({id:t});case 3:a=e.sent,l=a.songs,u(l),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){y()}),[]),d.default.createElement("div",{className:"column p-8"},d.default.createElement("div",{className:"column_item"},d.default.createElement("div",{className:"cover"},d.default.createElement("div",{className:"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white"},d.default.createElement("div",{className:"text-4xl"},"TOP"),d.default.createElement("div",{className:"text-6xl"},"50"))),d.default.createElement("div",{className:"aside flex-auto ml-20 w-0"},d.default.createElement("div",{className:"flex"},d.default.createElement("span",{className:"font-bold text-base"},"热门50首"),d.default.createElement("div",{className:"flex items-center"},d.default.createElement("button",{type:"button",className:"flex-none border rounded-full flex-center mx-3 p-1"},d.default.createElement(m.IconPlayerPlay,{size:10,className:"fill-current"})),d.default.createElement("span",{className:"text-gray-300"},"|"),d.default.createElement("button",{type:"button",className:"mx-3"},d.default.createElement(m.IconFolderPlus,{size:20,stroke:1})))),d.default.createElement("div",{className:"list mt-2"},r.slice(0,p).map((function(e,t){return d.default.createElement("div",{className:(0,x.default)("item hover:bg-gray-100 focus:outline-none focus:bg-gray-200",{"bg-gray-50":t%2==0}),tabIndex:"2",key:e.id},d.default.createElement("div",{className:"index flex-none text-right text-gray-400"},String(t+1).padStart(2,0)),d.default.createElement("div",{className:"heart flex-none text-center"},d.default.createElement(N.default,{id:e.id})),d.default.createElement("div",{className:"download flex-none text-center"},d.default.createElement("button",{type:"button",className:"text-gray-500 hover:text-black"},d.default.createElement(m.IconDownload,{size:16,stroke:1}))),d.default.createElement("div",{className:"name flex-auto flex flex-auto min-w-0 px-2.5"},d.default.createElement("span",{className:"truncate",title:"".concat(e.name,"(").concat(e.alia.map((function(e){return e})),")")},e.name," ",d.default.createElement("span",{className:"text-gray-400"},e.alia.map((function(e){return e})))),d.default.createElement(b.default,{item:e,className:"flex-none"})),d.default.createElement("div",{className:"duration text-gray-400 flex-none"},(0,v.default)(e.dt).format("mm:ss")))})),10===p&&r.length>10&&d.default.createElement("button",{type:"button",className:"seeMore",onClick:function(){return E(50)}},"查看全部",r.length,"首 >")))))}))},21723:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),u=a(27484),c=(0,l.Z)(u),s=a(66711),i=a(16719);exports.default=(0,r.memo)((function(e){var t=e.hotAlbums,a=void 0===t?[]:t;return n.default.createElement("div",{className:"grid grid-cols-4 p-8 gap-x-20 gap-y-5"},a.map((function(e){return n.default.createElement("div",{className:"item",key:e.id},n.default.createElement("div",{className:"cover rounded overflow-hidden relative group"},n.default.createElement(s.Link,{to:"/playlist/album/".concat(e.id)},n.default.createElement("img",{className:"",src:"".concat(e.picUrl,"?param=200y200"),alt:""})),n.default.createElement("button",{type:"button",className:"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},n.default.createElement(i.IconPlayerPlay,{size:20,className:"fill-current"}))),n.default.createElement("div",{className:"name text-sm mt-2"},n.default.createElement(s.Link,{to:"/playlist/album/".concat(e.id),className:"ui_ellipse"},n.default.createElement("span",{className:"ui_text_black_hover"},e.name),e.alias.map((function(e){return n.default.createElement("span",{className:"text-gray-500",key:e},"（".concat(e,"）"))})))),n.default.createElement("div",{className:"text-gray-400 mt-2"},(0,c.default)(e.publishTime).format("YYYY-MM-DD")))})))}))},57366:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),u=a(27484),c=(0,l.Z)(u),s=a(66711),i=a(94184),o=(0,l.Z)(i);exports.default=(0,r.memo)((function(e){var t=e.hotAlbums,a=void 0===t?[]:t;return n.default.createElement("div",{className:"list pt-4"},a.map((function(e,t){var a;return n.default.createElement("div",{className:(0,o.default)("list_item hover:bg-gray-100",{"bg-gray-50":t%2==0}),key:e.id},n.default.createElement(s.Link,{className:"cover",to:"/playlist/album/".concat(e.id)},n.default.createElement("img",{className:"ui_containimg",src:"".concat(e.picUrl,"?param=100y100"),alt:""})),n.default.createElement(s.Link,{className:"name truncate",to:"/playlist/album/".concat(e.id)},e.name," ",(null===(a=e.alias)||void 0===a?void 0:a.length)>0&&n.default.createElement("span",{className:"text-gray-400"},"(",e.alias.map((function(e){return e})),")")),n.default.createElement("span",{className:"size text-gray-400"},e.size,"首"),n.default.createElement("span",{className:"publishTime text-gray-400"},"发行时间：",(0,c.default)(e.publishTime).format("YYYY-MM-DD")))})))}))},57996:(e,t,a)=>{a.r(t)}}]);