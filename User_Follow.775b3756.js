(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[416],{7205:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var n=a(2137),r=a(9351),c=a(7757),l=a.n(c),s=(a(6992),a(1539),a(8674),a(8783),a(3948),a(1249),a(3804)),i=a.n(s),o=a(847),u=a(5325),m=a(5200),d=a(6955);a(9703),a(8748);const f=function(){(0,u.useDispatch)();var e=(0,s.useState)({}),t=(0,r.Z)(e,2),a=t[0],c=t[1],f=(0,s.useState)([]),p=(0,r.Z)(f,2),v=p[0],E=p[1],N=(0,o.useParams)().uid,h=(0,u.useSelector)((function(e){return e.account})),k=(String(h.profile.userId),function(){var e=(0,n.Z)(l().mark((function e(){var t,a,n,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([(0,d.um)({uid:N}),(0,d.qm)({uid:N})]);case 3:t=e.sent,a=(0,r.Z)(t,2),n=a[0].profile,s=a[1].follow,c(n),E(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()),w=function(){var e=(0,n.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.iQ)({id:t,t:1});case 3:200===e.sent.code&&E(v.map((function(e){return e.userId===t&&(e.followed=!0),e}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){k()}),[]),i().createElement("div",{className:"domUser_followlist"},i().createElement("div",{className:"h1 domUser_subpage_header ui_header"},i().createElement(o.Link,{to:"./"},a.nickname),"的关注"),i().createElement("div",{className:"domUser_followlist_main"},i().createElement("div",{className:"list"},v.map((function(e){return i().createElement("div",{className:"item",key:e.userId},i().createElement(o.Link,{to:"/user/".concat(e.userId),className:"avatar"},i().createElement("img",{src:"".concat(e.avatarUrl,"?param=100y100"),alt:""}),e.avatarDetail&&i().createElement("div",{className:"ico"},i().createElement("img",{src:e.avatarDetail.identityIconUrl,alt:""}))),i().createElement("div",{className:"content"},i().createElement("div",{className:"contain"},i().createElement("div",{className:"left"},i().createElement(o.Link,{className:"nickname",to:"/user/".concat(e.userId)},e.nickname))),i().createElement("div",{className:"contain"},i().createElement("div",{className:"left"},i().createElement("div",{className:"truncate"},e.signature)),i().createElement("div",{className:"right"},function(e,t){return e.followed?i().createElement("span",{className:"follow on"},"已关注"):i().createElement("button",{onClick:function(){return t(e.userId)},type:"button",className:"follow"},i().createElement(m.IconPlus,{size:16,style:{color:"#EC4141"}}),"  关注")}(e,w))),i().createElement("div",{className:"contain"},i().createElement("div",{className:"left"},i().createElement("span",null,"歌单：",e.playlistCount),i().createElement("span",{style:{height:12,width:1,backgroundColor:"#E1CAE1"}}),i().createElement("span",null,"歌单：",e.followeds)))))})))))}}}]);