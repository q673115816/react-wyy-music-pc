(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[6210],{1268:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(2137),n=r(4699),c=r(7757),l=r.n(c),s=(r(9653),r(1249),r(3804)),o=r.n(s),i=r(847),m=r(6866),u=r(7317),d=r(5325),f=r(4184),p=r.n(f),v=r(4615),E=r(7653),x=r(8293),_=r(6823);const b=(0,s.memo)((function(e){var t=e.uid,r=(0,d.useSelector)((function(e){return e.account})).profile;if((null==r?void 0:r.userId)!==Number(t))return o().createElement(i.Redirect,{to:"/"});var c=(0,s.useState)(1),f=(0,n.Z)(c,2),b=f[0],y=f[1],h=(0,s.useState)([]),N=(0,n.Z)(h,2),g=N[0],k=N[1],w=function(){var e=(0,a.Z)(l().mark((function e(){var r,a,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.Uz)({uid:t,type:b});case 3:r=e.sent,a=r.allData,n=r.weekData,k(1===b?n:a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){w()}),[b,t]),o().createElement("div",{className:"domUser_record h-full flex flex-col"},o().createElement("div",{className:"flex-none"},o().createElement("div",{className:"h1 ui_header"},"我的听歌排行"),o().createElement("div",{className:"domUser_record_nav px-8 pb-2 border-b space-x-8 text-sm"},o().createElement("button",{onClick:function(){return y(1)},type:"button",className:p()("domUser_record_nav_link",{"font-bold":1===b})},"最近一周"),o().createElement("button",{onClick:function(){return y(0)},type:"button",className:p()("domUser_record_nav_link",{"font-bold":0===b})},"所有时间"))),o().createElement("div",{className:"overflow-auto h-0 flex-auto domUser_record_main",style:{"--ui_grid_template":"36px / 24px 24px 24px 10fr 1fr"}},o().createElement("div",{className:"domUser_record_list"},g.map((function(e,t){var r=e.song,a=e.playCount;return o().createElement(u.Z,{item:r,key:r.id,schema:[["评论","播放","下一首播放"],["收藏到歌单","分享","复制链接","下载"]]},o().createElement("div",{tabIndex:"2",className:p()("domUser_record_item focus:outline-none focus:bg-gray-200 items-center hover:bg-gray-100 ui_grid_template px-8 grid",t%2==1&&"bg-gray-50")},o().createElement("div",{className:"index text-gray-400"},o().createElement(v.Z,{id:r.id,index:t})),o().createElement("div",{className:"heart"},o().createElement(E.Z,{id:r.id})),o().createElement("div",{className:"download"},o().createElement(x.Z,null)),o().createElement("div",{className:"name"},o().createElement(_.Z,{item:r})),o().createElement("div",{className:"playCount text-gray-400"},a,"次")))})))))}))}}]);