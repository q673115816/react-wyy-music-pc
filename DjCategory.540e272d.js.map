{"version":3,"file":"DjCategory.540e272d.js","mappings":"iQAQA,SAAeA,EAAAA,EAAAA,OAAK,YAAmB,IAAhBC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,IAC3B,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACMC,GAAYC,EAAAA,EAAAA,UACZC,GAAcD,EAAAA,EAAAA,UACdE,GAASF,EAAAA,EAAAA,QAAO,GAGhBG,EAAU,mCAAG,gHAEYC,EAAAA,EAAAA,IAAc,CACvCC,OAAQV,EACRW,MANQ,GAORJ,OAAQA,EAAOK,UALF,gBAEPC,EAFO,EAEPA,SAKRN,EAAOK,SATG,GAUVT,GAAQ,SAACW,GAAD,wBAAcA,IAAd,OAAuBD,OARhB,gDAUfE,QAAQC,IAAR,MAVe,yDAAH,qDAmBhB,OANAC,EAAAA,EAAAA,YAAU,WACRd,EAAQ,IACRI,EAAOK,QAAU,IAEhB,CAACZ,KACJkB,EAAAA,EAAAA,GAAYV,EAAYJ,EAAWE,GAEjC,yBAAKa,UAAU,uBAAuBC,IAAKhB,GACzC,yBAAKe,UAAU,gBAAgBpB,GAC/B,yBAAKoB,UAAU,+BACZjB,EAAKmB,KAAI,SAACC,GAAD,OACR,kBAAC,EAAAC,KAAD,CAAMC,IAAKF,EAAKG,GAAIC,GAAE,uBAAkBJ,EAAKG,IAAMN,UAAU,QAC3D,yBAAKA,UAAU,uCACb,yBAAKQ,QAAO,OAAUR,UAAS,sBAAyBS,IAAG,UAAKN,EAAKO,OAAV,kBAAkCC,IAAI,MAEnG,yBAAKX,UAAU,2BACb,yBAAKA,UAAU,+BAA+BG,EAAKS,MACnD,yBAAKZ,UAAU,sBAAsBG,EAAKU,UAC1C,yBAAKb,UAAU,sBAAf,MAEE,8BAAOG,EAAKW,cAFd,OAIE,8BAAOX,EAAKY,iBAMtB,yBAAKd,IAAKd,EAAaa,UAAU,eAAc,kBAAC,IAAD","sources":["webpack://wyy/./src/pages/DjCategory/index.tsx"],"sourcesContent":["import React, {\n  memo, useEffect, useRef, useState,\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport { apiDjRadioHot } from '@/api';\nimport useInfinite from '@/hooks/useInfinite';\nimport DomLoading from '@/components/Loading';\n\nexport default memo(({ type, rid }) => {\n  const [data, setData] = useState([]);\n  const DomScroll = useRef();\n  const DomObserver = useRef();\n  const offset = useRef(0);\n  const limit = 40;\n\n  const handleInit = async () => {\n    try {\n      const { djRadios } = await apiDjRadioHot({\n        cateId: rid,\n        limit,\n        offset: offset.current,\n      });\n      offset.current += limit;\n      setData((prev) => [...prev, ...djRadios]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    setData([]);\n    offset.current = 0;\n    // handleInit();\n  }, [rid]);\n  useInfinite(handleInit, DomScroll, DomObserver);\n  return (\n    <div className=\"overflow-auto h-full\" ref={DomScroll}>\n      <div className=\"ui_header h1\">{type}</div>\n      <div className=\"grid grid-cols-2 gap-5 px-8\">\n        {data.map((item) => (\n          <Link key={item.id} to={`/playlist/dj/${item.id}`} className=\"flex\">\n            <div className=\"w-32 rounded overflow-hidden border\">\n              <img loading={`lazy`} className={`ui_aspect-ratio-1/1`} src={`${item.picUrl}?param=200y200`} alt=\"\" />\n            </div>\n            <div className=\"flex-auto w-0 px-2 pt-8\">\n              <div className=\"ui_text_black_hover text-sm\">{item.name}</div>\n              <div className=\"text-gray-400 mt-4\">{item.rcmdtext}</div>\n              <div className=\"text-gray-400 mt-2\">\n                节目：\n                <span>{item.programCount}</span>\n                ，订阅：\n                <span>{item.subCount}</span>\n              </div>\n            </div>\n          </Link>\n        ))}\n      </div>\n      <div ref={DomObserver} className=\"flex-center\"><DomLoading /></div>\n    </div>\n  );\n});\n"],"names":["memo","type","rid","useState","data","setData","DomScroll","useRef","DomObserver","offset","handleInit","apiDjRadioHot","cateId","limit","current","djRadios","prev","console","log","useEffect","useInfinite","className","ref","map","item","Link","key","id","to","loading","src","picUrl","alt","name","rcmdtext","programCount","subCount"],"sourceRoot":""}