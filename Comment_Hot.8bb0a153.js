"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[7281],{11879:(e,t,a)=>{a.r(t);var r=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var u=a(319),n=(0,r.Z)(u),l=a(48926),c=(0,r.Z)(l),f=a(63038),s=(0,r.Z)(f),o=a(87757),d=(0,r.Z)(o);a(54747),a(92222),a(21249);var m=a(87363),i=(0,r.Z)(m),p=a(63233),v=a(21690),h=(0,r.Z)(v),y=a(99709),x=(0,r.Z)(y),Z=a(74849),k=(0,r.Z)(Z),w=a(27980);(0,r.Z)(w),exports.default=(0,m.memo)((function(e){var t=e.id,a=(0,m.useState)([]),r=(0,s.default)(a,2),u=r[0],l=r[1],f=(0,m.useRef)(!0),o=(0,m.useRef)(0),v=(0,m.useRef)(),y=(0,m.useRef)(),Z=function(){var e=(0,c.default)(d.default.mark((function e(){var a,r,u;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,p.apiCommentHot)({id:t,type:0,limit:20,offset:o.current});case 5:a=e.sent,r=a.hotComments,u=a.hasMore,f.current=u,o.current+=20,l((function(e){return[].concat((0,n.default)(e),(0,n.default)(r))})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return(0,x.default)(Z,y,v),i.default.createElement("div",{className:"domComment px-8 py-5 overflow-auto max-h-full flex-auto",ref:y},i.default.createElement("div",{className:"h1"},"精彩评论"),i.default.createElement("div",{className:"domComment_list"},u.map((function(e){return i.default.createElement(h.default,{item:e,key:e.commentId})})),f.current&&i.default.createElement("div",{className:"flex justify-center py-4"},i.default.createElement(k.default,null)),i.default.createElement("div",{ref:v})))}))}}]);