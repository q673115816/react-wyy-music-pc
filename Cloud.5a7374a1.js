(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[7413],{248:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O}),a(7941),a(2526),a(7327),a(5003),a(4747),a(9337);var n=a(6156),r=a(2137),l=a(4699),c=a(7757),s=a.n(c),i=(a(1874),a(9653),a(8309),a(6977),a(1249),a(4916),a(3804)),o=a.n(i),m=a(4184),u=a.n(m),d=a(7484),p=a.n(d),f=a(1290),v=a(6866),E=a(7317),y=a(4615),b=a(8293),g=a(7948),N=a(8769),h=a(2387),x=a(5200);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(e,t,a){return String(e[a.code]).localeCompare(String(t[a.code]),"zh-CN")*a.type},_=[["音乐标题","songName",w],["歌手","artist",w],["专辑","album",w],["格式","",w],["大小","fileSize",function(e,t,a){return(Number.parseFloat(e[a.code])-Number.parseFloat(t[a.code]))*a.type}],["上传时间","addTime",function(e,t,a){return(e[a.code]-t[a.code])*a.type}]];const O=function(){var e=(0,i.useState)(!1),t=(0,l.Z)(e,2),a=t[0],n=t[1],c=(0,i.useState)(""),m=(0,l.Z)(c,2),d=m[0],S=m[1],w=(0,i.useState)([]),O=(0,l.Z)(w,2),Z=O[0],j=O[1],z=(0,i.useState)(0),C=(0,l.Z)(z,2),P=(C[0],C[1]),I=(0,i.useState)(""),M=(0,l.Z)(I,2),D=M[0],F=M[1],Y=(0,i.useState)(""),T=(0,l.Z)(Y,2),B=T[0],G=T[1],V=(0,i.useState)({name:"上传时间",type:-1,code:"addTime",callback:function(e,t,a){return(e[a.code]-t[a.code])*a.type}}),L=(0,l.Z)(V,2),R=L[0],U=L[1],$=function(){var e=(0,r.Z)(s().mark((function e(){var t,a,n,r,l,c,i,o,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.bx)({limit:100});case 3:t=e.sent,a=t.data,n=void 0===a?[]:a,r=t.count,l=void 0===r?0:r,c=t.maxSize,i=void 0===c?0:c,o=t.size,m=void 0===o?0:o,j(n),P(l),F(i),G(m),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){$()}),[]),o().createElement("div",{className:"domManage overflow-auto h-full"},o().createElement("div",{className:"domManage_header ui_header"},o().createElement("span",{className:"domManage_header_title h1"},"我的音乐云盘")),o().createElement("div",{className:"domCloud_info py-2.5 px-8"},o().createElement("span",null,"云盘容量")," ",o().createElement("div",{className:"ui_process",style:{"--ratio":B/D||0}})," ",o().createElement("span",{className:"num"},(B/1024/1024/1024).toFixed(2),"G/",D/1024/1024/1024,"G")," ",o().createElement("span",{className:"ml-8"},"歌曲永久保存，随时随地多端畅听")," ",o().createElement("a",{href:"https://music.163.com/#/store/product/detail?id=34001",className:"ui_link"},"扩容")),o().createElement("div",{className:"ui_headerBar border-b"},o().createElement("div",{className:"left space-x-2"},o().createElement(g.Z,null),o().createElement("button",{type:"button",className:"flex-center ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full"},o().createElement(x.IconPlus,{size:20}),"  上传音乐")),o().createElement("div",{className:"right"},o().createElement(f.Z,{search:d,setSearch:S,placeholder:"搜索我的音乐云盘"}))),o().createElement("div",{className:"overflow-auto max-h-full flex-auto",style:{paddingLeft:30,paddingRight:20}},o().createElement("div",{className:"domManage_table",style:{"--ui_grid_template":"36px / 30px 30px 8fr 3fr 3fr 2fr 2fr 4fr"}},o().createElement("div",{className:"thead"},o().createElement("div",{className:"tr grid ui_grid_template items-center"},o().createElement("div",null),o().createElement("div",null),_.map((function(e){var t=(0,l.Z)(e,3),a=t[0],n=t[1],r=t[2];return o().createElement("div",{key:a,className:u()("cell px-1","th",{on:a===R.name}),onClick:function(){return function(e){if(R.name!==e.name)return U(k(k({},e),{},{type:1}));switch(R.type){case-1:return U({name:"",code:"",callback:function(e,t){return 0},type:0});case 1:return U(k(k({},e),{},{type:-1}));default:return U(k(k({},e),{},{type:1}))}}({item:a,code:n,callback:r})}},a,o().createElement("span",{className:"sort"},function(e,t){return t.name!==e?o().createElement(x.IconSwitchVertical,{size:14,color:"#f00",stroke:1}):-1===t.type?o().createElement(x.IconCaretDown,{size:20,stroke:0,fill:"#000"}):1===t.type?o().createElement(x.IconCaretUp,{size:12,stroke:0,fill:"#000"}):0===t.type?o().createElement(x.IconSwitchVertical,{size:14,color:"#f00",stroke:1}):void 0}(a,R)))})))),o().createElement("div",{className:"tbody"},Z.map((function(e,t){var a,n,r,l,c,s,i;return o().createElement(E.Z,{type:"song",item:e,schema:[["播放","下一首播放"],["收藏到歌单","分享","下载"],["删除"]],key:e.songId},o().createElement("div",{className:u()("tr grid ui_grid_template items-center hover:bg-gray-100 focus:outline-none focus:bg-gray-200",t%2==0&&"bg-gray-50"),tabIndex:"2"},o().createElement("div",{className:"cell px-1 index text-gray-400"},o().createElement(y.Z,{index:t,id:e.songId})),o().createElement("div",{className:"cell px-1 download"},o().createElement(b.Z,null)),o().createElement("div",{className:"cell px-1 name truncate",title:e.songName+(null===(a=e.simpleSong)||void 0===a||null===(n=a.tns)||void 0===n?void 0:n.length)>0&&"（".concat(null===(r=e.simpleSong)||void 0===r?void 0:r.tns,"）")},e.songName,(null===(l=e.simpleSong)||void 0===l||null===(c=l.tns)||void 0===c?void 0:c.length)>0&&o().createElement("span",{className:"text-gray-500"},"（".concat(e.simpleSong.tns,"）"))),o().createElement(N.Z,{className:"px-1",artists:e.simpleSong.ar}),o().createElement(h.Z,{className:"px-1",name:e.album,id:null===(s=e.simpleSong)||void 0===s||null===(i=s.al)||void 0===i?void 0:i.id}),o().createElement("div",{className:"cell px-1 truncate uppercase"},/(?<=\.)(\w*)$/.exec(e.fileName)[0]),o().createElement("div",{className:"cell px-1 truncate"},(e.fileSize/1024/1024).toFixed(1),"MB"),o().createElement("div",{className:"cell px-1 truncate text-gray-400"},p()(e.addTime).format("YYYY-MM-DD"))))}))))),o().createElement("div",{className:"domManage_dialog",style:{display:a?"":"none"}},o().createElement("button",{type:"button",className:"close",onClick:function(){n(!a)}},"×"),o().createElement("div",{className:"title"},"选择本地音乐文件夹"),o().createElement("div",{className:"tips"},"将自动扫描您勾选的目录，文件增删实时同步。"),o().createElement("ul",null,o().createElement("li",null,o().createElement("span",{className:"checkbox"},o().createElement("input",{type:"text"}),o().createElement("i",{className:"material-icons"},"checkbox")),"暂时没法做")),o().createElement("div",{className:"actions"},o().createElement("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full red"},"确认"),o().createElement("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full"},"添加文件"))))}}}]);