"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[4288],{35104:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(87363),n=(0,l.Z)(r);exports.default=(0,r.memo)((function(e){var t=e.pop,a=void 0===t?0:t;return n.default.createElement("div",{className:"range w-20 h-1.5 rounded bg-gray-200"},n.default.createElement("div",{className:"h-full bg-gray-300 rounded",style:{width:"".concat(a,"%")}}))}))},51131:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),c=a(94184),d=(0,l.Z)(c),u=a(66711),s={"--grid-template-columns":"60px 1fr 1fr"};exports.default=function(e){var t=e.albums,a=void 0===t?[]:t;return n.default.createElement("div",{className:"albums_list _list",style:s},a.map((function(e,t){return n.default.createElement("div",{tabIndex:"2",className:(0,d.default)("item grid items-center relative hover:bg-gray-100",{"bg-gray-50":t%2==1}),key:e.id},n.default.createElement(u.Link,{className:"absolute inset-0 z-0",to:"/playlist/album/".concat(e.id)}),n.default.createElement("div",{className:"cover"},n.default.createElement("img",{src:"".concat(e.picUrl,"?param=60y60"),alt:""})),n.default.createElement("div",{className:"name px-5 text-sm"},e.name,e.alias.length>0&&n.default.createElement("span",{className:"text-gray-400"},"（".concat(e.alias,"）"))),n.default.createElement("div",{className:"artist truncate"},n.default.createElement(u.Link,{to:"/artist/".concat(e.artist.id),className:"ui_text_gray_hover relative z-10"},e.artist.name,e.artist.alias.length>0&&n.default.createElement("span",{className:"text-gray-400"},"（".concat(e.artist.alias,"）")))))})))}},46483:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),c=a(66711),d=a(94184),u=(0,l.Z)(d),s=a(16719),m={"--grid-template-columns":"60px 6fr min-content"};exports.default=function(e){var t=e.artists,a=void 0===t?[]:t;return n.default.createElement("div",{className:"artists_list _list",style:m},a.map((function(e,t){return n.default.createElement("div",{className:(0,u.default)("item relative grid items-center hover:bg-gray-100",{"bg-gray-50":t%2==1}),key:e.id},n.default.createElement(c.Link,{to:"/artist/".concat(e.id),className:"absolute inset-0"}),n.default.createElement("div",{className:"cover"},n.default.createElement("img",{className:"",src:"".concat(e.img1v1Url,"?param=60y60"),alt:""})),n.default.createElement("div",{className:"name px-2.5 text-sm"},e.name,e.alia&&n.default.createElement("span",{className:"text-gray-400"},"(",null==e?void 0:e.alias[0],")")),e.accountId&&n.default.createElement("span",{className:"account bg-red-500 w-4 h-4 rounded-full text-white flex-center"},n.default.createElement(s.IconUser,{size:12,stroke:3})))})))}},20565:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),c=a(94184),d=(0,l.Z)(c),u=a(66711),s={"--grid-template-columns":"60px 5fr 2fr"};exports.default=function(e){var t=e.djRadios,a=void 0===t?[]:t;return n.default.createElement("div",{className:"djRadios_list _list",style:s},a.map((function(e,t){return n.default.createElement("div",{className:(0,d.default)("item grid items-center hover:bg-gray-100",{"bg-gray-50":t%2==0}),key:e.id},n.default.createElement(u.Link,{to:"/playlist/dj/".concat(e.id),className:"cover"},n.default.createElement("img",{className:"",src:"".concat(e.picUrl,"?param=60y60"),alt:""})),n.default.createElement("div",{className:"px-5"},n.default.createElement(u.Link,{to:"/playlist/dj/".concat(e.id),className:"name"},e.name)),n.default.createElement("div",{className:"dj text-gray-300"},"by  ",n.default.createElement(u.Link,{to:"/user/".concat(e.dj.userId),className:"ui_text_gray_hover"},e.dj.nickname)))})))}},16524:(e,t,a)=>{a.r(t),a(82526),a(57327),a(38880),a(54747),a(49337);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(59713),n=(0,l.Z)(r),c=a(48926),d=(0,l.Z)(c),u=a(63038),s=(0,l.Z)(u);a(21249),a(47941),a(92222);var m=a(87757),i=(0,l.Z)(m),o=a(87363),f=(0,l.Z)(o),v=a(66711),p=a(21624),E=a(63233),y=a(80309);a(25499);var g=a(74849),x=(0,l.Z)(g),N=a(90443),b=(0,l.Z)(N),h=a(24166),_=(0,l.Z)(h),Z=a(46483),k=(0,l.Z)(Z),j=a(51131),O=(0,l.Z)(j),w=a(61175),C=(0,l.Z)(w),P=a(14583),S=(0,l.Z)(P),M=a(58011),D=(0,l.Z)(M),I=a(20565),L=(0,l.Z)(I),U=a(19569),z=(0,l.Z)(U);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}var V={单曲:{code:1,unit:"首",limit:100,Dom:_.default,countName:"songCount"},歌手:{code:100,unit:"位",limit:20,Dom:k.default,countName:"artistCount"},专辑:{code:10,unit:"张",limit:20,Dom:O.default,countName:"albumCount"},视频:{code:1014,unit:"个",limit:24,Dom:C.default,countName:"videoCount"},歌单:{code:1e3,unit:"个",limit:20,Dom:S.default,countName:"playlistCount"},歌词:{code:1006,unit:"首",limit:20,Dom:D.default,countName:"songCount"},主播电台:{code:1009,unit:"个",limit:100,Dom:L.default,countName:"djRadiosCount"},用户:{code:1002,unit:"位",limit:20,Dom:z.default,countName:"userprofileCount"}};exports.default=(0,o.memo)((function(e){var t=e.keywords,a=e.type;console.log("entry search");var l=(0,p.useDispatch)(),r=(0,o.useState)({}),c=(0,s.default)(r,2),u=c[0],m=c[1],g=(0,o.useState)(0),N=(0,s.default)(g,2),h=N[0],_=N[1],Z=(0,o.useState)({}),k=(0,s.default)(Z,2),j=k[0],O=k[1],w=(0,o.useState)(1),C=(0,s.default)(w,2),P=C[0],S=C[1],M=(0,o.useState)(!0),D=(0,s.default)(M,2),I=D[0],L=D[1],U=V[a],z=U.code,F=U.unit,T=U.limit,A=U.Dom,H=U.countName,q=(0,p.useSelector)((function(e){return e.common})).searchValue,B=function(){var e=(0,d.default)(i.default.mark((function e(){var l,r,n,c,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,(0,E.apiCloudSearch)({keywords:t,limit:T,type:z,offset:(P-1)*T});case 4:if(l=e.sent,r=l.result,n=r[H],"单曲"!==a){e.next=14;break}return e.next=10,(0,E.apiSearchMultimatch)({keywords:t});case 10:c=e.sent,d=c.result,O(void 0===d?{}:d);case 14:_(n),m(r),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:L(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){q||l((0,y.setSearchValue)({searchValue:t}))}),[]),(0,o.useEffect)((function(){S(1)}),[t,a]),(0,o.useEffect)((function(){B()}),[t,a,P]),f.default.createElement("div",{className:"domSearch overflow-auto max-h-full flex-auto"},f.default.createElement("div",{className:"domSearch_header p-8 pb-2.5 border-b"},f.default.createElement("div",{className:"font-bold text-base"},"找到",h||0,F),f.default.createElement("div",{className:"domSearch_nav mt-5 space-x-4"},Object.keys(V).map((function(e){return f.default.createElement(v.NavLink,{key:e,activeClassName:"font-bold",to:"/search/".concat(t,"/").concat(e),className:"domSearch_nav_link text-lighter text-sm"},e)})))),f.default.createElement("div",{className:"domSearch_main"},I?f.default.createElement("div",{className:"pt-48 flex-center"},f.default.createElement(x.default,null)):f.default.createElement(f.default.Fragment,null,f.default.createElement(A,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({multimatch:j},u)),f.default.createElement(b.default,{total:Math.ceil(h/T),page:P,func:S}))))}))},77465:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(63038),n=(0,l.Z)(r);a(74916),a(15306),a(69600),a(21249),a(47042);var c=a(87363),d=(0,l.Z)(c);exports.default=function(e){var t=e.lyrics,a=void 0===t?[]:t,l=(0,c.useRef)(),r=(0,c.useState)(!1),u=(0,n.default)(r,2),s=u[0],m=u[1];(0,c.useEffect)((function(){l.current=a.join("\n").replace(/<b>|<\/b>/gm,"")}),[a]);var i=function(){var e=document.createElement("textarea");e.setAttribute("readonly","readonly"),e.textContent=l.current,document.body.appendChild(e),e.select(),document.execCommand("copy")&&(document.execCommand("copy"),console.log("复制成功")),document.body.removeChild(e)};return d.default.createElement("div",{className:"lrc flex pb-2"},d.default.createElement("div",{className:"content w-2/3 px-2 text-gray-500"},a.slice(0,s?1/0:4).map((function(e,t){return d.default.createElement("div",{key:e+t,dangerouslySetInnerHTML:{__html:e}})}))),d.default.createElement("div",{className:"actions w-1/3 flex flex-col justify-between"},d.default.createElement("div",{className:"flex space-x-2.5"},d.default.createElement("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full",onClick:function(){return m(!s)}},s?"收起":"展开","歌词"),d.default.createElement("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full clip",onClick:i},"复制歌词")),s&&d.default.createElement("div",{className:"flex space-x-2.5"},d.default.createElement("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full",onClick:function(){return m(!1)}},"收起歌词"),d.default.createElement("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full clip",onClick:i},"复制歌词"))))}},58011:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),c=a(94184),d=(0,l.Z)(c),u=a(27484),s=(0,l.Z)(u),m=a(67317),i=(0,l.Z)(m),o=a(64615),f=(0,l.Z)(o),v=a(87653),p=(0,l.Z)(v),E=a(88293),y=(0,l.Z)(E),g=a(16823),x=(0,l.Z)(g),N=a(48769),b=(0,l.Z)(N),h=a(22387),_=(0,l.Z)(h),Z=a(35104),k=(0,l.Z)(Z),j=a(77465),O=(0,l.Z)(j);exports.default=function(e){var t=e.songs,a=void 0===t?[]:t;return n.default.createElement("div",{className:"lyrics_list",style:{"--ui_grid_template":"36px / 54px 24px 24px 37% 4fr 5fr 2fr 3fr"}},n.default.createElement("div",{className:"thead"},n.default.createElement("div",{className:"item grid items-center text-gray-400 ui_grid_template"},n.default.createElement("div",{className:"index"}),n.default.createElement("div",{className:"heart"}),n.default.createElement("div",{className:"download"}),n.default.createElement("div",{className:"name"},"音乐标题"),n.default.createElement("div",{className:"artist"},"歌手"),n.default.createElement("div",{className:"album"},"专辑"),n.default.createElement("div",{className:"duration"},"时长"),n.default.createElement("div",{className:"text-gray-400"},"热度"))),n.default.createElement("div",{className:"tbody"},a.map((function(e,t){return n.default.createElement(i.default,{schema:[["评论","播放","下一首播放"],["收藏到歌单","分享","复制链接","下载"]],item:e,type:"song",key:e.id},n.default.createElement("div",{tabIndex:"2",className:(0,d.default)("item grid items-center hover:bg-gray-100 focus:outline-none focus:bg-gray-200 ui_grid_template",{"bg-gray-50":t%2==0})},n.default.createElement("div",{className:"index pr-2"},n.default.createElement(f.default,{index:t,id:e.id})),n.default.createElement("div",{className:"heart"},n.default.createElement(p.default,{id:e.id})),n.default.createElement("div",{className:"download"},n.default.createElement(y.default,null)),n.default.createElement("div",{className:"name flex"},n.default.createElement(x.default,{item:e})),n.default.createElement("div",{className:"artist truncate"},n.default.createElement(b.default,{artists:e.ar})),n.default.createElement("div",{className:"album truncate"},n.default.createElement(_.default,{name:e.al.name,id:e.al.id})),n.default.createElement("div",{className:"duration text-gray-400 truncate"},(0,s.default)(e.dt).format("mm:ss")),n.default.createElement("div",{className:"pop"},n.default.createElement(k.default,{pop:e.pop})),n.default.createElement(O.default,{lyrics:e.lyrics})))}))))}},4779:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(87363),n=(0,l.Z)(r),c=a(66711),d=a(11603),u=(0,l.Z)(d),s=a(16524),m=(0,l.Z)(s);exports.default=function(){return n.default.createElement(c.Switch,null,n.default.createElement(c.Route,{path:"/search/:keywords/:type"},(0,u.default)(m.default)),n.default.createElement(c.Redirect,{to:"/search/:keywords/单曲"}))}},14583:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249),a(68309);var r=a(87363),n=(0,l.Z)(r),c=a(94184),d=(0,l.Z)(c),u=a(66711),s={"--grid-template-columns":"60px 6fr 2fr 5fr"};exports.default=function(e){var t=e.playlists,a=void 0===t?[]:t;return n.default.createElement("div",{className:"playlists_list _list",style:s},a.map((function(e,t){return n.default.createElement("div",{className:(0,d.default)("item grid items-center relative hover:bg-gray-100",{"bg-gray-50":t%2==1}),key:e.id},n.default.createElement(u.Link,{className:"absolute inset-0 z-0",to:"/playlist/music/".concat(e.id)}),n.default.createElement("div",{className:"cover"},n.default.createElement("img",{className:"",src:"".concat(e.coverImgUrl,"?param=60y60"),alt:""})),n.default.createElement("div",{className:"name px-3"},e.name),n.default.createElement("div",{className:"trackCount text-gray-400"},e.trackCount,"首"),n.default.createElement("div",{className:"creator text-gray-300"},"by  ",n.default.createElement(u.Link,{to:"/user/".concat(e.creator.userId),className:"ui_text_black_hover relative z-10"},e.creator.nickname)))})))}},24166:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(63038),n=(0,l.Z)(r);a(68309),a(47941),a(21249),a(26699),a(32023);var c=a(87363),d=(0,l.Z)(c),u=a(94184),s=(0,l.Z)(u),m=a(66711),i=a(27484),o=(0,l.Z)(i),f=a(16719),v=a(67317),p=(0,l.Z)(v),E=a(64615),y=(0,l.Z)(E),g=a(87653),x=(0,l.Z)(g),N=a(88293),b=(0,l.Z)(N),h=a(16823),_=(0,l.Z)(h),Z=a(48769),k=(0,l.Z)(Z),j=a(22387),O=(0,l.Z)(j),w=a(35104),C=(0,l.Z)(w),P={artist:function(e){var t=e.item;return d.default.createElement(m.Link,{to:"/artist/".concat(t.id),className:"item group h-20 flex items-center bg-gray-100 rounded overflow-hidden"},d.default.createElement("div",{className:"cover"},d.default.createElement("img",{className:"",src:"".concat(t.picUrl,"?param=80y80"),alt:""})),d.default.createElement("div",{className:"content px-2"},d.default.createElement("div",{className:"name text-sm"},"歌手：",t.name,t.alias.length>0&&d.default.createElement("span",{className:"text-gray-400"},"（".concat(t.alias,"）")))),d.default.createElement("div",{className:"ico text-gray-600 group-hover:text-black ml-auto mr-4"},d.default.createElement(f.IconChevronRight,{size:24,stroke:1})))},album:function(e){var t=e.item;return d.default.createElement(m.Link,{to:"/playlist/album/".concat(t.id),className:"item h-20 flex items-center bg-gray-100 rounded overflow-hidden"},d.default.createElement("div",{className:"cover"},d.default.createElement("img",{className:"",src:"".concat(t.blurPicUrl,"?param=80y80"),alt:""})),d.default.createElement("div",{className:"content px-2"},d.default.createElement("div",{className:"name text-sm"},t.name),d.default.createElement("div",{className:"subname"},t.artist.name)),d.default.createElement("div",{className:"ico text-gray-600 group-hover:text-black ml-auto mr-4"},d.default.createElement(f.IconChevronRight,{size:24,stroke:1})))}},S=function(e){var t=e.list,a=void 0===t?[]:t,l=Object.keys(P);return d.default.createElement("div",{className:"domSearch_multimatch border-b px-8 py-5"},d.default.createElement("div",{className:"title text-bold"},"最佳匹配"),d.default.createElement("div",{className:"list mt-5 flex space-x-6"},a.map((function(e){var t=(0,n.default)(e,3),a=t[0],r=t[1],c=t[2];return l.includes(c)&&d.default.createElement(r,{item:a,key:c})}))))};exports.default=(0,c.memo)((function(e){var t,a=e.songs,l=void 0===a?[]:a,r=e.multimatch,n=void 0===r?{orders:[]}:r,c=null===(t=n.orders)||void 0===t?void 0:t.map((function(e){return[n[e][0],P[e],e]}));return d.default.createElement(d.default.Fragment,null,d.default.createElement(S,{list:c}),d.default.createElement("div",{className:"songs_list",style:{"--ui_grid_template":"36px / 54px 24px 24px 37% 4fr 5fr 2fr 3fr"}},d.default.createElement("div",{className:"thead"},d.default.createElement("div",{className:"item grid items-center text-gray-400 ui_grid_template"},d.default.createElement("div",{className:"index"}),d.default.createElement("div",{className:"heart"}),d.default.createElement("div",{className:"download"}),d.default.createElement("div",{className:"name flex-auto px-2"},"音乐标题"),d.default.createElement("div",{className:"artist flex-none px-2"},"歌手"),d.default.createElement("div",{className:"album flex-none px-2"},"专辑"),d.default.createElement("div",{className:"duration flex-none px-2"},"时长"),d.default.createElement("div",{className:"pop flex-none px-2"},"热度"))),d.default.createElement("div",{className:"tbody"},l.map((function(e,t){return d.default.createElement(p.default,{schema:[["评论","播放","下一首播放"],["收藏到歌单","分享","复制链接","下载"]],item:e,type:"song",key:e.id},d.default.createElement("div",{tabIndex:"2",className:(0,s.default)("item grid items-center hover:bg-gray-100 focus:bg-gray-200 focus:outline-none ui_grid_template",{"bg-gray-50":t%2==0})},d.default.createElement("div",{className:"index pr-2"},d.default.createElement(y.default,{index:t,id:e.id})),d.default.createElement("div",{className:"heart text-center"},d.default.createElement(x.default,{id:e.id})),d.default.createElement("div",{className:"download text-center"},d.default.createElement(b.default,null)),d.default.createElement("div",{className:"name px-2"},d.default.createElement(_.default,{item:e})),d.default.createElement("div",{className:"artist flex-none px-2 truncate text-gray-400"},d.default.createElement(k.default,{artists:e.ar})),d.default.createElement("div",{className:"album truncate flex-none px-2"},d.default.createElement(O.default,{name:e.al.name,id:e.al.name})),d.default.createElement("div",{className:"duration text-gray-400 truncate flex-none px-2"},(0,o.default)(e.dt).format("mm:ss")),d.default.createElement("div",{className:"pop"},d.default.createElement(C.default,{pop:e.pop}))))})))))}))},19569:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249);var r=a(87363),n=(0,l.Z)(r),c=a(66711),d=a(94184),u=(0,l.Z)(d),s=a(36871),m=(0,l.Z)(s),i={"--grid-template-columns":"60px 5fr 2fr"};exports.default=function(e){var t=e.userprofiles,a=void 0===t?[]:t;return n.default.createElement("div",{className:"userprofiles_list _list",style:i},a.map((function(e,t){return n.default.createElement(c.Link,{to:"/user/".concat(e.userId),className:(0,u.default)("item grid items-center hover:bg-gray-100",{"bg-gray-50":t%2==1}),key:e.userId},n.default.createElement("div",{className:"cover"},n.default.createElement("img",{src:"".concat(e.avatarUrl,"?param=60y60"),alt:""})),n.default.createElement("div",{className:"name px-5"},e.nickname," ",n.default.createElement(m.default,{size:16,gender:e.gender})),n.default.createElement("div",{className:"signature text-gray-400 ml-auto"},e.signature))})))}},61175:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249);var r=a(87363),n=(0,l.Z)(r),c=a(95996),d=(0,l.Z)(c);exports.default=function(e){var t=e.videos,a=(void 0===t?[]:t).map((function(e){var t=e.type,a=e.title,l=e.coverUrl,r=e.playTime,n=e.creator;return{id:e.vid,type:t,title:a,creator:n,playCount:r,duration:e.durationms,cover:l}}));return n.default.createElement("div",{className:"videos_list py-5 px-10"},n.default.createElement(d.default,{list:a}))}},7755:(e,t,a)=>{a.r(t);var l=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var r=a(4779);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(0,l.Z)(r).default}})},25499:(e,t,a)=>{a.r(t)}}]);