"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[7774],{28818:(e,t,a)=>{a.r(t);var r=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var n=a(49064),l=(0,r.Z)(n),u=a(48926),s=(0,r.Z)(u),c=a(63038),o=(0,r.Z)(c),d=a(87757),f=(0,r.Z)(d);a(66992),a(41539),a(88674),a(78783),a(33948),a(34553);var i=a(87363),p=(0,r.Z)(i),m=a(63233),v=a(66711),h=a(27980),w=(0,r.Z)(h),k=a(75192),_=(0,r.Z)(k);exports.default=(0,i.memo)((function(e){var t=e.uid;console.log("user_fans");var a=(0,i.useState)({}),r=(0,o.default)(a,2),n=r[0],u=r[1],c=(0,i.useState)([]),d=(0,o.default)(c,2),h=d[0],k=d[1],x=function(){var e=(0,s.default)(f.default.mark((function e(){var a,r,n,l;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([(0,m.apiUserDetail)({uid:t}),(0,m.apiUserFolloweds)({uid:t})]);case 3:a=e.sent,r=(0,o.default)(a,2),n=r[0].profile,l=r[1].followeds,u(n),k(l),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),y=(0,i.useCallback)(function(){var e=(0,s.default)(f.default.mark((function e(t){var a;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.apiFollow)({id:t,t:1});case 3:a=e.sent,(0,l.default)(a),k((0,w.default)((function(e){e[e.findIndex((function(e){return e.userId===t}))].followed=!0}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,i.useEffect)((function(){x()}),[]),p.default.createElement("div",{className:"domUser_followlist"},p.default.createElement("div",{className:"h1 domUser_subpage_header ui_header"},p.default.createElement(v.Link,{to:"./"},n.nickname),"的粉丝"),p.default.createElement("div",{className:"domUser_followlist_main"},p.default.createElement(_.default,{list:h,handleClick:y},p.default.createElement("div",{className:"empty"},"还没有粉丝"))))}))}}]);