{"version":3,"file":"DjCategory.196b51ac.js","mappings":"+RAAA,e,aAGA,WACA,WACA,W,aACA,W,8BAEe,IAAAA,OAAK,YAAmB,IAAhBC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,IAC3B,GAAwB,IAAAC,UAAS,IAAjC,qBAAOC,EAAP,KAAaC,EAAb,KACMC,GAAY,IAAAC,UACZC,GAAc,IAAAD,UACdE,GAAS,IAAAF,QAAO,GAGhBG,EAAU,+CAAG,sHAEY,IAAAC,eAAc,CACvCC,OAAQV,EACRW,MANQ,GAORJ,OAAQA,EAAOK,UALF,gBAEPC,EAFO,EAEPA,SAKRN,EAAOK,SATG,GAUVT,GAAQ,SAACW,GAAD,8BAAcA,IAAd,aAAuBD,OARhB,gDAUfE,QAAQC,IAAR,MAVe,yDAAH,qDAmBhB,OANA,IAAAC,YAAU,WACRd,EAAQ,IACRI,EAAOK,QAAU,IAEhB,CAACZ,KACJ,aAAYQ,EAAYJ,EAAWE,GAEjC,+BAAKY,UAAU,uBAAuBC,IAAKf,GACzC,+BAAKc,UAAU,gBAAgBnB,GAC/B,+BAAKmB,UAAU,+BACZhB,EAAKkB,KAAI,SAACC,GAAD,OACR,wBAAC,EAAAC,KAAD,CAAMC,IAAKF,EAAKG,GAAIC,GAAE,uBAAkBJ,EAAKG,IAAMN,UAAU,QAC3D,+BAAKA,UAAU,uCACb,+BAAKQ,QAAO,OAAUR,UAAS,sBAAyBS,IAAG,UAAKN,EAAKO,OAAV,kBAAkCC,IAAI,MAEnG,+BAAKX,UAAU,2BACb,+BAAKA,UAAU,+BAA+BG,EAAKS,MACnD,+BAAKZ,UAAU,sBAAsBG,EAAKU,UAC1C,+BAAKb,UAAU,sBAAf,MAEE,oCAAOG,EAAKW,cAFd,OAIE,oCAAOX,EAAKY,iBAMtB,+BAAKd,IAAKb,EAAaY,UAAU,eAAc,wBAAC,UAAD","sources":["webpack://wyy/./src/pages/DjCategory/index.tsx"],"sourcesContent":["import React, {\n  memo, useEffect, useRef, useState,\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport { apiDjRadioHot } from '@/api';\nimport useInfinite from '@/hooks/useInfinite';\nimport DomLoading from '@/components/Loading';\n\nexport default memo(({ type, rid }) => {\n  const [data, setData] = useState([]);\n  const DomScroll = useRef();\n  const DomObserver = useRef();\n  const offset = useRef(0);\n  const limit = 40;\n\n  const handleInit = async () => {\n    try {\n      const { djRadios } = await apiDjRadioHot({\n        cateId: rid,\n        limit,\n        offset: offset.current,\n      });\n      offset.current += limit;\n      setData((prev) => [...prev, ...djRadios]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    setData([]);\n    offset.current = 0;\n    // handleInit();\n  }, [rid]);\n  useInfinite(handleInit, DomScroll, DomObserver);\n  return (\n    <div className=\"overflow-auto h-full\" ref={DomScroll}>\n      <div className=\"ui_header h1\">{type}</div>\n      <div className=\"grid grid-cols-2 gap-5 px-8\">\n        {data.map((item) => (\n          <Link key={item.id} to={`/playlist/dj/${item.id}`} className=\"flex\">\n            <div className=\"w-32 rounded overflow-hidden border\">\n              <img loading={`lazy`} className={`ui_aspect-ratio-1/1`} src={`${item.picUrl}?param=200y200`} alt=\"\" />\n            </div>\n            <div className=\"flex-auto w-0 px-2 pt-8\">\n              <div className=\"ui_text_black_hover text-sm\">{item.name}</div>\n              <div className=\"text-gray-400 mt-4\">{item.rcmdtext}</div>\n              <div className=\"text-gray-400 mt-2\">\n                节目：\n                <span>{item.programCount}</span>\n                ，订阅：\n                <span>{item.subCount}</span>\n              </div>\n            </div>\n          </Link>\n        ))}\n      </div>\n      <div ref={DomObserver} className=\"flex-center\"><DomLoading /></div>\n    </div>\n  );\n});\n"],"names":["memo","type","rid","useState","data","setData","DomScroll","useRef","DomObserver","offset","handleInit","apiDjRadioHot","cateId","limit","current","djRadios","prev","console","log","useEffect","className","ref","map","item","Link","key","id","to","loading","src","picUrl","alt","name","rcmdtext","programCount","subCount"],"sourceRoot":""}