"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[6210],{91268:(e,t,a)=>{a.r(t);var r=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=a(48926),n=(0,r.Z)(l),u=a(63038),d=(0,r.Z)(u),c=a(87757),s=(0,r.Z)(c);a(9653),a(21249);var o=a(87363),f=(0,r.Z)(o),i=a(66711),m=a(63233),p=a(67317),v=(0,r.Z)(p),_=a(21624),x=a(94184),E=(0,r.Z)(x),b=a(64615),y=(0,r.Z)(b),h=a(87653),N=(0,r.Z)(h),g=a(88293),k=(0,r.Z)(g),Z=a(16823),w=(0,r.Z)(Z);exports.default=(0,o.memo)((function(e){var t=e.uid,a=(0,_.useSelector)((function(e){return e.account})).profile;if((null==a?void 0:a.userId)!==Number(t))return f.default.createElement(i.Redirect,{to:"/"});var r=(0,o.useState)(1),l=(0,d.default)(r,2),u=l[0],c=l[1],p=(0,o.useState)([]),x=(0,d.default)(p,2),b=x[0],h=x[1],g=function(){var e=(0,n.default)(s.default.mark((function e(){var a,r,l;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.apiUserRecord)({uid:t,type:u});case 3:a=e.sent,r=a.allData,l=a.weekData,h(1===u?l:r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){g()}),[u,t]),f.default.createElement("div",{className:"domUser_record h-full flex flex-col"},f.default.createElement("div",{className:"flex-none"},f.default.createElement("div",{className:"h1 ui_header"},"我的听歌排行"),f.default.createElement("div",{className:"domUser_record_nav px-8 pb-2 border-b space-x-8 text-sm"},f.default.createElement("button",{onClick:function(){return c(1)},type:"button",className:(0,E.default)("domUser_record_nav_link",{"font-bold":1===u})},"最近一周"),f.default.createElement("button",{onClick:function(){return c(0)},type:"button",className:(0,E.default)("domUser_record_nav_link",{"font-bold":0===u})},"所有时间"))),f.default.createElement("div",{className:"overflow-auto h-0 flex-auto domUser_record_main",style:{"--ui_grid_template":"36px / 24px 24px 24px 10fr 1fr"}},f.default.createElement("div",{className:"domUser_record_list"},b.map((function(e,t){var a=e.song,r=e.playCount;return f.default.createElement(v.default,{item:a,key:a.id,schema:[["评论","播放","下一首播放"],["收藏到歌单","分享","复制链接","下载"]]},f.default.createElement("div",{tabIndex:"2",className:(0,E.default)("domUser_record_item focus:outline-none focus:bg-gray-200 items-center hover:bg-gray-100 ui_grid_template px-8 grid",t%2==1&&"bg-gray-50")},f.default.createElement("div",{className:"index text-gray-400"},f.default.createElement(y.default,{id:a.id,index:t})),f.default.createElement("div",{className:"heart"},f.default.createElement(N.default,{id:a.id})),f.default.createElement("div",{className:"download"},f.default.createElement(k.default,null)),f.default.createElement("div",{className:"name"},f.default.createElement(w.default,{item:a})),f.default.createElement("div",{className:"playCount text-gray-400"},r,"次")))})))))}))}}]);