import{r as l}from"./react.23cc8478.js";import{L as n,b,N as V,O as J,R as O,c as N,d as K}from"./react-router-dom.1e37ceed.js";import{c as u}from"./react-slick.9a6761a2.js";import{H as C,D as F,d as B,ah as Q,L as D,ad as T,u as E,v as _,ai as $,aj as q,ak as W,al as X,am as Y,R as Z,P as ee}from"./index.26cba7c2.js";import{M as A}from"./MenuCreate.bfdffcbd.js";import{R as w}from"./Rank.b4b9eb7a.js";import{D as k}from"./Download.5669f4c2.js";import{N as S}from"./Name.e9c55dfc.js";import{D as I}from"./Album.b8e72618.js";import{j as e,a as r,F as ae}from"./qrcode.react.5dc2fa92.js";import{i as se}from"./@tabler/icons.e4cd39cf.js";import{G as re}from"./Home.d7e4ce7a.js";import{G as te}from"./Gender.6fe7be53.js";import"./react-transition-group.2d7b5c33.js";import"./react-dom.c88e72d8.js";import"./lodash.d03d4659.js";import"./react-redux.9d317390.js";import"./immer.36a28300.js";import"./axios.96312ac8.js";import"./store.57d764e6.js";import"./react-use.a9b69494.js";import"./index.9fb1bc9a.js";const le=({pop:s=0})=>e("div",{className:"range w-20 h-1.5 rounded bg-gray-200",children:e("div",{className:"h-full bg-gray-300 rounded",style:{width:`${s}%`}})});var R=l.exports.memo(le);const ce=({songs:s=[]})=>r("div",{className:"songs_list",style:{"--ui_grid_template":"36px / 54px 24px 24px 37% 4fr 5fr 2fr 3fr"},children:[e("div",{className:"thead",children:r("div",{className:"item grid items-center text-gray-400 ui_grid_template",children:[e("div",{className:"index"}),e("div",{className:"heart"}),e("div",{className:"download"}),e("div",{className:"name flex-auto px-2",children:"\u97F3\u4E50\u6807\u9898"}),e("div",{className:"artist flex-none px-2",children:"\u6B4C\u624B"}),e("div",{className:"album flex-none px-2",children:"\u4E13\u8F91"}),e("div",{className:"duration flex-none px-2",children:"\u65F6\u957F"}),e("div",{className:"pop flex-none px-2",children:"\u70ED\u5EA6"})]})}),e("div",{className:"tbody",children:s.map((a,t)=>e(A,{schema:[["\u8BC4\u8BBA","\u64AD\u653E","\u4E0B\u4E00\u9996\u64AD\u653E"],["\u6536\u85CF\u5230\u6B4C\u5355","\u5206\u4EAB","\u590D\u5236\u94FE\u63A5","\u4E0B\u8F7D"]],item:a,type:"song",children:r("div",{tabIndex:2,className:u("item grid items-center hover:bg-gray-100 focus:bg-gray-200 focus:outline-none ui_grid_template",{"bg-gray-50":t%2===0}),children:[e("div",{className:"index px-2",children:e(w,{index:t,id:a.id})}),e("div",{className:"heart text-center",children:e(C,{id:a.id})}),e("div",{className:"download text-center",children:e(k,{})}),e("div",{className:"name px-2",children:e(S,{item:a})}),e("div",{className:"artist flex-none px-2 truncate text-gray-400",children:e(F,{artists:a.ar})}),e("div",{className:"album truncate flex-none px-2",children:e(I,{name:a.al.name,id:a.al.name})}),e("div",{className:"duration text-gray-400 truncate flex-none px-2",children:B(a.dt).format("mm:ss")}),e("div",{className:"pop",children:e(R,{pop:a.pop})})]})},a.id))})]});var ie=l.exports.memo(ce);const ne={"--grid-template-columns":"60px 6fr min-content"};var de=({artists:s=[]})=>e("div",{className:"artists_list _list",style:ne,children:s.map((a,t)=>r("div",{className:u("item relative grid items-center hover:bg-gray-100",{"bg-gray-50":t%2===1}),children:[e(n,{to:`/artist/${a.id}`,className:"absolute inset-0"}),e("div",{className:"cover",children:e("img",{className:"",src:`${a.img1v1Url}?param=60y60`,alt:""})}),r("div",{className:"name px-2.5 text-sm",children:[a.name,a.alia&&r("span",{className:"text-gray-400",children:["(",a==null?void 0:a.alias[0],")"]})]}),a.accountId&&e("span",{className:"account bg-red-500 w-4 h-4 rounded-full text-white flex-center",children:e(se,{size:12,stroke:3})})]},a.id))});const oe={"--grid-template-columns":"60px 1fr 1fr"},ue=({albums:s=[]})=>e("div",{className:"albums_list _list",style:oe,children:s.map((a,t)=>r("div",{tabIndex:2,className:u("item grid items-center relative hover:bg-gray-100",{"bg-gray-50":t%2===1}),children:[e(n,{className:"absolute inset-0 z-0",to:`/playlist/album/${a.id}`}),e("div",{className:"cover",children:e("img",{src:`${a.picUrl}?param=60y60`,alt:""})}),r("div",{className:"name px-5 text-sm",children:[a.name,a.alias.length>0&&e("span",{className:"text-gray-400",children:`\uFF08${a.alias}\uFF09`})]}),e("div",{className:"artist truncate",children:r(n,{to:`/artist/${a.artist.id}`,className:"ui_text_gray_hover relative z-10",children:[a.artist.name,a.artist.alias.length>0&&e("span",{className:"text-gray-400",children:`\uFF08${a.artist.alias}\uFF09`})]})})]},a.id))});var me=l.exports.memo(ue);const pe=({videos:s=[]})=>{const a=s.map(({type:t,title:i,coverUrl:d,playTime:c,creator:o,vid:m,durationms:h})=>({id:m,type:t,title:i,creator:o,playCount:c,duration:h,cover:d}));return e("div",{className:"videos_list py-5 px-10",children:e(re,{list:a})})};var he=l.exports.memo(pe);const ve={"--grid-template-columns":"60px 6fr 2fr 5fr"};var xe=({playlists:s=[]})=>e("div",{className:"playlists_list _list",style:ve,children:s.map((a,t)=>r("div",{className:u("item grid items-center relative hover:bg-gray-100",{"bg-gray-50":t%2===1}),children:[e(n,{className:"absolute inset-0 z-0",to:`/playlist/music/${a.id}`}),e("div",{className:"cover",children:e("img",{className:"",src:`${a.coverImgUrl}?param=60y60`,alt:""})}),e("div",{className:"name px-3",children:a.name}),r("div",{className:"trackCount text-gray-400",children:[a.trackCount,"\u9996"]}),r("div",{className:"creator text-gray-300",children:["by \xA0",e(n,{to:`/user/${a.creator.userId}`,className:"ui_text_black_hover relative z-10",children:a.creator.nickname})]})]},a.id))}),Ne=({lyrics:s=[]})=>{const a=l.exports.useRef(),[t,i]=l.exports.useState(!1);l.exports.useEffect(()=>{a.current=s.join(`
`).replace(/<b>|<\/b>/gm,"")},[s]);const d=()=>{const c=document.createElement("textarea");c.setAttribute("readonly","readonly"),c.textContent=a.current,document.body.appendChild(c),c.select(),document.execCommand("copy")&&(document.execCommand("copy"),console.log("\u590D\u5236\u6210\u529F")),document.body.removeChild(c)};return r("div",{className:"lrc flex pb-2",children:[e("div",{className:"content w-2/3 px-2 text-gray-500",children:s.slice(0,t?1/0:4).map((c,o)=>e("div",{dangerouslySetInnerHTML:{__html:c}},c+o))}),r("div",{className:"actions w-1/3 flex flex-col justify-between",children:[r("div",{className:"flex space-x-2.5",children:[r("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full",onClick:()=>i(!t),children:[t?"\u6536\u8D77":"\u5C55\u5F00","\u6B4C\u8BCD"]}),e("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full clip",onClick:d,children:"\u590D\u5236\u6B4C\u8BCD"})]}),t&&r("div",{className:"flex space-x-2.5",children:[e("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full",onClick:()=>i(!1),children:"\u6536\u8D77\u6B4C\u8BCD"}),e("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full clip",onClick:d,children:"\u590D\u5236\u6B4C\u8BCD"})]})]})]})},ge=({songs:s=[]})=>r("div",{className:"lyrics_list",style:{"--ui_grid_template":"36px / 54px 24px 24px 37% 4fr 5fr 2fr 3fr"},children:[e("div",{className:"thead",children:r("div",{className:"item grid items-center text-gray-400 ui_grid_template",children:[e("div",{className:"index"}),e("div",{className:"heart"}),e("div",{className:"download"}),e("div",{className:"name",children:"\u97F3\u4E50\u6807\u9898"}),e("div",{className:"artist",children:"\u6B4C\u624B"}),e("div",{className:"album",children:"\u4E13\u8F91"}),e("div",{className:"duration",children:"\u65F6\u957F"}),e("div",{className:"text-gray-400",children:"\u70ED\u5EA6"})]})}),e("div",{className:"tbody",children:s.map((a,t)=>e(A,{schema:[["\u8BC4\u8BBA","\u64AD\u653E","\u4E0B\u4E00\u9996\u64AD\u653E"],["\u6536\u85CF\u5230\u6B4C\u5355","\u5206\u4EAB","\u590D\u5236\u94FE\u63A5","\u4E0B\u8F7D"]],item:a,type:"song",children:r("div",{tabIndex:"2",className:u("item grid items-center hover:bg-gray-100 focus:outline-none focus:bg-gray-200 ui_grid_template",{"bg-gray-50":t%2===0}),children:[e("div",{className:"index pr-2",children:e(w,{index:t,id:a.id})}),e("div",{className:"heart",children:e(C,{id:a.id})}),e("div",{className:"download",children:e(k,{})}),e("div",{className:"name flex",children:e(S,{item:a})}),e("div",{className:"artist truncate",children:e(F,{artists:a.ar})}),e("div",{className:"album truncate",children:e(I,{name:a.al.name,id:a.al.id})}),e("div",{className:"duration text-gray-400 truncate",children:B(a.dt).format("mm:ss")}),e("div",{className:"pop",children:e(R,{pop:a.pop})}),e(Ne,{lyrics:a.lyrics})]})},a.id))})]});const ye={"--grid-template-columns":"60px 5fr 2fr"},fe=({djRadios:s=[]})=>e("div",{className:"djRadios_list _list",style:ye,children:s.map((a,t)=>r("div",{className:u("item grid items-center hover:bg-gray-100",{"bg-gray-50":t%2===0}),children:[e(n,{to:`/playlist/dj/${a.id}`,className:"cover",children:e("img",{className:"",src:`${a.picUrl}?param=60y60`,alt:""})}),e("div",{className:"px-5",children:e(n,{to:`/playlist/dj/${a.id}`,className:"name",children:a.name})}),r("div",{className:"dj text-gray-300",children:["by \xA0",e(n,{to:`/user/${a.dj.userId}`,className:"ui_text_gray_hover",children:a.dj.nickname})]})]},a.id))});var be=l.exports.memo(fe);const Ce={"--grid-template-columns":"60px 5fr 2fr"},Fe=({userprofiles:s=[]})=>e("div",{className:"userprofiles_list _list",style:Ce,children:s.map((a,t)=>r(n,{to:`/user/${a.userId}`,className:u("item grid items-center hover:bg-gray-100",{"bg-gray-50":t%2===1}),children:[e("div",{className:"rounded-full overflow-hidden",children:e("img",{src:`${a.avatarUrl}?param=60y60`,alt:""})}),r("div",{className:"name px-5",children:[a.nickname,"\xA0",e(te,{size:16,gender:a.gender})]}),e("div",{className:"signature text-gray-400 ml-auto",children:a.signature})]},a.userId))});var Be=l.exports.memo(Fe);const De=["\u5355\u66F2","\u6B4C\u624B","\u4E13\u8F91","\u89C6\u9891","\u6B4C\u5355","\u6B4C\u8BCD","\u4E3B\u64AD\u7535\u53F0","\u7528\u6237"],j={\u5355\u66F2:{code:1,unit:"\u9996",limit:100,Node:ie,countName:"songCount"},\u6B4C\u624B:{code:100,unit:"\u4F4D",limit:20,Node:de,countName:"artistCount"},\u4E13\u8F91:{code:10,unit:"\u5F20",limit:20,Node:me,countName:"albumCount"},\u89C6\u9891:{code:1014,unit:"\u4E2A",limit:24,Node:he,countName:"videoCount"},\u6B4C\u5355:{code:1e3,unit:"\u4E2A",limit:20,Node:xe,countName:"playlistCount"},\u6B4C\u8BCD:{code:1006,unit:"\u9996",limit:20,Node:ge,countName:"songCount"},\u4E3B\u64AD\u7535\u53F0:{code:1009,unit:"\u4E2A",limit:100,Node:be,countName:"djRadiosCount"},\u7528\u6237:{code:1002,unit:"\u4F4D",limit:20,Node:Be,countName:"userprofileCount"}},Ee={artist:({item:s})=>{var a;return r(n,{to:`/artist/${s.id}`,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",children:[e("img",{className:"h-10 object-fit rounded-full",src:`${s.picUrl}?param=60y60`,alt:""}),r("div",{className:"px-2 flex-1 w-0",children:[r("div",{className:"truncate text-sm",children:["\u6B4C\u624B\uFF1A",s.name,((a=s.alias)==null?void 0:a.length)>0&&e("span",{className:"text-gray-400",children:`(${s.alias})`})]}),r("div",{className:"text-gray-400",children:["\u7C89\u4E1D\u6570:",T(s.fansSize),",\u6B4C\u66F2:",s.musicSize]})]})]})},album:({item:s})=>{var a;return r(n,{to:`/playlist/album/${s.id}`,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",children:[e("img",{className:"h-10",src:`${s.blurPicUrl}?param=60y60`,alt:""}),r("div",{className:"px-2 flex-1 w-0",children:[r("div",{className:"text-sm truncate",children:["\u4E13\u8F91\uFF1A",s.name,((a=s.alias)==null?void 0:a.length)>0&&e("span",{className:"text-gray-400",children:`(${s.alias})`})]}),e("div",{className:"text-gray-400",children:s.artist.name})]})]})},orpheus:({item:s})=>null,new_mlog:({item:s})=>null,playlist:({item:s})=>r(n,{to:`/playlist/music/${s.id}`,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",title:s.name,children:[e("img",{className:"h-10",src:`${s.coverImgUrl}?param=60y60`,alt:""}),r("div",{className:"px-2 flex-1 w-0",children:[r("div",{className:"text-sm truncate",children:["\u6B4C\u5355\uFF1A",s.name]}),e("div",{className:"text-gray-400",children:s.creator.name})]})]}),concert:({item:s})=>r("a",{target:"_blank",href:s.url,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",title:s.title,children:[e("img",{className:"h-10",src:`${s.cover}?param=60y60`,alt:""}),r("div",{className:"px-2 flex-1 w-0",children:[r("div",{className:"text-sm truncate",children:["\u6F14\u5531\u4F1A\uFF1A",s.title]}),e("div",{className:"text-gray-400 truncate",children:s.artists})]})]})},_e=({keywords:s})=>{var d;const{data:a,isLoading:t}=Q({keywords:s}),i=(a==null?void 0:a.result)||{};return((d=i==null?void 0:i.orders)==null?void 0:d.length)===0?null:t?e(D,{}):r("div",{className:"py-4",children:[e("div",{className:"text-gray-500",children:"\u4F60\u53EF\u80FD\u611F\u5174\u8DA3"}),e("div",{className:"mt-2 flex gap-3",children:i.orders.map(c=>l.exports.createElement(Ee[c],{item:i[c][0],key:c}))})]})};var $e=l.exports.memo(_e);const Ae=()=>{var c;const{keywords:s="",type:a=""}=b(),t=E(),{count:i=0}=_($);l.exports.useEffect(()=>{t(q({keywords:s}))},[s]);const d=((c=j[a])==null?void 0:c.unit)||"";return r("div",{className:"domSearch overflow-auto max-h-full flex-auto",children:[r("div",{className:"px-8 py-5",children:[r("div",{className:"h1",children:["\u641C\u7D22 ",s]}),e($e,{keywords:s}),r("div",{className:"mt-5 flex items-center",children:[e("div",{className:"flex gap-4",children:De.map(o=>e(V,{to:encodeURIComponent(o),className:({isActive:m})=>u("text-sm",m&&"font-bold ui_underline"),children:o},o))}),r("div",{className:"ml-auto text-gray-400",children:["\u627E\u5230 ",i,d," ",a]})]})]}),e(J,{})]})};var we=l.exports.memo(Ae);const ke=()=>{console.log("entry search");const{keywords:s="",type:a=""}=b(),t=E(),[i,d]=l.exports.useState(1),[c,o]=l.exports.useState({}),[m,h]=l.exports.useState(0),{code:L,limit:v,Node:U,countName:P}=j[a],{keywords:z}=_($),[M,{isLoading:G}]=W();l.exports.useEffect(()=>{t(X({count:m}))},[m]),l.exports.useEffect(()=>{z||t(Y({keywords:s}))},[s]);const H=async p=>{var f;const x=await M({keywords:s,limit:v,type:L,offset:(p-1)*v}),y=((f=x==null?void 0:x.data)==null?void 0:f.result)||{};o(y),h(y[P])},g=p=>{d(p),H(p)};return l.exports.useEffect(()=>{t(Z()),g(1)},[s,a]),G?e("div",{className:"pt-48 flex-center",children:e(D,{})}):r(ae,{children:[l.exports.createElement(U,c),e(ee,{total:Math.ceil(m/v),page:i,func:g})]})};var Se=l.exports.memo(ke);const Ie=()=>e(O,{children:r(N,{path:":keywords",element:e(we,{}),children:[e(N,{path:":type",element:e(Se,{})}),e(N,{index:!0,element:e(K,{to:"\u5355\u66F2",replace:!0})})]})});var sa=l.exports.memo(Ie);export{sa as default};
