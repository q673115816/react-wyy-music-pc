import{r as i}from"./react.0a2f695e.js";import{L as g,R as A,c as M}from"./react-router-dom.8e5277d6.js";import{c as w}from"./react-slick.d01d63b2.js";import{aH as V,L as j,i as C}from"./index.0a0dbc45.js";import{G}from"./Home.0679cb1f.js";import{j as e,a as m}from"./qrcode.react.84002e4a.js";import{s as _,v as p}from"./react-use.cc42aba6.js";import"./lodash.f41ef0b4.js";import"./react-dom.d348259d.js";import"./react-redux.a4f8f94a.js";import"./immer.76e704b2.js";import"./axios.556b107a.js";import"./@tabler/icons.c94e1be8.js";import"./rxjs.6644997a.js";import"./react-transition-group.7648cfe3.js";const $=[["area","\u5730\u533A",["\u5168\u90E8","\u5185\u5730","\u6E2F\u53F0","\u6B27\u7F8E","\u97E9\u56FD","\u65E5\u672C"]],["type","\u7C7B\u578B",["\u5168\u90E8","\u5B98\u65B9\u7248","\u539F\u58F0","\u73B0\u573A\u7248","\u7F51\u6613\u51FA\u54C1"]],["order","\u6392\u5E8F",["\u4E0A\u5347\u6700\u5FEB","\u6700\u70ED","\u6700\u65B0"]]],f={area:"\u5168\u90E8",type:"\u5168\u90E8",order:"\u4E0A\u5347\u6700\u5FEB"},h=24,b=({area:s,type:t,order:o,index:l,setHasMore:d})=>{const c=i.exports.useRef(null),n=_(c,{root:null,rootMargin:"0px",threshold:1}),[r,{isUninitialized:a,isLoading:x,data:u}]=V();return i.exports.useEffect(()=>{a&&n&&n.intersectionRatio>0&&r({area:s,type:t,order:o,limit:h,offset:l*h})},[n]),i.exports.useEffect(()=>{u!=null&&u.hasMore&&d()},[u]),e("div",{ref:c,children:x?e("div",{className:"flex-center py-4",children:e(j,{})}):e(G,{list:u==null?void 0:u.data.map(({id:E,name:v,cover:y,playCount:N,duration:F,artists:B})=>({type:0,playCount:N,id:E,cover:y,duration:F,title:v,creator:B.map(({id:L,name:R})=>({userId:L,userName:R}))}))})})},D=i.exports.memo(b),S=()=>{const s=p("area")||f.area,t=p("type")||f.type,o=p("order")||f.order,l={area:s,type:t,order:o},[d,c]=C([]),n=i.exports.useCallback(()=>{c(r=>(r.push(s+t+o),r))},[s,t,o]);return i.exports.useEffect(()=>{console.log(s+t+o),c([s+t+o])},[s,t,o]),m("div",{className:"overflow-auto h-full",children:[e("div",{className:"ui_header",children:e("span",{className:"h1 cursor-pointer",children:"\u5168\u90E8MV"})}),m("div",{className:"px-8 flex-auto",children:[$.map(r=>m("div",{className:"flex my-2.5",children:[m("div",{className:"flex-none",children:[r[1],":"]}),e("div",{className:"flex divide-x",children:r[2].map(a=>e("div",{className:"w-20 flex-center",children:e(g,{to:`/mv-all?${new URLSearchParams(Object.assign({},l,{[r[0]]:a}))}`,className:w("rounded-full leading-5 px-3 whitespace-nowrap",a===l[r[0]]?"bg-red-50 text-red-500":"ui_text_gray_hover"),children:a})},a))})]},r[1])),e("div",{className:"py-1",children:d.map((r,a)=>e(D,{index:a,order:o,area:s,type:t,setHasMore:n},r+a))})]})]})},k=i.exports.memo(S),z=()=>e(A,{children:e(M,{index:!0,element:e(k,{})})}),re=z;export{re as default};
