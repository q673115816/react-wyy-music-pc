import{r as o}from"./react.23cc8478.js";import{c as C}from"./react-slick.9a6761a2.js";import{a0 as k,D as z,G,P as E,ai as I,ab as B,aj as T}from"./@tabler/icons.e4cd39cf.js";import{b as x,L as h,R as V,c as j}from"./react-router-dom.1e37ceed.js";import{a as R,u as P,b as Y,c as Q,s as U,d as w,e as H,H as O,f as q,L as $,g as J,i as K,h as W,j as X}from"./index.4d07a06b.js";import{a as t,j as e,F as _}from"./qrcode.react.5dc2fa92.js";import{T as Z}from"./index.238c5e1e.js";import{m as ee}from"./react-use.a9b69494.js";import{u as se}from"./useInfinite.10280005.js";import{G as te}from"./Home.7d74bff1.js";import"./lodash.d03d4659.js";import"./react-transition-group.2d7b5c33.js";import"./react-dom.c88e72d8.js";import"./react-redux.9d317390.js";import"./immer.36a28300.js";import"./axios.96312ac8.js";import"./store.57d764e6.js";import"./MenuCreate.0b026a0e.js";const ae=()=>{var m,v,b,N,g,y,A,F;const{id:c=""}=x(),s=R(),n=P(),[l,{isLoading:a}]=Y(),{data:r}=Q({id:c}),i=(r==null?void 0:r.data)||{},d=((m=i==null?void 0:i.user)==null?void 0:m.followed)||!1,u=()=>{n(U({artistId:c}))},p=async()=>{try{await l({id:c,t:1}),s("\u6536\u85CF\u6210\u529F\uFF01")}catch(f){console.log(f)}},S=async()=>{d?u():await p()};return t("div",{className:"domArtist_header flex p-8",children:[e("div",{className:"w-44 h-44 border overflow-hidden rounded",children:e("img",{src:`${(v=i.artist)==null?void 0:v.cover}?param=200y200`,alt:""})}),t("div",{className:"content flex-auto px-5",children:[e("div",{className:"name h1 select-text",children:(b=i.artist)==null?void 0:b.name}),e("div",{className:"enname my-3 select-text",children:(N=i.alias)==null?void 0:N.map(f=>f)}),t("div",{className:"actions mt-3 flex space-x-2",children:[e("button",{onClick:S,type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm",children:d?t(_,{children:[e(k,{size:20,stroke:1}),"\u5DF2\u6536\u85CF"]}):t(_,{children:[e(z,{size:20,stroke:1}),"\u6536\u85CF"]})}),i.user&&e(h,{to:`/user/${(g=i.user)==null?void 0:g.userId}`,className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm",children:"\u4E2A\u4EBA\u4E3B\u9875"})]}),t("div",{className:"info mt-5 space-x-5",children:[t("span",{className:"size",children:["\u5355\u66F2\u6570:",(y=i==null?void 0:i.artist)==null?void 0:y.musicSize]}),t("span",{className:"size",children:["\u4E13\u8F91\u6570:",(A=i.artist)==null?void 0:A.albumSize]}),t("span",{className:"size",children:["MV\u6570:",(F=i.artist)==null?void 0:F.mvSize]})]})]})]})};var re=o.exports.memo(ae);const ie=({hotAlbums:c=[]})=>e("div",{className:"grid grid-cols-4 p-8 gap-x-20 gap-y-5",children:c.map(s=>t("div",{className:"item",children:[t("div",{className:"cover rounded overflow-hidden relative group",children:[e(h,{to:`/playlist/album/${s.id}`,children:e("img",{className:"",src:`${s.picUrl}?param=200y200`,alt:""})}),e("button",{type:"button",className:"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e(G,{size:20,className:"fill-current"})})]}),e("div",{className:"name text-sm mt-2",children:t(h,{to:`/playlist/album/${s.id}`,className:"ui_ellipse",children:[e("span",{className:"ui_text_black_hover",children:s.name}),s.alias.map(n=>e("span",{className:"text-gray-500",children:`\uFF08${n}\uFF09`},n))]})}),e("div",{className:"text-gray-400 mt-2",children:w(s.publishTime).format("YYYY-MM-DD")})]},s.id))});var le=o.exports.memo(ie);const ne=({hotAlbums:c=[]})=>e("div",{className:"list pt-4",children:c.map((s,n)=>{var l;return t("div",{className:C("list_item pl-5 flex items-center h-20 hover:bg-gray-100",{"bg-gray-50":n%2===0}),children:[e(h,{className:"cover border rounded flex-none w-14 h-14",to:`/playlist/album/${s.id}`,children:e("img",{className:"ui_containimg",src:`${s.picUrl}?param=100y100`,alt:""})}),t(h,{className:"name truncate px-2.5",to:`/playlist/album/${s.id}`,children:[s.name,"\xA0",((l=s.alias)==null?void 0:l.length)>0&&t("span",{className:"text-gray-400",children:["(",s.alias.map(a=>a),")"]})]}),t("span",{className:"size text-gray-400",children:[s.size,"\u9996"]}),t("span",{className:"publishTime text-gray-400",children:["\u53D1\u884C\u65F6\u95F4\uFF1A",w(s.publishTime).format("YYYY-MM-DD")]})]},s.id)})});var oe=o.exports.memo(ne);const ce=()=>{const{id:c=""}=x();console.log("artist_column");const[s,n]=o.exports.useState(10),{data:l}=H({id:c}),a=(l==null?void 0:l.songs)||[];return e("div",{className:"column p-8",children:t("div",{className:"column_item",children:[e("div",{className:"cover",children:t("div",{className:"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white",children:[e("div",{className:"text-4xl",children:"TOP"}),e("div",{className:"text-6xl",children:"50"})]})}),t("div",{className:"aside flex-auto ml-20 w-0",children:[t("div",{className:"flex",children:[e("span",{className:"font-bold text-base",children:"\u70ED\u95E850\u9996"}),t("div",{className:"flex items-center",children:[e("button",{type:"button",className:"flex-none border rounded-full flex-center mx-3 p-1",children:e(G,{size:10,className:"fill-current"})}),e("span",{className:"text-gray-300",children:"|"}),e("button",{type:"button",className:"mx-3",children:e(z,{size:20,stroke:1})})]})]}),t("div",{className:"list mt-2",children:[a.slice(0,s).map((r,i)=>t("div",{className:C("item hover:bg-gray-100 focus:outline-none focus:bg-gray-200",{"bg-gray-50":i%2===0}),tabIndex:2,children:[e("div",{className:"index flex-none text-right text-gray-400",children:String(i+1).padStart(2,"0")}),e("div",{className:"heart flex-none text-center",children:e(O,{id:r.id})}),e("div",{className:"download flex-none text-center",children:e("button",{type:"button",className:"text-gray-500 hover:text-black",children:e(E,{size:16,stroke:1})})}),t("div",{className:"name flex-auto flex flex-auto min-w-0 px-2.5",children:[t("span",{className:"truncate",title:`${r.name}(${r.alia.map(d=>d)})`,children:[r.name,"\xA0",e("span",{className:"text-gray-400",children:r.alia.map(d=>d)})]}),e(Z,{item:r,className:"flex-none"})]}),e("div",{className:"duration text-gray-400 flex-none",children:w(r.dt).format("mm:ss")})]},r.id)),s===10&&a.length>10&&t("button",{type:"button",className:"seeMore",onClick:()=>n(50),children:["\u67E5\u770B\u5168\u90E8",a.length,"\u9996 >"]})]})]})]})})};var de=o.exports.memo(ce);const D=[["Grid",I],["List",B],["Column",T]],me={Grid:le,List:oe,Column:de};var ue=o.exports.memo(function(){const{id:s=""}=x(),[n="Grid",l,a]=ee("layout",D[0][0]),{data:r,isLoading:i}=q({id:s}),d=(r==null?void 0:r.hotAlbums)||[];return r!=null&&r.more,i?e($,{}):t("div",{className:"domArtist_section relative",children:[e("div",{className:"absolute right-8 bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden",children:D.map(([u,p])=>e("button",{type:"button",className:C("px-1.5 py-0.5 bg-gray-200","handle",u===n&&"bg-gray-400 text-white"),onClick:()=>l(u),children:e(p,{size:14,stroke:1})},u))}),e("div",{className:"domArtist_section_layout",children:o.exports.createElement(me[n],{hotAlbums:d,id:s})})]})});const he=()=>{var l;const{id:c=""}=x(),{data:s,isLoading:n}=J({id:c});return n?e($,{}):t("div",{className:"domArtist_section p-8 leading-8 text-sm select-text",children:[e("div",{className:"domArtist_subtitle font-bold",children:"\u7B80\u4ECB"}),e("div",{className:"domArtist_article text-gray-500 indent-8",children:s==null?void 0:s.briefDesc}),e("br",{}),e("br",{}),(l=s==null?void 0:s.introduction)==null?void 0:l.map(a=>t("div",{className:"select-text",children:[e("div",{className:"domArtist_subtitle font-bold",children:a.ti}),e("div",{className:"domArtist_article text-gray-500 whitespace-pre-line",children:a.txt})]},a.ti))]})};var pe=o.exports.memo(he);const L=24;var xe=o.exports.memo(function(){const{id:s=""}=x(),[n,l]=K([]),[a,{isLoading:r}]=W(),i=o.exports.useRef(!0),d=o.exports.useRef(0),u=o.exports.useRef(null),p=o.exports.useRef(null);return se(async()=>{if(!!i.current)try{const{data:m}=await a({id:s,limit:L,offset:d.current});d.current+=L;const v=(m==null?void 0:m.mvs)||[],b=(m==null?void 0:m.hasMore)||!1;i.current=b,l(N=>{N.push(...v.map(({id:g,imgurl:y,duration:A,name:F,playCount:f})=>({id:g,duration:A,playCount:f,cover:y,title:F,type:"0"})))})}catch(m){console.log(m)}},u,p),t("div",{className:"domArtist_section p-8",children:[e(te,{list:n}),e("div",{ref:p,className:"flex-center",children:r&&e($,{})})]})});const fe=()=>{const{id:c=""}=x(),{data:s,isLoading:n}=X({id:c}),l=(s==null?void 0:s.artists)||[];return n?e($,{}):l.length===0?e("div",{className:"text-center text-gray-400 text-sm pt-16",children:"\u6CA1\u6709\u76F8\u4F3C\u6B4C\u624B"}):e("div",{className:"p-8",children:e("div",{className:"grid grid-cols-5 gap-5",children:l.map(a=>t("div",{className:"space-y-2",children:[e(h,{to:`/artist/${a.id}`,className:"block rounded overflow-hidden border",children:e("img",{loading:"lazy",className:"aspect-square object-fit w-full h-full",src:`${a.picUrl}?param=200y200`,alt:""})}),e("div",{children:e(h,{to:`/artist/${a.id}`,className:"text-sm",children:a.name})})]},a.id))})})};var ve=o.exports.memo(fe);const M=[["\u4E13\u8F91","Album"],["MV","MV"],["\u6B4C\u624B\u8BE6\u60C5","Desc"],["\u76F8\u4F3C\u6B4C\u624B","Similarity"]],be={Album:ue,MV:xe,Desc:pe,Similarity:ve};var Ne=o.exports.memo(function(){const[s,n]=o.exports.useState(M[0][1]);return t("div",{className:"domArtist overflow-auto max-h-full flex-auto",children:[e(re,{}),t("div",{children:[t("div",{className:"flex mx-8",children:[e("div",{className:"flex gap-4 text-sm",children:M.map(([l,a])=>e("button",{onClick:()=>n(a),type:"button",className:C(s===a&&"font-bold ui_underline"),children:l},a))}),e("div",{className:"relative ml-auto"})]}),o.exports.createElement(be[s])]})]})});const ge=()=>e(V,{children:e(j,{path:":id",element:e(Ne,{})})});var Ve=ge;export{Ve as default};
