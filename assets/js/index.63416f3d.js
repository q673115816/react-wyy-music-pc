import{r}from"./react.23cc8478.js";import{N as E,O as w,L as p,R as A,c as h,d as F}from"./react-router-dom.1e37ceed.js";import{a as t,j as e}from"./qrcode.react.5dc2fa92.js";import{c}from"./react-slick.9a6761a2.js";import{u as B}from"./useInfinite.10280005.js";import{G as b}from"./Home.edb46429.js";import{u as L,v as V,b3 as y,b4 as N,b5 as D,b6 as j,b7 as g,L as C,b8 as R,b9 as S,ba as I,bb as z}from"./index.58d50998.js";import{b as f}from"./@tabler/icons.e4cd39cf.js";import{G}from"./index.e636f0bb.js";import"./react-transition-group.2d7b5c33.js";import"./react-dom.c88e72d8.js";import"./lodash.d03d4659.js";import"./MenuCreate.a26a1756.js";import"./react-redux.9d317390.js";import"./immer.36a28300.js";import"./axios.96312ac8.js";import"./store.57d764e6.js";import"./react-use.cf5b7485.js";const $=[["\u89C6\u9891","/video/videolist"],["MV","/video/mvlist"]];var O=r.exports.memo(()=>t("div",{className:"domVideoList flex flex-col h-full",children:[e("div",{className:"domVideoList_header ui_header text-base space-x-4",children:$.map(([i,s])=>e(E,{className:({isActive:a})=>a?"text-xl ui_underline font-bold":"",to:s,children:i},i))}),e(w,{})]}));const T=({id:i})=>{const s=L(),{groupList:a}=V(y);return t("div",{className:"group_select_box absolute top-100 p-5 bg-white overflow-auto shadow",children:[e("div",{className:"border-b pb-2",children:e("button",{type:"button",className:c("group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor",i===0?"text-red-500 bg-red-50":""),onClick:()=>s(N({id:0})),children:"\u5168\u90E8\u89C6\u9891"})}),e("div",{className:"group_select_list grid grid-cols-6 gap-y-5 p-4",children:a.map(l=>e("button",{type:"button",className:c("group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor",l.id===i?"text-red-500 bg-red-50":""),onClick:()=>s(N({id:l.id})),children:l.name},l.id))})]})};var P=r.exports.memo(T);const q=()=>{const i=L(),{id:s,initStatus:a,groupList:l,categoryList:v,videoList:x}=V(y),[u,_]=r.exports.useState(!1),m=r.exports.useMemo(()=>{var d;return((d=l.find(k=>k.id===Number(s)))==null?void 0:d.name)||"\u5168\u90E8\u89C6\u9891"},[s]),n=r.exports.useRef(null),o=r.exports.useRef(null);return B(()=>i(D(s)),n,o),r.exports.useEffect(()=>(i(j()),()=>{i(g())}),[]),r.exports.useEffect(()=>{i(g())},[s]),t("div",{className:"domVideoList_content px-8 overflow-auto flex-auto",ref:n,children:[t("div",{className:"video_sort_filter_bar flex items-center justify-between",children:[t("div",{className:"group_select_wrap relative z-10",children:[t("button",{type:"button",className:"group_select_button border rounded-full hover:bg-gray-100 text-sm",onClick:()=>_(!u),children:[m,">"]}),u&&e(P,{id:s})]}),e("div",{className:"recommend_nav divide-x flex",children:v.map(d=>e("div",{children:e("button",{type:"button",className:c("recommend_nav_link rounded-full px-2 mx-1",s===d.id?"bg-red-50 text-red-500":"ui_text_black_hover"),onClick:()=>i(N({id:d.id})),children:d.name})},d.id))})]}),t("div",{className:"my-4",children:[e(b,{list:x}),e("div",{ref:o,className:"flex-center",children:e(C,{})})]})]})};var H=r.exports.memo(q);const M=["\u5185\u5730","\u6E2F\u53F0","\u6B27\u7F8E","\u65E5\u672C","\u97E9\u56FD"];var J=r.exports.memo(function(){const s=L(),{firstArea:a,topArea:l,first:v,hot:x,wy:u,top:_,timestamp:m}=V(R),n=r.exports.useMemo(()=>Date.now()-m>36e5,[m]);return r.exports.useEffect(()=>{n&&s(S({firstArea:a,topArea:l}))},[n]),n?e("div",{className:"w-full h-full flex-center",children:e(C,{})}):t("div",{className:"domVideoList_content px-8 overflow-auto max-h-full flex-auto",children:[t("div",{className:"domMVList_sublist",children:[t("div",{className:"domMVList_header mb-5 flex justify-between items-center",children:[t(p,{to:`/mv-all?order=\u6700\u65B0&area=${a}`,className:"domMVList_subLink font-bold text-base flex items-center",children:["\u6700\u65B0MV",e(f,{size:20})]}),e("div",{className:"recommend_nav flex divide-x space-x-1",children:M.map(o=>e("div",{className:"item",children:e("button",{onClick:()=>s(I(o)),type:"button",className:c("link rounded-full px-2.5",a===o?"text-red-500 bg-red-50":"ui_text_black_hover"),children:o})},o))})]}),e(b,{list:v})]}),t("div",{className:"domMVList_sublist",children:[e("div",{className:"domMVList_header mt-8 mb-5 flex justify-between items-center",children:t(p,{to:"/mv-all?order=\u6700\u70ED",className:"domMVList_subLink font-bold text-base flex items-center",children:["\u70ED\u64ADMV",e(f,{size:20})]})}),e(b,{list:x})]}),t("div",{className:"domMVList_sublist",children:[e("div",{className:"domMVList_header mt-8 mb-5 flex justify-between items-center",children:t(p,{to:"/mv-all?type=\u7F51\u6613\u51FA\u54C1&order=\u6700\u65B0",className:"domMVList_subLink font-bold text-base flex items-center",children:["\u7F51\u6613\u51FA\u54C1",e(f,{size:20})]})}),e(b,{list:u})]}),t("div",{className:"domMVList_header mt-8 mb-5 flex justify-between items-center",children:[t(p,{to:"/toplist-mv/",className:"domMVList_subLink font-bold text-base flex items-center",children:["MV\u6392\u884C\u699C",e(f,{size:20})]}),e("div",{className:"recommend_nav flex divide-x space-x-1",children:M.map(o=>e("div",{className:"item",children:e("button",{onClick:()=>s(z(o)),type:"button",className:c("link rounded-full px-2.5",l===o?"text-red-500 bg-red-50":"ui_text_black_hover"),children:o})},o))})]}),e(G,{list:_,schema:[["\u8BC4\u8BBA","\u64AD\u653E"],["\u6536\u85CF","\u5206\u4EAB","\u4E0B\u8F7DMV","\u590D\u5236\u94FE\u63A5"]]})]})});const K=()=>e(A,{children:t(h,{element:e(O,{}),children:[e(h,{path:"videolist",element:e(H,{})}),e(h,{path:"mvlist",element:e(J,{})}),e(h,{path:"*",element:e(F,{to:"videolist",replace:!0})})]})});var me=K;export{me as default};
