import{r as o}from"./react.4dc00a72.js";import{N as M,O as A,L as p,e as F,d as w}from"./react-router-dom.c9f41bfe.js";import{a as r,j as e}from"./qrcode.react.9db161e8.js";import{c as d}from"./react-slick.7d904bce.js";import{u as R}from"./useInfinite.e29f1b90.js";import{G as x}from"./Home.aec945a7.js";import{u as v,n as N,bI as k,bJ as b,bK as D,bL as B,bM as _,L as c,bN as G,bO as g,bP as I,bQ as S,bR as $,bS as j,bT as O,bU as z,bV as Q}from"./index.e019ec6f.js";import{b as f}from"./@tabler/icons.f4e7e1e5.js";import{G as T}from"./GridMVToplist.41ee86ae.js";import"./lodash.7c73e2e6.js";import"./react-transition-group.249745a6.js";import"./react-dom.21c65b93.js";import"./react-redux.8c90b9d0.js";import"./immer.9a3c9cc9.js";import"./axios.1ece621b.js";import"./store.4dc8c578.js";import"./react-use.b2910bcc.js";const U=["\u89C6\u9891","MV"],H=()=>r("div",{className:"flex flex-col h-full",children:[e("div",{className:"ui_header text-base space-x-4",children:U.map(t=>e(M,{className:({isActive:s})=>s?"text-xl ui_underline font-bold":"",to:encodeURIComponent(t),children:t},t))}),e(A,{})]}),P=o.exports.memo(H);const J=({id:t})=>{const s=v(),{groupList:a}=N(k);return r("div",{className:"group_select_box absolute top-100 p-5 bg-white overflow-auto shadow",children:[e("div",{className:"border-b pb-2",children:e("button",{type:"button",className:d("group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor",t===0?"text-red-500 bg-red-50":""),onClick:()=>s(b({id:0})),children:"\u5168\u90E8\u89C6\u9891"})}),e("div",{className:"group_select_list grid grid-cols-6 gap-y-5 p-4",children:a.map(l=>e("button",{type:"button",className:d("group_select_check text-center rounded-full h-8 flex-center hover:ui_themeColor",l.id===t?"text-red-500 bg-red-50":""),onClick:()=>s(b({id:l.id})),children:l.name},l.id))})]})},K=o.exports.memo(J),q=()=>{const t=v(),{id:s,initStatus:a,groupList:l,categoryList:y,videoList:C}=N(k),[h,m]=o.exports.useState(!1),u=o.exports.useMemo(()=>{var n;return((n=l.find(E=>E.id===Number(s)))==null?void 0:n.name)||"\u5168\u90E8\u89C6\u9891"},[s]),i=o.exports.useRef(null),L=o.exports.useRef(null);return R(()=>t(D(s)),i,L),o.exports.useEffect(()=>(t(B()),()=>{t(_())}),[]),o.exports.useEffect(()=>{t(_())},[s]),r("div",{className:"px-8 overflow-auto flex-auto",ref:i,children:[r("div",{className:"flex items-center justify-between",children:[r("div",{className:"relative z-10",children:[r("button",{type:"button",className:"group_select_button border rounded-full hover:bg-gray-100 text-sm",onClick:()=>m(!h),children:[u,">"]}),h&&e(K,{id:s})]}),e("div",{className:"divide-x flex",children:y.map(n=>e("div",{children:e("button",{type:"button",className:d("rounded-full px-2 mx-1",s===n.id?"bg-red-50 text-red-500":"ui_text_black_hover"),onClick:()=>t(b({id:n.id})),children:n.name})},n.id))})]}),r("div",{className:"my-4",children:[e(x,{list:C}),e("div",{ref:L,className:"flex-center",children:e(c,{})})]})]})},W=o.exports.memo(q),X=()=>{const{data:t,isLoading:s}=G({limit:6});return s?e(c,{}):e(x,{list:g(t.data)})},Y=o.exports.memo(X),Z=()=>{const{data:t,isLoading:s}=I({order:"\u6700\u70ED",limit:6});return s?e(c,{}):e(x,{list:g(t.data)})},ee=o.exports.memo(Z),te=({area:t})=>{const{data:s,isLoading:a}=S({area:t,limit:6});return a?e(c,{}):e(x,{list:g(s.data)})},se=o.exports.memo(te),re=({area:t})=>{const{data:s,isLoading:a}=$({area:t,limit:6});return a?e(c,{}):e(T,{list:s.data,schema:[["\u8BC4\u8BBA","\u64AD\u653E"],["\u6536\u85CF","\u5206\u4EAB","\u4E0B\u8F7DMV","\u590D\u5236\u94FE\u63A5"]]})},oe=o.exports.memo(re),V=["\u5185\u5730","\u6E2F\u53F0","\u6B27\u7F8E","\u65E5\u672C","\u97E9\u56FD"],ie=()=>{const t=v(),{firstArea:s,topArea:a,first:l,hot:y,wy:C,top:h,timestamp:m}=N(j),u=o.exports.useMemo(()=>Date.now()-m>36e5,[m]);return o.exports.useEffect(()=>{u&&t(O({firstArea:s,topArea:a}))},[u]),u?e("div",{className:"w-full h-full flex-center",children:e(c,{})}):r("div",{className:"px-8 overflow-auto max-h-full flex-auto",children:[r("div",{className:"",children:[r("div",{className:"mb-5 flex justify-between items-center",children:[r(p,{to:`/mv-all?order=\u6700\u65B0&area=${s}`,className:"font-bold text-base flex items-center",children:["\u6700\u65B0MV",e(f,{size:20})]}),e("div",{className:"flex divide-x gap-x-1",children:V.map(i=>e("div",{className:"item",children:e("button",{onClick:()=>t(z(i)),type:"button",className:d("link rounded-full px-2.5",s===i?"text-red-500 bg-red-50":"ui_text_black_hover"),children:i})},i))})]}),e(se,{area:s})]}),r("div",{className:"",children:[e("div",{className:"mt-8 mb-5 flex justify-between items-center",children:r(p,{to:"/mv-all?order=\u6700\u70ED",className:"font-bold text-base flex items-center",children:["\u70ED\u64ADMV",e(f,{size:20})]})}),e(ee,{})]}),r("div",{className:"",children:[e("div",{className:"mt-8 mb-5 flex justify-between items-center",children:r(p,{to:"/mv-all?type=\u7F51\u6613\u51FA\u54C1&order=\u6700\u65B0",className:"font-bold text-base flex items-center",children:["\u7F51\u6613\u51FA\u54C1",e(f,{size:20})]})}),e(Y,{})]}),r("div",{className:"mt-8 mb-5 flex justify-between items-center",children:[r(p,{to:"/toplist-mv/",className:"font-bold text-base flex items-center",children:["MV\u6392\u884C\u699C",e(f,{size:20})]}),e("div",{className:"recommend_nav flex divide-x space-x-1",children:V.map(i=>e("div",{className:"item",children:e("button",{onClick:()=>t(Q(i)),type:"button",className:d("link rounded-full px-2.5",a===i?"text-red-500 bg-red-50":"ui_text_black_hover"),children:i})},i))})]}),e(oe,{area:a})]})},ae=o.exports.memo(ie),le=()=>F([{path:"/",element:e(P,{}),children:[{index:!0,element:e(w,{to:"\u89C6\u9891",replace:!0})},{path:encodeURIComponent("\u89C6\u9891"),element:e(W,{})},{path:"MV",element:e(ae,{})}]}]),Ve=o.exports.memo(le);export{Ve as default};
