import{r as o}from"./react.0a2f695e.js";import{L as A,R as M,c as g}from"./react-router-dom.8e5277d6.js";import{c as w}from"./react-slick.d01d63b2.js";import{aH as V,L as C,i as G}from"./index.ccac1e79.js";import{G as _}from"./Home.1a35665e.js";import{j as r,a as p}from"./qrcode.react.84002e4a.js";import{s as $,v as x}from"./react-use.cc42aba6.js";import"./lodash.f41ef0b4.js";import"./react-dom.d348259d.js";import"./react-redux.53cbeeec.js";import"./immer.9a3c9cc9.js";import"./axios.556b107a.js";import"./@tabler/icons.c94e1be8.js";import"./rxjs.6644997a.js";import"./react-transition-group.7648cfe3.js";const j=[["area","\u5730\u533A",["\u5168\u90E8","\u5185\u5730","\u6E2F\u53F0","\u6B27\u7F8E","\u97E9\u56FD","\u65E5\u672C"]],["type","\u7C7B\u578B",["\u5168\u90E8","\u5B98\u65B9\u7248","\u539F\u58F0","\u73B0\u573A\u7248","\u7F51\u6613\u51FA\u54C1"]],["order","\u6392\u5E8F",["\u4E0A\u5347\u6700\u5FEB","\u6700\u70ED","\u6700\u65B0"]]],h={area:"\u5168\u90E8",type:"\u5168\u90E8",order:"\u4E0A\u5347\u6700\u5FEB"},E=24,D=({area:a,type:u,order:i,index:t,setHasMore:f})=>{const l=o.exports.useRef(null),n=$(l,{root:null,rootMargin:"0px",threshold:1}),[c,{isUninitialized:m,isLoading:d,data:e}]=V();return o.exports.useEffect(()=>{m&&n&&n.intersectionRatio>0&&c({area:a,type:u,order:i,limit:E,offset:t*E})},[n]),o.exports.useEffect(()=>{e!=null&&e.hasMore&&f()},[e]),r("div",{ref:l,children:d?r("div",{className:"flex-center py-4",children:r(C,{})}):r(_,{list:e==null?void 0:e.data.map(({id:s,name:v,cover:y,playCount:N,duration:F,artists:B})=>({type:0,playCount:N,id:s,cover:y,duration:F,title:v,creator:B.map(({id:L,name:R})=>({userId:L,userName:R}))}))})})},S=o.exports.memo(D),b=()=>{var c,m,d;const a=x("area"),u=x("type"),i=x("order"),t={area:a,type:u,order:i};(c=t.area)!=null||(t.area=h.area),(m=t.type)!=null||(t.type=h.type),(d=t.order)!=null||(t.order=h.order);const[f,l]=G([]),n=o.exports.useCallback(()=>{l(e=>(e.push(0),e))},[a,u,i]);return p("div",{className:"overflow-auto h-full",children:[r("div",{className:"ui_header",children:r("span",{className:"h1 cursor-pointer",children:"\u5168\u90E8MV"})}),p("div",{className:"px-8 flex-auto",children:[j.map(e=>p("div",{className:"flex my-2.5",children:[p("div",{className:"flex-none",children:[e[1],":"]}),r("div",{className:"flex divide-x",children:e[2].map(s=>r("div",{className:"w-20 flex-center",children:r(A,{to:`/mv-all?${new URLSearchParams(t)}`,className:w("rounded-full leading-5 px-3 whitespace-nowrap",s===t[e[0]]?"bg-red-50 text-red-500":"ui_text_gray_hover"),children:s})},s))})]},e[1])),r("div",{className:"py-1",children:f.map((e,s)=>r(S,{index:s,order:i,area:a,type:u,setHasMore:n},s))})]})]})},k=o.exports.memo(b),z=()=>r(M,{children:r(g,{index:!0,element:r(k,{})})}),re=z;export{re as default};
