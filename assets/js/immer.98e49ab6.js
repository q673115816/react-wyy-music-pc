function O(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(u){return"'"+u+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function D(e){return!!e&&!!e[d]}function _(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===be}(e)||Array.isArray(e)||!!e[I]||!!e.constructor[I]||$(e)||C(e))}function k(e,t,n){n===void 0&&(n=!1),E(e)===0?(n?Object.keys:x)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,u){return t(u,r,e)})}function E(e){var t=e[d];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:$(e)?2:C(e)?3:0}function S(e,t){return E(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){return E(e)===2?e.get(t):e[t]}function ce(e,t,n){var r=E(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function fe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function $(e){return de&&e instanceof Map}function C(e){return ge&&e instanceof Set}function F(e){return e.o||e.t}function Q(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=se(e);delete t[d];for(var n=x(t),r=0;r<n.length;r++){var u=n[r],o=t[u];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[u]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[u]})}return Object.create(Object.getPrototypeOf(e),t)}function Z(e,t){return t===void 0&&(t=!1),V(e)||D(e)||!_(e)||(E(e)>1&&(e.set=e.add=e.clear=e.delete=ve),Object.freeze(e),t&&k(e,function(n,r){return Z(r,!0)},!0)),e}function ve(){O(2)}function V(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function j(e){var t=L[e];return t||O(18,e),t}function le(e,t){L[e]||(L[e]=t)}function B(){return R}function J(e,t){t&&(j("Patches"),e.u=[],e.s=[],e.v=t)}function W(e){G(e),e.p.forEach(he),e.p=null}function G(e){e===R&&(R=e.l)}function re(e){return R={p:[],l:R,h:e,m:!0,_:0}}function he(e){var t=e[d];t.i===0||t.i===1?t.j():t.O=!0}function T(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||j("ES5").S(t,e,r),r?(n[d].P&&(W(t),O(4)),_(e)&&(e=N(t,e),t.l||U(t,e)),t.u&&j("Patches").M(n[d].t,e,t.u,t.s)):e=N(t,n,[]),W(t),t.u&&t.v(t.u,t.s),e!==ee?e:void 0}function N(e,t,n){if(V(t))return t;var r=t[d];if(!r)return k(t,function(o,i){return ne(e,r,t,o,i,n)},!0),t;if(r.A!==e)return t;if(!r.P)return U(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var u=r.i===4||r.i===5?r.o=Q(r.k):r.o;k(r.i===3?new Set(u):u,function(o,i){return ne(e,r,u,o,i,n)}),U(e,u,!1),n&&e.u&&j("Patches").R(r,n,e.u,e.s)}return r.o}function ne(e,t,n,r,u,o){if(D(u)){var i=N(e,u,o&&t&&t.i!==3&&!S(t.D,r)?o.concat(r):void 0);if(ce(n,r,i),!D(i))return;e.m=!1}if(_(u)&&!V(u)){if(!e.h.F&&e._<1)return;N(e,u),t&&t.A.l||U(e,u)}}function U(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&Z(t,n)}function X(e,t){var n=e[d];return(n?F(n):e)[t]}function oe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function A(e){e.P||(e.P=!0,e.l&&A(e.l))}function q(e){e.o||(e.o=Q(e.t))}function H(e,t,n){var r=$(t)?j("MapSet").N(t,n):C(t)?j("MapSet").T(t,n):e.g?function(u,o){var i=Array.isArray(u),c={i:i?1:0,A:o?o.A:B(),P:!1,I:!1,D:{},l:o,t:u,k:null,o:null,j:null,C:!1},a=c,s=z;i&&(a=[c],s=M);var l=Proxy.revocable(a,s),p=l.revoke,v=l.proxy;return c.k=v,c.j=p,v}(t,n):j("ES5").J(t,n);return(n?n.A:B()).p.push(r),r}function ye(e){return D(e)||O(22,e),function t(n){if(!_(n))return n;var r,u=n[d],o=E(n);if(u){if(!u.P&&(u.i<4||!j("ES5").K(u)))return u.t;u.I=!0,r=ue(n,o),u.I=!1}else r=ue(n,o);return k(r,function(i,c){u&&K(u.t,i)===c||ce(r,i,t(c))}),o===3?new Set(r):r}(e)}function ue(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Q(e)}function Oe(){function e(o,i){var c=u[o];return c?c.enumerable=i:u[o]=c={configurable:!0,enumerable:i,get:function(){var a=this[d];return z.get(a,o)},set:function(a){var s=this[d];z.set(s,o,a)}},c}function t(o){for(var i=o.length-1;i>=0;i--){var c=o[i][d];if(!c.P)switch(c.i){case 5:r(c)&&A(c);break;case 4:n(c)&&A(c)}}}function n(o){for(var i=o.t,c=o.k,a=x(c),s=a.length-1;s>=0;s--){var l=a[s];if(l!==d){var p=i[l];if(p===void 0&&!S(i,l))return!0;var v=c[l],f=v&&v[d];if(f?f.t!==p:!fe(v,p))return!0}}var h=!!i[d];return a.length!==x(i).length+(h?0:1)}function r(o){var i=o.k;if(i.length!==o.t.length)return!0;var c=Object.getOwnPropertyDescriptor(i,i.length-1);if(c&&!c.get)return!0;for(var a=0;a<i.length;a++)if(!i.hasOwnProperty(a))return!0;return!1}var u={};le("ES5",{J:function(o,i){var c=Array.isArray(o),a=function(l,p){if(l){for(var v=Array(p.length),f=0;f<p.length;f++)Object.defineProperty(v,""+f,e(f,!0));return v}var h=se(p);delete h[d];for(var y=x(h),g=0;g<y.length;g++){var m=y[g];h[m]=e(m,l||!!h[m].enumerable)}return Object.create(Object.getPrototypeOf(p),h)}(c,o),s={i:c?5:4,A:i?i.A:B(),P:!1,I:!1,D:{},l:i,t:o,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,d,{value:s,writable:!0}),a},S:function(o,i,c){c?D(i)&&i[d].A===o&&t(o.p):(o.u&&function a(s){if(s&&typeof s=="object"){var l=s[d];if(l){var p=l.t,v=l.k,f=l.D,h=l.i;if(h===4)k(v,function(P){P!==d&&(p[P]!==void 0||S(p,P)?f[P]||a(v[P]):(f[P]=!0,A(l)))}),k(p,function(P){v[P]!==void 0||S(v,P)||(f[P]=!1,A(l))});else if(h===5){if(r(l)&&(A(l),f.length=!0),v.length<p.length)for(var y=v.length;y<p.length;y++)f[y]=!1;else for(var g=p.length;g<v.length;g++)f[g]=!0;for(var m=Math.min(v.length,p.length),b=0;b<m;b++)v.hasOwnProperty(b)||(f[b]=!0),f[b]===void 0&&a(v[b])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}function we(){function e(r){if(!_(r))return r;if(Array.isArray(r))return r.map(e);if($(r))return new Map(Array.from(r.entries()).map(function(i){return[i[0],e(i[1])]}));if(C(r))return new Set(Array.from(r).map(e));var u=Object.create(Object.getPrototypeOf(r));for(var o in r)u[o]=e(r[o]);return S(r,I)&&(u[I]=r[I]),u}function t(r){return D(r)?e(r):r}var n="add";le("Patches",{$:function(r,u){return u.forEach(function(o){for(var i=o.path,c=o.op,a=r,s=0;s<i.length-1;s++){var l=E(a),p=""+i[s];l!==0&&l!==1||p!=="__proto__"&&p!=="constructor"||O(24),typeof a=="function"&&p==="prototype"&&O(24),typeof(a=K(a,p))!="object"&&O(15,i.join("/"))}var v=E(a),f=e(o.value),h=i[i.length-1];switch(c){case"replace":switch(v){case 2:return a.set(h,f);case 3:O(16);default:return a[h]=f}case n:switch(v){case 1:return h==="-"?a.push(f):a.splice(h,0,f);case 2:return a.set(h,f);case 3:return a.add(f);default:return a[h]=f}case"remove":switch(v){case 1:return a.splice(h,1);case 2:return a.delete(h);case 3:return a.delete(o.value);default:return delete a[h]}default:O(17,c)}}),r},R:function(r,u,o,i){switch(r.i){case 0:case 4:case 2:return function(c,a,s,l){var p=c.t,v=c.o;k(c.D,function(f,h){var y=K(p,f),g=K(v,f),m=h?S(p,f)?"replace":n:"remove";if(y!==g||m!=="replace"){var b=a.concat(f);s.push(m==="remove"?{op:m,path:b}:{op:m,path:b,value:g}),l.push(m===n?{op:"remove",path:b}:m==="remove"?{op:n,path:b,value:t(y)}:{op:"replace",path:b,value:t(y)})}})}(r,u,o,i);case 5:case 1:return function(c,a,s,l){var p=c.t,v=c.D,f=c.o;if(f.length<p.length){var h=[f,p];p=h[0],f=h[1];var y=[l,s];s=y[0],l=y[1]}for(var g=0;g<p.length;g++)if(v[g]&&f[g]!==p[g]){var m=a.concat([g]);s.push({op:"replace",path:m,value:t(f[g])}),l.push({op:"replace",path:m,value:t(p[g])})}for(var b=p.length;b<f.length;b++){var P=a.concat([b]);s.push({op:n,path:P,value:t(f[b])})}p.length<f.length&&l.push({op:"replace",path:a.concat(["length"]),value:p.length})}(r,u,o,i);case 3:return function(c,a,s,l){var p=c.t,v=c.o,f=0;p.forEach(function(h){if(!v.has(h)){var y=a.concat([f]);s.push({op:"remove",path:y,value:h}),l.unshift({op:n,path:y,value:h})}f++}),f=0,v.forEach(function(h){if(!p.has(h)){var y=a.concat([f]);s.push({op:n,path:y,value:h}),l.unshift({op:"remove",path:y,value:h})}f++})}(r,u,o,i)}},M:function(r,u,o,i){o.push({op:"replace",path:[],value:u===ee?void 0:u}),i.push({op:"replace",path:[],value:r})}})}var ie,R,Y=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",de=typeof Map<"u",ge=typeof Set<"u",ae=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ee=Y?Symbol.for("immer-nothing"):((ie={})["immer-nothing"]=!0,ie),I=Y?Symbol.for("immer-draftable"):"__$immer_draftable",d=Y?Symbol.for("immer-state"):"__$immer_state",be=""+Object.prototype.constructor,x=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,se=Object.getOwnPropertyDescriptors||function(e){var t={};return x(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},L={},z={get:function(e,t){if(t===d)return e;var n=F(e);if(!S(n,t))return function(u,o,i){var c,a=oe(o,i);return a?"value"in a?a.value:(c=a.get)===null||c===void 0?void 0:c.call(u.k):void 0}(e,n,t);var r=n[t];return e.I||!_(r)?r:r===X(e.t,t)?(q(e),e.o[t]=H(e.A.h,r,e)):r},has:function(e,t){return t in F(e)},ownKeys:function(e){return Reflect.ownKeys(F(e))},set:function(e,t,n){var r=oe(F(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var u=X(F(e),t),o=u==null?void 0:u[d];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(fe(n,u)&&(n!==void 0||S(e.t,t)))return!0;q(e),A(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return X(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,q(e),A(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=F(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){O(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){O(12)}},M={};k(z,function(e,t){M[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),M.deleteProperty=function(e,t){return M.set.call(this,e,t,void 0)},M.set=function(e,t,n){return z.set.call(this,e[0],t,n,e[0])};var me=function(){function e(n){var r=this;this.g=ae,this.F=!0,this.produce=function(u,o,i){if(typeof u=="function"&&typeof o!="function"){var c=o;o=u;var a=r;return function(y){var g=this;y===void 0&&(y=c);for(var m=arguments.length,b=Array(m>1?m-1:0),P=1;P<m;P++)b[P-1]=arguments[P];return a.produce(y,function(pe){var te;return(te=o).call.apply(te,[g,pe].concat(b))})}}var s;if(typeof o!="function"&&O(6),i!==void 0&&typeof i!="function"&&O(7),_(u)){var l=re(r),p=H(r,u,void 0),v=!0;try{s=o(p),v=!1}finally{v?W(l):G(l)}return typeof Promise<"u"&&s instanceof Promise?s.then(function(y){return J(l,i),T(y,l)},function(y){throw W(l),y}):(J(l,i),T(s,l))}if(!u||typeof u!="object"){if((s=o(u))===void 0&&(s=u),s===ee&&(s=void 0),r.F&&Z(s,!0),i){var f=[],h=[];j("Patches").M(u,s,f,h),i(f,h)}return s}O(21,u)},this.produceWithPatches=function(u,o){if(typeof u=="function")return function(s){for(var l=arguments.length,p=Array(l>1?l-1:0),v=1;v<l;v++)p[v-1]=arguments[v];return r.produceWithPatches(s,function(f){return u.apply(void 0,[f].concat(p))})};var i,c,a=r.produce(u,o,function(s,l){i=s,c=l});return typeof Promise<"u"&&a instanceof Promise?a.then(function(s){return[s,i,c]}):[a,i,c]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){_(n)||O(8),D(n)&&(n=ye(n));var r=re(this),u=H(this,n,void 0);return u[d].C=!0,G(r),u},t.finishDraft=function(n,r){var u=n&&n[d],o=u.A;return J(o,r),T(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!ae&&O(20),this.g=n},t.applyPatches=function(n,r){var u;for(u=r.length-1;u>=0;u--){var o=r[u];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}u>-1&&(r=r.slice(u+1));var i=j("Patches").$;return D(n)?i(n,r):this.produce(n,function(c){return i(c,r)})},e}(),w=new me,Pe=w.produce,je=w.produceWithPatches.bind(w);w.setAutoFreeze.bind(w);w.setUseProxies.bind(w);var Ae=w.applyPatches.bind(w);w.createDraft.bind(w);w.finishDraft.bind(w);const Se=Pe;export{Oe as N,we as T,Ae as a,je as c,Z as d,Se as p,D as r,_ as t};
