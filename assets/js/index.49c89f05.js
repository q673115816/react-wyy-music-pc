import{r as d}from"./react.23cc8478.js";import{c as y}from"./react-slick.9a6761a2.js";import{r as B,D as _,d as k}from"./index.83ff940a.js";import{S as w}from"./HeaderBarSearch.46dc5a84.js";import{M as z}from"./MenuCreate.db32089a.js";import{R as M}from"./Rank.21cc2cfe.js";import{D as I}from"./Download.5669f4c2.js";import{D as R}from"./index.3f09aeec.js";import{D as $}from"./Album.b8e72618.js";import{ak as j,al as b,l as G,$ as T}from"./@tabler/icons.e4cd39cf.js";import{a as u,j as e}from"./qrcode.react.5dc2fa92.js";import{R as Y,c as V}from"./react-router-dom.1e37ceed.js";import"./lodash.d03d4659.js";import"./react-dom.c88e72d8.js";import"./react-redux.9d317390.js";import"./immer.36a28300.js";import"./axios.96312ac8.js";import"./store.57d764e6.js";import"./react-transition-group.2d7b5c33.js";import"./react-use.cf5b7485.js";const o=(r,s,l)=>String(r[l.code]).localeCompare(String(s[l.code]),"zh-CN")*l.type,P=[["\u97F3\u4E50\u6807\u9898","songName",o],["\u6B4C\u624B","artist",o],["\u4E13\u8F91","album",o],["\u683C\u5F0F","",o],["\u5927\u5C0F","fileSize",(r,s,l)=>(Number.parseFloat(r[l.code])-Number.parseFloat(s[l.code]))*l.type],["\u4E0A\u4F20\u65F6\u95F4","addTime",(r,s,l)=>(r[l.code]-s[l.code])*l.type]],U=(r,s)=>{if(s.name!==r)return e(b,{size:14,color:"#f00",stroke:1});if(s.type===-1)return e(G,{size:20,stroke:0,fill:"#000"});if(s.type===1)return e(T,{size:12,stroke:0,fill:"#000"});if(s.type===0)return e(b,{size:14,color:"#f00",stroke:1})},L=()=>{const[r,s]=d.exports.useState(!1),[l,v]=d.exports.useState(""),[n,c]=d.exports.useState({name:"\u4E0A\u4F20\u65F6\u95F4",type:-1,code:"addTime",callback:(a,i,t)=>(a[t.code]-i[t.code])*t.type}),E=()=>{s(!r)},{data:C={},isLoading:D}=B({limit:100}),{data:A=[],count:H=0,maxSize:m="",size:p=""}=C,S=a=>{if(n.name!==a.name)return c({...a,type:1});switch(n.type){case-1:return c({name:"",code:"",callback:(i,t)=>0,type:0});case 1:return c({...a,type:-1});default:return c({...a,type:1})}};return D?null:u("div",{className:"domManage overflow-auto h-full",children:[e("div",{className:"domManage_header ui_header",children:e("span",{className:"domManage_header_title h1",children:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8"})}),u("div",{className:"domCloud_info py-2.5 px-8",children:[e("span",{children:"\u4E91\u76D8\u5BB9\u91CF"}),"\xA0",e("div",{className:"w-28 h-2.5 inline-block bg-gray-200 rounded-full overflow-hidden",children:e("div",{className:"h-full bg-blue-600",style:{width:p/m*100||0}})}),"\xA0",u("span",{className:"num",children:[(p/1024/1024/1024).toFixed(2),"G/",m/1024/1024/1024,"G"]}),"\xA0",e("span",{className:"ml-8",children:"\u6B4C\u66F2\u6C38\u4E45\u4FDD\u5B58\uFF0C\u968F\u65F6\u968F\u5730\u591A\u7AEF\u7545\u542C"}),"\xA0",e("a",{href:"https://music.163.com/#/store/product/detail?id=34001",className:"ui_link",children:"\u6269\u5BB9"})]}),u("div",{className:"ui_headerBar border-b",children:[u("div",{className:"left space-x-2",children:[e(R,{}),u("button",{type:"button",className:"flex-center ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full",children:[e(j,{size:20}),"\xA0 \u4E0A\u4F20\u97F3\u4E50"]})]}),e("div",{className:"right",children:e(w,{search:l,setSearch:v,placeholder:"\u641C\u7D22\u6211\u7684\u97F3\u4E50\u4E91\u76D8"})})]}),e("div",{className:"overflow-auto max-h-full flex-auto pl-8 pr-5",children:u("div",{className:"domManage_table",style:{"--ui_grid_template":"36px / 30px 30px 8fr 3fr 3fr 2fr 2fr 4fr"},children:[e("div",{className:"thead",children:u("div",{className:"tr grid ui_grid_template items-center",children:[e("div",{}),e("div",{}),P.map(([a,i,t])=>u("div",{className:y("cell px-1","th",{on:a===n.name}),onClick:()=>S({item:a,code:i,callback:t}),children:[a,e("span",{className:"sort",children:U(a,n)})]},a))]})}),e("div",{className:"tbody",children:A.map((a,i)=>{var t,h,f,F,x,N,g;return e(z,{type:"song",item:a,schema:[["\u64AD\u653E","\u4E0B\u4E00\u9996\u64AD\u653E"],["\u6536\u85CF\u5230\u6B4C\u5355","\u5206\u4EAB","\u4E0B\u8F7D"],["\u5220\u9664"]],children:u("div",{className:y("tr grid ui_grid_template items-center hover:bg-gray-100 focus:outline-none focus:bg-gray-200",i%2===0&&"bg-gray-50"),tabIndex:2,children:[e("div",{className:"cell px-1 index text-gray-400",children:e(M,{index:i,id:a.songId})}),e("div",{className:"cell px-1 download",children:e(I,{})}),u("div",{className:"cell px-1 name truncate",title:a.songName+((h=(t=a.simpleSong)==null?void 0:t.tns)==null?void 0:h.length)>0?`\uFF08${(f=a.simpleSong)==null?void 0:f.tns}\uFF09`:"",children:[a.songName,((x=(F=a.simpleSong)==null?void 0:F.tns)==null?void 0:x.length)>0&&e("span",{className:"text-gray-500",children:`\uFF08${a.simpleSong.tns}\uFF09`})]}),e(_,{className:"px-1",artists:a.simpleSong.ar}),e($,{className:"px-1",name:a.album,id:(g=(N=a.simpleSong)==null?void 0:N.al)==null?void 0:g.id}),e("div",{className:"cell px-1 truncate uppercase",children:new RegExp("(?<=\\.)(\\w*)$").exec(a.fileName)[0]}),u("div",{className:"cell px-1 truncate",children:[(a.fileSize/1024/1024).toFixed(1),"MB"]}),e("div",{className:"cell px-1 truncate text-gray-400",children:k(a.addTime).format("YYYY-MM-DD")})]})},a.songId)})})]})}),u("div",{className:"domManage_dialog",style:{display:r?"":"none"},children:[e("button",{type:"button",className:"close",onClick:E,children:"\xD7"}),e("div",{className:"title",children:"\u9009\u62E9\u672C\u5730\u97F3\u4E50\u6587\u4EF6\u5939"}),e("div",{className:"tips",children:"\u5C06\u81EA\u52A8\u626B\u63CF\u60A8\u52FE\u9009\u7684\u76EE\u5F55\uFF0C\u6587\u4EF6\u589E\u5220\u5B9E\u65F6\u540C\u6B65\u3002"}),e("ul",{children:u("li",{children:[u("span",{className:"checkbox",children:[e("input",{type:"text"}),e("i",{className:"material-icons",children:"checkbox"})]}),"\u6682\u65F6\u6CA1\u6CD5\u505A"]})}),u("div",{className:"actions",children:[e("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full red",children:"\u786E\u8BA4"}),e("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full",children:"\u6DFB\u52A0\u6587\u4EF6"})]})]})]})};var Q=d.exports.memo(L);const q=()=>e(Y,{children:e(V,{index:!0,element:e(Q,{})})});var he=q;export{he as default};
