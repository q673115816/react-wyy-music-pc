import{r as n}from"./react.23cc8478.js";import{c as w}from"./react-slick.9a6761a2.js";import{a0 as G,D as L,E as z,Q as E,ai as I,ab as B,aj as T}from"./@tabler/icons.b7add604.js";import{b as x,L as h,R as V,c as j}from"./react-router-dom.1e37ceed.js";import{a as R,u as Y,b as P,c as Q,s as U,d as C,e as H,H as O,T as q,f as J,L as F,g as K,i as W,h as X,j as Z}from"./index.89c01ead.js";import{a as s,j as e,F as S}from"./qrcode.react.5dc2fa92.js";import{m as ee}from"./react-use.a9b69494.js";import{u as te}from"./useInfinite.10280005.js";import{G as se}from"./Home.034a7e3d.js";import"./lodash.d03d4659.js";import"./react-transition-group.2d7b5c33.js";import"./react-dom.c88e72d8.js";import"./react-redux.9d317390.js";import"./immer.36a28300.js";import"./axios.96312ac8.js";import"./store.57d764e6.js";const ie=()=>{var d,b,v,y,g,N,_,A;const{id:c=""}=x(),t=R(),o=Y(),[r,{isLoading:i}]=P(),{data:a}=Q({id:c}),l=(a==null?void 0:a.data)||{},m=((d=l==null?void 0:l.user)==null?void 0:d.followed)||!1,u=()=>{o(U({artistId:c}))},p=async()=>{try{await r({id:c,t:1}),t("\u6536\u85CF\u6210\u529F\uFF01")}catch(f){console.log(f)}},$=async()=>{m?u():await p()};return s("div",{className:"domArtist_header flex p-8",children:[e("div",{className:"w-44 h-44 border overflow-hidden rounded",children:e("img",{src:`${(b=l.artist)==null?void 0:b.cover}?param=200y200`,alt:""})}),s("div",{className:"content flex-auto px-5",children:[e("div",{className:"name h1 select-text",children:(v=l.artist)==null?void 0:v.name}),e("div",{className:"enname my-3 select-text",children:(y=l.alias)==null?void 0:y.map(f=>f)}),s("div",{className:"actions mt-3 flex space-x-2",children:[e("button",{onClick:$,type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm",children:m?s(S,{children:[e(G,{size:20,stroke:1}),"\u5DF2\u6536\u85CF"]}):s(S,{children:[e(L,{size:20,stroke:1}),"\u6536\u85CF"]})}),l.user&&e(h,{to:`/user/${(g=l.user)==null?void 0:g.userId}`,className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm",children:"\u4E2A\u4EBA\u4E3B\u9875"})]}),s("div",{className:"info mt-5 space-x-5",children:[s("span",{className:"size",children:["\u5355\u66F2\u6570:",(N=l==null?void 0:l.artist)==null?void 0:N.musicSize]}),s("span",{className:"size",children:["\u4E13\u8F91\u6570:",(_=l.artist)==null?void 0:_.albumSize]}),s("span",{className:"size",children:["MV\u6570:",(A=l.artist)==null?void 0:A.mvSize]})]})]})]})};var ae=n.exports.memo(ie);const le=({hotAlbums:c=[]})=>e("div",{className:"grid grid-cols-4 p-8 gap-x-20 gap-y-5",children:c.map(t=>s("div",{className:"item",children:[s("div",{className:"cover rounded overflow-hidden relative group",children:[e(h,{to:`/playlist/album/${t.id}`,children:e("img",{className:"",src:`${t.picUrl}?param=200y200`,alt:""})}),e("button",{type:"button",className:"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e(z,{size:20,className:"fill-current"})})]}),e("div",{className:"name text-sm mt-2",children:s(h,{to:`/playlist/album/${t.id}`,className:"ui_ellipse",children:[e("span",{className:"ui_text_black_hover",children:t.name}),t.alias.map(o=>e("span",{className:"text-gray-500",children:`\uFF08${o}\uFF09`},o))]})}),e("div",{className:"text-gray-400 mt-2",children:C(t.publishTime).format("YYYY-MM-DD")})]},t.id))});var re=n.exports.memo(le);const oe=({hotAlbums:c=[]})=>e("div",{className:"list pt-4",children:c.map((t,o)=>{var r;return s("div",{className:w("list_item pl-5 flex items-center h-20 hover:bg-gray-100",{"bg-gray-50":o%2===0}),children:[e(h,{className:"cover border rounded flex-none w-14 h-14",to:`/playlist/album/${t.id}`,children:e("img",{className:"ui_containimg",src:`${t.picUrl}?param=100y100`,alt:""})}),s(h,{className:"name truncate px-2.5",to:`/playlist/album/${t.id}`,children:[t.name,"\xA0",((r=t.alias)==null?void 0:r.length)>0&&s("span",{className:"text-gray-400",children:["(",t.alias.map(i=>i),")"]})]}),s("span",{className:"size text-gray-400",children:[t.size,"\u9996"]}),s("span",{className:"publishTime text-gray-400",children:["\u53D1\u884C\u65F6\u95F4\uFF1A",C(t.publishTime).format("YYYY-MM-DD")]})]},t.id)})});var ne=n.exports.memo(oe);const ce=()=>{const{id:c=""}=x();console.log("artist_column");const[t,o]=n.exports.useState(10),{data:r}=H({id:c}),i=(r==null?void 0:r.songs)||[];return e("div",{className:"column p-8",children:s("div",{className:"column_item",children:[e("div",{className:"cover",children:s("div",{className:"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white",children:[e("div",{className:"text-4xl",children:"TOP"}),e("div",{className:"text-6xl",children:"50"})]})}),s("div",{className:"aside flex-auto ml-20 w-0",children:[s("div",{className:"flex",children:[e("span",{className:"font-bold text-base",children:"\u70ED\u95E850\u9996"}),s("div",{className:"flex items-center",children:[e("button",{type:"button",className:"flex-none border rounded-full flex-center mx-3 p-1",children:e(z,{size:10,className:"fill-current"})}),e("span",{className:"text-gray-300",children:"|"}),e("button",{type:"button",className:"mx-3",children:e(L,{size:20,stroke:1})})]})]}),s("div",{className:"list mt-2",children:[i.slice(0,t).map((a,l)=>s("div",{className:w("item hover:bg-gray-100 focus:outline-none focus:bg-gray-200",{"bg-gray-50":l%2===0}),tabIndex:2,children:[e("div",{className:"index flex-none text-right text-gray-400",children:String(l+1).padStart(2,"0")}),e("div",{className:"heart flex-none text-center",children:e(O,{id:a.id})}),e("div",{className:"download flex-none text-center",children:e("button",{type:"button",className:"text-gray-500 hover:text-black",children:e(E,{size:16,stroke:1})})}),s("div",{className:"name flex-auto flex flex-auto min-w-0 px-2.5",children:[s("span",{className:"truncate",title:`${a.name}(${a.alia.map(m=>m)})`,children:[a.name,"\xA0",e("span",{className:"text-gray-400",children:a.alia.map(m=>m)})]}),e(q,{item:a,className:"flex-none"})]}),e("div",{className:"duration text-gray-400 flex-none",children:C(a.dt).format("mm:ss")})]},a.id)),t===10&&i.length>10&&s("button",{type:"button",className:"seeMore",onClick:()=>o(50),children:["\u67E5\u770B\u5168\u90E8",i.length,"\u9996 >"]})]})]})]})})};var me=n.exports.memo(ce);const k=[["Grid",I],["List",B],["Column",T]],de={Grid:re,List:ne,Column:me};var ue=n.exports.memo(function(){const{id:t=""}=x(),[o="Grid",r,i]=ee("layout",k[0][0]),{data:a,isLoading:l}=J({id:t}),m=(a==null?void 0:a.hotAlbums)||[];return a!=null&&a.more,l?e(F,{}):s("div",{className:"domArtist_section relative",children:[e("div",{className:"absolute right-8 bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden",children:k.map(([u,p])=>e("button",{type:"button",className:w("px-1.5 py-0.5 bg-gray-200","handle",u===o&&"bg-gray-400 text-white"),onClick:()=>r(u),children:e(p,{size:14,stroke:1})},u))}),e("div",{className:"domArtist_section_layout",children:n.exports.createElement(de[o],{hotAlbums:m,id:t})})]})});const he=()=>{var r;const{id:c=""}=x(),{data:t,isLoading:o}=K({id:c});return o?e(F,{}):s("div",{className:"domArtist_section p-8 leading-8 text-sm select-text",children:[e("div",{className:"domArtist_subtitle font-bold",children:"\u7B80\u4ECB"}),e("div",{className:"domArtist_article text-gray-500 indent-8",children:t==null?void 0:t.briefDesc}),e("br",{}),e("br",{}),(r=t==null?void 0:t.introduction)==null?void 0:r.map(i=>s("div",{className:"select-text",children:[e("div",{className:"domArtist_subtitle font-bold",children:i.ti}),e("div",{className:"domArtist_article text-gray-500 whitespace-pre-line",children:i.txt})]},i.ti))]})};var pe=n.exports.memo(he);const D=24;var xe=n.exports.memo(function(){const{id:t=""}=x(),[o,r]=W([]),[i,{isLoading:a}]=X(),l=n.exports.useRef(!0),m=n.exports.useRef(0),u=n.exports.useRef(null),p=n.exports.useRef(null);return te(async()=>{if(!!l.current)try{const{data:d}=await i({id:t,limit:D,offset:m.current});m.current+=D;const b=(d==null?void 0:d.mvs)||[],v=(d==null?void 0:d.hasMore)||!1;l.current=v,r(y=>{y.push(...b.map(({id:g,imgurl:N,duration:_,name:A,playCount:f})=>({id:g,duration:_,playCount:f,cover:N,title:A,type:"0"})))})}catch(d){console.log(d)}},u,p),s("div",{className:"domArtist_section p-8",children:[e(se,{list:o}),e("div",{ref:p,className:"flex-center",children:a&&e(F,{})})]})});const fe=()=>{const{id:c=""}=x(),{data:t,isLoading:o}=Z({id:c}),r=(t==null?void 0:t.artists)||[];return o?e(F,{}):r.length===0?e("div",{className:"text-center text-gray-400 text-sm pt-16",children:"\u6CA1\u6709\u76F8\u4F3C\u6B4C\u624B"}):e("div",{className:"p-8",children:e("div",{className:"grid grid-cols-5 gap-5",children:r.map(i=>s("div",{className:"space-y-2",children:[e(h,{to:`/artist/${i.id}`,className:"block rounded overflow-hidden border",children:e("img",{loading:"lazy",className:"aspect-square object-fit w-full h-full",src:`${i.picUrl}?param=200y200`,alt:""})}),e("div",{children:e(h,{to:`/artist/${i.id}`,className:"text-sm",children:i.name})})]},i.id))})})};var be=n.exports.memo(fe);const M=[["\u4E13\u8F91","Album"],["MV","MV"],["\u6B4C\u624B\u8BE6\u60C5","Desc"],["\u76F8\u4F3C\u6B4C\u624B","Similarity"]],ve={Album:ue,MV:xe,Desc:pe,Similarity:be};var ye=n.exports.memo(function(){const[t,o]=n.exports.useState(M[0][1]);return s("div",{className:"domArtist overflow-auto max-h-full flex-auto",children:[e(ae,{}),s("div",{children:[s("div",{className:"flex mx-8",children:[e("div",{className:"flex gap-4 text-sm",children:M.map(([r,i])=>e("button",{onClick:()=>o(i),type:"button",className:w(t===i&&"font-bold ui_underline"),children:r},i))}),e("div",{className:"relative ml-auto"})]}),n.exports.createElement(ve[t])]})]})});const ge=()=>e(V,{children:e(j,{path:":id",element:e(ye,{})})});var Be=ge;export{Be as default};
