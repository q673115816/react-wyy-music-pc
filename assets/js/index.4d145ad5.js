import{r as a}from"./react.4dc00a72.js";import{a as B,L as d,R as V,c as w}from"./react-router-dom.c9f41bfe.js";import{c as M}from"./react-slick.7d904bce.js";import{G as _}from"./Home.aec945a7.js";import{u as g}from"./useInfinite.e29f1b90.js";import{i as L,aE as S}from"./index.e019ec6f.js";import{a as o,j as r}from"./qrcode.react.9db161e8.js";import"./lodash.7c73e2e6.js";import"./react-transition-group.249745a6.js";import"./react-dom.21c65b93.js";import"./@tabler/icons.f4e7e1e5.js";import"./react-redux.8c90b9d0.js";import"./immer.9a3c9cc9.js";import"./axios.1ece621b.js";import"./store.4dc8c578.js";import"./react-use.b2910bcc.js";const b=[["area","\u5730\u533A",["\u5168\u90E8","\u5185\u5730","\u6E2F\u53F0","\u6B27\u7F8E","\u97E9\u56FD","\u65E5\u672C"]],["type","\u7C7B\u578B",["\u5168\u90E8","\u5B98\u65B9\u7248","\u539F\u58F0","\u73B0\u573A\u7248","\u7F51\u6613\u51FA\u54C1"]],["order","\u6392\u5E8F",["\u4E0A\u5347\u6700\u5FEB","\u6700\u70ED","\u6700\u65B0"]]],s={area:"\u5168\u90E8",type:"\u5168\u90E8",order:"\u4E0A\u5347\u6700\u5FEB"},j=()=>{const{search:u}=B(),i=30,l=a.exports.useRef(0),p=new URLSearchParams(u),c=a.exports.useRef(null),n=a.exports.useRef(null);for(const[e,t]of p)s[e]=t;const[f,m]=L([]);return g(async()=>{try{const{data:e,code:t}=await S({...s,limit:i,offset:l.current});if(l.current+=i,t!==200)return;m(h=>{h.push(...e==null?void 0:e.map(({id:x,name:E,cover:v,playCount:N,duration:A,artists:F})=>({type:0,playCount:N,id:x,cover:v,duration:A,title:E,creator:F.map(({id:R,name:y})=>({userId:R,userName:y}))})))})}catch(e){console.log(e)}},c,n,[u]),a.exports.useEffect(()=>{m([]),l.current=0},[u]),o("div",{className:"domAllMV overflow-auto h-full",ref:c,children:[r("div",{className:"domAllMV_header ui_header",children:r(d,{to:"./",className:"h1 title",children:"\u5168\u90E8MV"})}),o("div",{className:"domAllMV_main px-8 flex-auto",children:[r("div",{className:"ui_filter",children:b.map(e=>o("div",{className:"row flex my-2.5",children:[o("div",{className:"name flex-none",children:[e[1],":"]}),r("div",{className:"list divide-x",children:e[2].map(t=>r("div",{className:"item flex-center",children:r(d,{to:`/mv-all?${new URLSearchParams({...s,[e[0]]:t})}`,className:M("btn rounded-full leading-5 px-3 whitespace-nowrap",t===s[e[0]]?"bg-red-50 text-red-500":"ui_text_gray_hover"),children:t})},t))})]},e[1]))}),r("div",{className:"py-1",children:r(_,{list:f})}),r("div",{ref:n})]})]})},C=a.exports.memo(j),D=()=>r(V,{children:r(w,{index:!0,element:r(C,{})})}),Z=D;export{Z as default};
