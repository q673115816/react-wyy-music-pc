System.register(["./react-legacy.b3bc90c5.js","./@tabler/icons-legacy.70165014.js","./index-legacy.a7c631d5.js","./react-router-dom-legacy.02c0d312.js","./classnames-legacy.82f93ed6.js","./qrcode.react-legacy.685a2ddb.js","./react-router-legacy.983234a4.js","./PlaylistAsyncReplace-legacy.e1f1ece5.js","./useInfinite-legacy.b5d5e5d0.js","./lodash-legacy.4434829e.js","./react-dom-legacy.c211300b.js","./react-redux-legacy.c7a29beb.js","./immer-legacy.c24b5c0e.js","./redux-persist-legacy.af414400.js","./axios-legacy.6d9fa2e4.js","./rxjs-legacy.4711c62e.js","./react-use-legacy.597098f4.js","./react-transition-group-legacy.04c7c2c7.js","./color-legacy.6099eccf.js","./dayjs-legacy.7dd3aa6c.js","./history-legacy.13b73ead.js"],(function(e,a){"use strict";var t,l,s,c,r,i,o,n,d,m,u,h,p,y,g,x,f,v,N,b,j;return{setters:[e=>{t=e.r},e=>{l=e.au,s=e.an,c=e.v},e=>{r=e.aA,i=e.i,o=e.a4,n=e.t,d=e.k,m=e.L},e=>{u=e.N,h=e.L},e=>{p=e.a},e=>{y=e.a,g=e.j},e=>{x=e.e,f=e.O,v=e.h,N=e.N},e=>{b=e.P},e=>{j=e.u},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const a=t.exports.memo((({tags:e,handleHidden:a})=>{const{cat:t}=x();return y("div",{className:"absolute divide-y bg-white top-8 right-0 z-10 shadow rounded-lg",style:{width:510},children:[g("div",{className:"py-4 px-6",children:g(u,{className:({isActive:e})=>p("item hover:ui_themeColor text-sm",e&&"ui_themeColor"),onClick:a,to:"全部歌单",children:g("span",{className:p("inline-flex inner px-3 py-1 rounded-full overflow-hidden",{ui_bg_opacity:"全部歌单"===t}),children:"全部歌单"})})}),g("div",{className:"p-6 grid grid-cols-5 gap-y-4",children:e.map((e=>g(u,{onClick:a,to:encodeURIComponent(e.name),className:({isActive:e})=>p("item hover:ui_themeColor text-sm whitespace-nowrap",e&&"ui_themeColor"),children:g("span",{className:p("inline-flex inner px-3 py-1 rounded-full overflow-hidden",{ui_bg_opacity:e.name===t}),children:e.name})},e.id)))})]})})),w=t.exports.memo((()=>{const{cat:e}=x(),[s,c]=t.exports.useState(!1),{data:i}=r(),o=i?.tags||[],n=t.exports.useCallback((()=>c(!1)),[]);return y("div",{className:"px-8 max-h-full overflow-auto flex-auto",children:[y("div",{className:"py-3 flex items-center justify-between",children:[y("div",{className:"flex items-center",children:[g("span",{className:"font-bold text-xl",children:"精品歌单"})," ",g("a",{href:"https://music.163.com/#/topic?id=202001",className:"flex-center w-4 h-4 border rounded-full text-gray-400 hover:text-gray-500 border-current",children:"?"})]}),y("div",{className:"relative",children:[y("button",{onClick:()=>c(!s),type:"button",className:"flex items-center border hover:bg-gray-100 rounded-full px-2 py-1",children:[g(l,{size:16,stroke:1}),e]}),s&&g(a,{tags:o,handleHidden:n})]})]}),g(f,{})]})})),_=t.exports.memo((()=>{const{cat:e=""}=x(),a=t.exports.useRef(0),[l,r]=i([]),[u,{isLoading:p}]=o(),f=t.exports.useRef(null);return t.exports.useRef(null),j((async()=>{try{const t=await u({cat:e,limit:20,before:a.current}),l=t?.data?.playlists||[],s=t?.data?.lasttime;a.current=s,r((e=>{e.push(...l)}))}catch(t){console.log(t)}}),null,f),t.exports.useEffect((()=>{r([])}),[e]),y("div",{className:"grid gap-6 grid-cols-2",children:[l.map((e=>y("div",{className:"item flex",children:[y("div",{className:"cover w-32 h-32 rounded-lg group overflow-hidden flex-none relative",children:[y(h,{to:`/playlist/music/${e.id}`,className:"",children:[g("span",{className:"absolute top-0 left-0 p-0.5 w-8 h-8 bg-yellow-500 text-white ui_angle_top_left",children:g(s,{size:14,className:"transform -rotate-45"})}),g("img",{loading:"lazy",src:`${e.coverImgUrl}?param=200y200`,className:"aspect-square",alt:""}),y("div",{className:"absolute text-white top-0 right-0 py-1 px-2 flex-center",children:[g(c,{size:12}),n(e.playCount)]})]}),g(b,{id:e.id,className:"playArrow opacity-0 group-hover:opacity-100 ui_themeColor absolute right-0 bottom-0 m-2 p-2 bg-white bg-opacity-90 rounded-full",children:g(c,{size:16,className:"fill-current"})})]}),y("div",{className:"ml-2 flex-auto w-0 pt-5",children:[g("div",{className:"text-sm truncate ui_text_black_hover",children:g(h,{to:`/playlist/music/${e.id}`,className:"",children:e.name})}),y("div",{className:"mt-3 flex items-center ui_text_gray_hover",children:["by ",g(h,{to:`/user/${e.userId}`,className:"",children:e.creator.nickname})," ",e?.creator?.avatarDetail?.identityIconUrl&&g("img",{className:"w-3 h-3",src:e.creator.avatarDetail.identityIconUrl,alt:""})]}),y("div",{className:"mt-4 text-gray-300 flex items-center",children:[g(d,{text:e.tag,className:"flex-none mr-1"}),g("span",{className:"flex-auto truncate",children:e.copywriter})]})]})]},e.id))),g("div",{ref:f,children:g(m,{})})]})}));e("default",t.exports.memo((()=>v([{index:!0,element:g(N,{to:"全部歌单",replace:!0})},{path:":cat",element:g(w,{}),children:[{index:!0,element:g(N,{to:"1",replace:!0})},{path:":page",element:g(_,{})}]}]))))}}}));
