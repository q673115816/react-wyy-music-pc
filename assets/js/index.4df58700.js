import{r as o}from"./react.0a2f695e.js";import{c as y}from"./react-slick.d01d63b2.js";import{m as _,M as D,A as k,d as z}from"./index.ad939b39.js";import{S as M}from"./HeaderBarSearch.216a356f.js";import{R as w}from"./Rank.e0d1ce27.js";import{D as R}from"./Download.3c2ebe16.js";import{D as $}from"./index.2f9e0b40.js";import{A as j}from"./Album.aa926274.js";import{ak as G,al as b,e as T,W as Y}from"./@tabler/icons.780b6b0a.js";import{a as u,j as e}from"./qrcode.react.f1612489.js";import{R as I,c as L}from"./react-router-dom.26906018.js";import"./lodash.f41ef0b4.js";import"./react-dom.d348259d.js";import"./react-redux.b59bc728.js";import"./immer.9a3c9cc9.js";import"./axios.bae04854.js";import"./rxjs.50ac82b8.js";import"./react-use.c8ecd018.js";import"./store.066dccc1.js";import"./react-transition-group.2ea66e59.js";const d=(t,s,l)=>String(t[l.code]).localeCompare(String(s[l.code]),"zh-CN")*l.type,V=[["\u97F3\u4E50\u6807\u9898","songName",d],["\u6B4C\u624B","artist",d],["\u4E13\u8F91","album",d],["\u683C\u5F0F","",d],["\u5927\u5C0F","fileSize",(t,s,l)=>(Number.parseFloat(t[l.code])-Number.parseFloat(s[l.code]))*l.type],["\u4E0A\u4F20\u65F6\u95F4","addTime",(t,s,l)=>(t[l.code]-s[l.code])*l.type]],Z=(t,s)=>{if(s.name!==t)return e(b,{size:14,color:"#f00",stroke:1});if(s.type===-1)return e(T,{size:20,stroke:0,fill:"#000"});if(s.type===1)return e(Y,{size:12,stroke:0,fill:"#000"});if(s.type===0)return e(b,{size:14,color:"#f00",stroke:1})},P=()=>{const[t,s]=o.exports.useState(!1),[l,v]=o.exports.useState(""),[n,c]=o.exports.useState({name:"\u4E0A\u4F20\u65F6\u95F4",type:-1,code:"addTime",callback:(a,i,r)=>(a[r.code]-i[r.code])*r.type}),E=()=>{s(!t)},{data:C={},isLoading:A}=_({limit:100}),{data:S=[],count:W=0,maxSize:m="",size:p=""}=C,B=a=>{if(n.name!==a.name)return c({...a,type:1});switch(n.type){case-1:return c({name:"",code:"",callback:(i,r)=>0,type:0});case 1:return c({...a,type:-1});default:return c({...a,type:1})}};return A?null:u("div",{className:"domManage overflow-auto h-full",children:[e("div",{className:"domManage_header ui_header",children:e("span",{className:"domManage_header_title h1",children:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8"})}),u("div",{className:"domCloud_info py-2.5 px-8",children:[e("span",{children:"\u4E91\u76D8\u5BB9\u91CF"}),"\xA0",e("div",{className:"w-28 h-2.5 inline-block bg-gray-200 rounded-full overflow-hidden",children:e("div",{className:"h-full bg-blue-600",style:{width:p/m*100||0}})}),"\xA0",u("span",{className:"num",children:[(p/1024/1024/1024).toFixed(2),"G/",m/1024/1024/1024,"G"]}),"\xA0",e("span",{className:"ml-8",children:"\u6B4C\u66F2\u6C38\u4E45\u4FDD\u5B58\uFF0C\u968F\u65F6\u968F\u5730\u591A\u7AEF\u7545\u542C"}),"\xA0",e("a",{href:"https://music.163.com/#/store/product/detail?id=34001",className:"ui_link",children:"\u6269\u5BB9"})]}),u("div",{className:"ui_headerBar border-b",children:[u("div",{className:"left space-x-2",children:[e($,{}),u("button",{type:"button",className:"flex-center ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full",children:[e(G,{size:20}),"\xA0 \u4E0A\u4F20\u97F3\u4E50"]})]}),e("div",{className:"right",children:e(M,{search:l,setSearch:v,placeholder:"\u641C\u7D22\u6211\u7684\u97F3\u4E50\u4E91\u76D8"})})]}),e("div",{className:"overflow-auto max-h-full flex-auto pl-8 pr-5",children:u("div",{className:"domManage_table",style:{"--ui_grid_template":"36px / 30px 30px 8fr 3fr 3fr 2fr 2fr 4fr"},children:[e("div",{className:"thead",children:u("div",{className:"tr grid ui_grid_template items-center",children:[e("div",{}),e("div",{}),V.map(([a,i,r])=>u("div",{className:y("cell px-1","th",{on:a===n.name}),onClick:()=>B({item:a,code:i,callback:r}),children:[a,e("span",{className:"sort",children:Z(a,n)})]},a))]})}),e("div",{className:"tbody",children:S.map((a,i)=>{var r,h,f,F,x,N,g;return e(D,{type:"song",item:a,schema:[["\u64AD\u653E","\u4E0B\u4E00\u9996\u64AD\u653E"],["\u6536\u85CF\u5230\u6B4C\u5355","\u5206\u4EAB","\u4E0B\u8F7D"],["\u5220\u9664"]],children:u("div",{className:y("tr grid ui_grid_template items-center hover:bg-gray-100 focus:outline-none focus:bg-gray-200",i%2===0&&"bg-gray-50"),tabIndex:2,children:[e("div",{className:"cell px-1 index text-gray-400",children:e(w,{index:i,id:a.songId})}),e("div",{className:"cell px-1 download",children:e(R,{})}),u("div",{className:"cell px-1 name truncate",title:a.songName+((h=(r=a.simpleSong)==null?void 0:r.tns)==null?void 0:h.length)>0?`\uFF08${(f=a.simpleSong)==null?void 0:f.tns}\uFF09`:"",children:[a.songName,((x=(F=a.simpleSong)==null?void 0:F.tns)==null?void 0:x.length)>0&&e("span",{className:"text-gray-500",children:`\uFF08${a.simpleSong.tns}\uFF09`})]}),e(k,{className:"px-1",artists:a.simpleSong.ar}),e(j,{className:"px-1",name:a.album,id:(g=(N=a.simpleSong)==null?void 0:N.al)==null?void 0:g.id}),e("div",{className:"cell px-1 truncate uppercase",children:new RegExp("(?<=\\.)(\\w*)$").exec(a.fileName)[0]}),u("div",{className:"cell px-1 truncate",children:[(a.fileSize/1024/1024).toFixed(1),"MB"]}),e("div",{className:"cell px-1 truncate text-gray-400",children:z(a.addTime).format("YYYY-MM-DD")})]})},a.songId)})})]})}),u("div",{className:"domManage_dialog",style:{display:t?"":"none"},children:[e("button",{type:"button",className:"close",onClick:E,children:"\xD7"}),e("div",{className:"title",children:"\u9009\u62E9\u672C\u5730\u97F3\u4E50\u6587\u4EF6\u5939"}),e("div",{className:"tips",children:"\u5C06\u81EA\u52A8\u626B\u63CF\u60A8\u52FE\u9009\u7684\u76EE\u5F55\uFF0C\u6587\u4EF6\u589E\u5220\u5B9E\u65F6\u540C\u6B65\u3002"}),e("ul",{children:u("li",{children:[u("span",{className:"checkbox",children:[e("input",{type:"text"}),e("i",{className:"material-icons",children:"checkbox"})]}),"\u6682\u65F6\u6CA1\u6CD5\u505A"]})}),u("div",{className:"actions",children:[e("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full red",children:"\u786E\u8BA4"}),e("button",{type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full",children:"\u6DFB\u52A0\u6587\u4EF6"})]})]})]})},Q=o.exports.memo(P),U=()=>e(I,{children:e(L,{index:!0,element:e(Q,{})})}),he=U;export{he as default};
