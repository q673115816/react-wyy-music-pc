import{r as u}from"./react.0a2f695e.js";import{L as A,R as g,c as M}from"./react-router-dom.8e5277d6.js";import{c as w}from"./react-slick.d01d63b2.js";import{aH as V,L as j}from"./index.3915846d.js";import{G as C}from"./Home.2b272d7c.js";import{j as e,a as m}from"./qrcode.react.84002e4a.js";import{s as G,v as p}from"./react-use.cc42aba6.js";import"./lodash.f41ef0b4.js";import"./react-dom.d348259d.js";import"./react-redux.a4f8f94a.js";import"./immer.76e704b2.js";import"./axios.556b107a.js";import"./@tabler/icons.113db04b.js";import"./rxjs.6644997a.js";import"./react-transition-group.7648cfe3.js";const S=[["area","\u5730\u533A",["\u5168\u90E8","\u5185\u5730","\u6E2F\u53F0","\u6B27\u7F8E","\u97E9\u56FD","\u65E5\u672C"]],["type","\u7C7B\u578B",["\u5168\u90E8","\u5B98\u65B9\u7248","\u539F\u58F0","\u73B0\u573A\u7248","\u7F51\u6613\u51FA\u54C1"]],["order","\u6392\u5E8F",["\u4E0A\u5347\u6700\u5FEB","\u6700\u70ED","\u6700\u65B0"]]],f={area:"\u5168\u90E8",type:"\u5168\u90E8",order:"\u4E0A\u5347\u6700\u5FEB"},h=24,_=({area:t,type:a,order:o,index:l,setHasMore:d})=>{const c=u.exports.useRef(null),n=G(c,{root:null,rootMargin:"0px",threshold:1}),[r,{isUninitialized:s,isLoading:x,data:i}]=V();return u.exports.useEffect(()=>{s&&n&&n.intersectionRatio>0&&r({area:t,type:a,order:o,limit:h,offset:l*h})},[n]),u.exports.useEffect(()=>{i!=null&&i.hasMore&&d()},[i]),e("div",{ref:c,children:x?e("div",{className:"flex-center py-4",children:e(j,{})}):e(C,{list:i==null?void 0:i.data.map(({id:E,name:v,cover:y,playCount:N,duration:F,artists:B})=>({type:0,playCount:N,id:E,cover:y,duration:F,title:v,creator:B.map(({id:L,name:R})=>({userId:L,userName:R}))}))})})},$=u.exports.memo(_),b=()=>{const t=p("area")||f.area,a=p("type")||f.type,o=p("order")||f.order,l={area:t,type:a,order:o},[d,c]=u.exports.useState([]),n=u.exports.useCallback(()=>{c(r=>[...r,t+a+o])},[t,a,o]);return u.exports.useEffect(()=>{c([t+a+o])},[t,a,o]),m("div",{className:"overflow-auto h-full",children:[e("div",{className:"ui_header",children:e("span",{className:"h1 cursor-pointer",children:"\u5168\u90E8MV"})}),m("div",{className:"px-8 flex-auto",children:[S.map(r=>m("div",{className:"flex my-2.5",children:[m("div",{className:"flex-none",children:[r[1],":"]}),e("div",{className:"flex divide-x",children:r[2].map(s=>e("div",{className:"w-20 flex-center",children:e(A,{to:`/mv-all?${new URLSearchParams(Object.assign({},l,{[r[0]]:s}))}`,className:w("rounded-full leading-5 px-3 whitespace-nowrap",s===l[r[0]]?"bg-red-50 text-red-500":"ui_text_gray_hover"),children:s})},s))})]},r[1])),e("div",{className:"py-1",children:d.map((r,s)=>e($,{index:s,order:o,area:t,type:a,setHasMore:n},r+s))})]})]})},D=u.exports.memo(b),k=()=>e(g,{children:e(M,{index:!0,element:e(D,{})})}),ee=k;export{ee as default};
