import{r as o}from"./react.0a2f695e.js";import{a as _}from"./classnames.9558900f.js";import{Y as G,o as z,w as E,K as k,ai as B,ab as T,aj as V}from"./@tabler/icons.d755a6ec.js";import{L as p}from"./react-router-dom.256d9b78.js";import{a as j,u as R,c as Y,d as I,s as Q,e as U,H as P,T as H,f as K,L as w,g as O,i as X,h as q,j as J}from"./index.ba361b16.js";import{a as t,j as e,F as S}from"./qrcode.react.84002e4a.js";import{e as x,R as W,f as Z}from"./react-router.d1bb31aa.js";import{d as C}from"./dayjs.6fdda85a.js";import{u as ee}from"./react-use.fd5829ae.js";import{u as se}from"./useInfinite.22451543.js";import{G as te}from"./Home.00afe388.js";import"./lodash.f41ef0b4.js";import"./react-dom.d348259d.js";import"./react-redux.49573eed.js";import"./immer.76e704b2.js";import"./redux-persist.b0b12bc5.js";import"./axios.8a0dc616.js";import"./rxjs.22301260.js";import"./react-transition-group.2770fa82.js";import"./color.a5f8aeb5.js";import"./history.9736f6f1.js";const ae=()=>{var m,N,b,v,g,y,A,F;const{id:c=""}=x(),s=j(),n=R(),[l,{isLoading:a}]=Y(),{data:i}=I({id:c}),r=(i==null?void 0:i.data)||{},d=((m=r==null?void 0:r.user)==null?void 0:m.followed)||!1,u=()=>{n(Q({artistId:c}))},h=async()=>{try{await l({id:c,t:1}),s("\u6536\u85CF\u6210\u529F\uFF01")}catch(f){console.log(f)}},$=async()=>{d?u():await h()};return t("div",{className:"domArtist_header flex p-8",children:[e("div",{className:"w-44 h-44 border overflow-hidden rounded",children:e("img",{src:`${(N=r.artist)==null?void 0:N.cover}?param=200y200`,alt:""})}),t("div",{className:"content flex-auto px-5",children:[e("div",{className:"name h1 select-text",children:(b=r.artist)==null?void 0:b.name}),e("div",{className:"enname my-3 select-text",children:(v=r.alias)==null?void 0:v.map(f=>f)}),t("div",{className:"actions mt-3 flex space-x-2",children:[e("button",{onClick:$,type:"button",className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm",children:d?t(S,{children:[e(G,{size:20,stroke:1}),"\u5DF2\u6536\u85CF"]}):t(S,{children:[e(z,{size:20,stroke:1}),"\u6536\u85CF"]})}),r.user&&e(p,{to:`/user/${(g=r.user)==null?void 0:g.userId}`,className:"ui_btn inline-flex items-center justify-center border px-3 h-8 rounded-full flex items-center text-sm",children:"\u4E2A\u4EBA\u4E3B\u9875"})]}),t("div",{className:"info mt-5 space-x-5",children:[t("span",{className:"size",children:["\u5355\u66F2\u6570:",(y=r==null?void 0:r.artist)==null?void 0:y.musicSize]}),t("span",{className:"size",children:["\u4E13\u8F91\u6570:",(A=r.artist)==null?void 0:A.albumSize]}),t("span",{className:"size",children:["MV\u6570:",(F=r.artist)==null?void 0:F.mvSize]})]})]})]})},ie=o.exports.memo(ae),re=({hotAlbums:c=[]})=>e("div",{className:"grid grid-cols-4 p-8 gap-x-20 gap-y-5",children:c.map(s=>t("div",{className:"item",children:[t("div",{className:"cover rounded overflow-hidden relative group",children:[e(p,{to:`/playlist/album/${s.id}`,children:e("img",{className:"",src:`${s.picUrl}?param=200y200`,alt:""})}),e("button",{type:"button",className:"absolute inset-0 ui_themeColor flex-center m-auto w-10 h-10 rounded-full bg-white bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e(E,{size:20,className:"fill-current"})})]}),e("div",{className:"name text-sm mt-2",children:t(p,{to:`/playlist/album/${s.id}`,className:"ui_ellipse",children:[e("span",{className:"ui_text_black_hover",children:s.name}),s.alias.map(n=>e("span",{className:"text-gray-500",children:`\uFF08${n}\uFF09`},n))]})}),e("div",{className:"text-gray-400 mt-2",children:C(s.publishTime).format("YYYY-MM-DD")})]},s.id))}),le=o.exports.memo(re),ne=({hotAlbums:c=[]})=>e("div",{className:"list pt-4",children:c.map((s,n)=>{var l;return t("div",{className:_("list_item pl-5 flex items-center h-20 hover:bg-gray-100",{"bg-gray-50":n%2===0}),children:[e(p,{className:"cover border rounded flex-none w-14 h-14",to:`/playlist/album/${s.id}`,children:e("img",{className:"ui_containimg",src:`${s.picUrl}?param=100y100`,alt:""})}),t(p,{className:"name truncate px-2.5",to:`/playlist/album/${s.id}`,children:[s.name,"\xA0",((l=s.alias)==null?void 0:l.length)>0&&t("span",{className:"text-gray-400",children:["(",s.alias.map(a=>a),")"]})]}),t("span",{className:"size text-gray-400",children:[s.size,"\u9996"]}),t("span",{className:"publishTime text-gray-400",children:["\u53D1\u884C\u65F6\u95F4\uFF1A",C(s.publishTime).format("YYYY-MM-DD")]})]},s.id)})}),oe=o.exports.memo(ne),ce=()=>{const{id:c=""}=x();console.log("artist_column");const[s,n]=o.exports.useState(10),{data:l}=U({id:c}),a=(l==null?void 0:l.songs)||[];return e("div",{className:"column p-8",children:t("div",{className:"column_item",children:[e("div",{className:"cover",children:t("div",{className:"Top50 flex-none bg-black bg-opacity-50 flex-center flex-col font-bold rounded w-full h-full text-white",children:[e("div",{className:"text-4xl",children:"TOP"}),e("div",{className:"text-6xl",children:"50"})]})}),t("div",{className:"aside flex-auto ml-20 w-0",children:[t("div",{className:"flex",children:[e("span",{className:"font-bold text-base",children:"\u70ED\u95E850\u9996"}),t("div",{className:"flex items-center",children:[e("button",{type:"button",className:"flex-none border rounded-full flex-center mx-3 p-1",children:e(E,{size:10,className:"fill-current"})}),e("span",{className:"text-gray-300",children:"|"}),e("button",{type:"button",className:"mx-3",children:e(z,{size:20,stroke:1})})]})]}),t("div",{className:"list mt-2",children:[a.slice(0,s).map((i,r)=>t("div",{className:_("item hover:bg-gray-100 focus:outline-none focus:bg-gray-200",{"bg-gray-50":r%2===0}),tabIndex:2,children:[e("div",{className:"index flex-none text-right text-gray-400",children:String(r+1).padStart(2,"0")}),e("div",{className:"heart flex-none text-center",children:e(P,{id:i.id})}),e("div",{className:"download flex-none text-center",children:e("button",{type:"button",className:"text-gray-500 hover:text-black",children:e(k,{size:16,stroke:1})})}),t("div",{className:"name flex-auto flex flex-auto min-w-0 px-2.5",children:[t("span",{className:"truncate",title:`${i.name}(${i.alia.map(d=>d)})`,children:[i.name,"\xA0",e("span",{className:"text-gray-400",children:i.alia.map(d=>d)})]}),e(H,{item:i,className:"flex-none"})]}),e("div",{className:"duration text-gray-400 flex-none",children:C(i.dt).format("mm:ss")})]},i.id)),s===10&&a.length>10&&t("button",{type:"button",className:"seeMore",onClick:()=>n(50),children:["\u67E5\u770B\u5168\u90E8",a.length,"\u9996 >"]})]})]})]})})},de=o.exports.memo(ce),D=[["Grid",B],["List",T],["Column",V]],me={Grid:le,List:oe,Column:de},ue=o.exports.memo(function(){const{id:s=""}=x(),[n="Grid",l,a]=ee("layout",D[0][0]),{data:i,isLoading:r}=K({id:s}),d=(i==null?void 0:i.hotAlbums)||[];return i!=null&&i.more,r?e(w,{}):t("div",{className:"domArtist_section relative",children:[e("div",{className:"absolute right-8 bottom-full actions ml-auto space-x-0.5 flex rounded-sm overflow-hidden",children:D.map(([u,h])=>e("button",{type:"button",className:_("px-1.5 py-0.5 bg-gray-200","handle",u===n&&"bg-gray-400 text-white"),onClick:()=>l(u),children:e(h,{size:14,stroke:1})},u))}),e("div",{className:"domArtist_section_layout",children:o.exports.createElement(me[n],{hotAlbums:d,id:s})})]})}),pe=()=>{var l;const{id:c=""}=x(),{data:s,isLoading:n}=O({id:c});return n?e(w,{}):t("div",{className:"domArtist_section p-8 leading-8 text-sm select-text",children:[e("div",{className:"domArtist_subtitle font-bold",children:"\u7B80\u4ECB"}),e("div",{className:"domArtist_article text-gray-500 indent-8",children:s==null?void 0:s.briefDesc}),e("br",{}),e("br",{}),(l=s==null?void 0:s.introduction)==null?void 0:l.map(a=>t("div",{className:"select-text",children:[e("div",{className:"domArtist_subtitle font-bold",children:a.ti}),e("div",{className:"domArtist_article text-gray-500 whitespace-pre-line",children:a.txt})]},a.ti))]})},he=o.exports.memo(pe),M=24,xe=o.exports.memo(function(){const{id:s=""}=x(),[n,l]=X([]),[a,{isLoading:i}]=q(),r=o.exports.useRef(!0),d=o.exports.useRef(0),u=o.exports.useRef(null),h=o.exports.useRef(null);return se(async()=>{if(!!r.current)try{const{data:m}=await a({id:s,limit:M,offset:d.current});d.current+=M;const N=(m==null?void 0:m.mvs)||[],b=(m==null?void 0:m.hasMore)||!1;r.current=b,l(v=>{v.push(...N.map(({id:g,imgurl:y,duration:A,name:F,playCount:f})=>({id:g,duration:A,playCount:f,cover:y,title:F,type:"0"})))})}catch(m){console.log(m)}},u,h),t("div",{className:"domArtist_section p-8",children:[e(te,{list:n}),e("div",{ref:h,className:"flex-center",children:i&&e(w,{})})]})}),fe=()=>{const{id:c=""}=x(),{data:s,isLoading:n}=J({id:c}),l=(s==null?void 0:s.artists)||[];return n?e(w,{}):l.length===0?e("div",{className:"text-center text-gray-400 text-sm pt-16",children:"\u6CA1\u6709\u76F8\u4F3C\u6B4C\u624B"}):e("div",{className:"p-8",children:e("div",{className:"grid grid-cols-5 gap-5",children:l.map(a=>t("div",{className:"space-y-2",children:[e(p,{to:`/artist/${a.id}`,className:"block rounded overflow-hidden border",children:e("img",{loading:"lazy",className:"aspect-square object-fit w-full h-full",src:`${a.picUrl}?param=200y200`,alt:""})}),e("div",{children:e(p,{to:`/artist/${a.id}`,className:"text-sm",children:a.name})})]},a.id))})})},Ne=o.exports.memo(fe),L=[["\u4E13\u8F91","Album"],["MV","MV"],["\u6B4C\u624B\u8BE6\u60C5","Desc"],["\u76F8\u4F3C\u6B4C\u624B","Similarity"]],be={Album:ue,MV:xe,Desc:he,Similarity:Ne},ve=o.exports.memo(function(){const[s,n]=o.exports.useState(L[0][1]);return t("div",{className:"domArtist overflow-auto max-h-full flex-auto",children:[e(ie,{}),t("div",{children:[t("div",{className:"flex mx-8",children:[e("div",{className:"flex gap-4 text-sm",children:L.map(([l,a])=>e("button",{onClick:()=>n(a),type:"button",className:_(s===a&&"font-bold ui_underline"),children:l},a))}),e("div",{className:"relative ml-auto"})]}),o.exports.createElement(be[s])]})]})}),ge=()=>e(W,{children:e(Z,{path:":id",element:e(ve,{})})}),Ie=ge;export{Ie as default};
