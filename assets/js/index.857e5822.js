import{r as l}from"./react.b31a8c6f.js";import{L as i,b as C,N as O,O as J,R as Q,c as x,d as T}from"./react-router-dom.a24b11ac.js";import{c as d}from"./react-slick.acd8094e.js";import{M as F,H as _,S as $,A as B,d as E,aO as K,L as A,aH as q,u as D,n as w,aP as S,aQ as W,aR as X,aS as Y,aT as Z,ab as ee,P as ae}from"./index.d8af5014.js";import{R as k}from"./Rank.b2775969.js";import{D as I}from"./Download.72773cf9.js";import{A as R}from"./Album.c8b5908d.js";import{j as e,a as t,F as se}from"./qrcode.react.3591e685.js";import{i as te}from"./@tabler/icons.addb6b49.js";import{G as re}from"./Home.20b0fbdf.js";import{G as le}from"./Gender.7c5c367d.js";import"./lodash.f41ef0b4.js";import"./react-transition-group.9b01a212.js";import"./react-dom.5b11e026.js";import"./react-redux.47a27303.js";import"./immer.9a3c9cc9.js";import"./axios.fa0829fd.js";import"./store.066dccc1.js";import"./rxjs.3527ed23.js";import"./react-use.a43874bd.js";const ce=({pop:s=0})=>e("div",{className:"range w-20 h-1.5 rounded bg-gray-200",children:e("div",{className:"h-full bg-gray-300 rounded",style:{width:`${s}%`}})}),j=l.exports.memo(ce),ne=({songs:s=[]})=>t("div",{className:"songs_list",children:[e("div",{className:"thead",children:t("div",{className:"item grid items-center text-gray-400 ui_grid_template_song",children:[e("div",{className:"index"}),e("div",{className:"heart"}),e("div",{className:"download"}),e("div",{className:"name flex-auto px-2",children:"\u97F3\u4E50\u6807\u9898"}),e("div",{className:"artist flex-none px-2",children:"\u6B4C\u624B"}),e("div",{className:"album flex-none px-2",children:"\u4E13\u8F91"}),e("div",{className:"duration flex-none px-2",children:"\u65F6\u957F"}),e("div",{className:"flex-none px-2",children:"\u70ED\u5EA6"})]})}),e("div",{className:"tbody",children:s.map((a,r)=>e(F,{schema:[["\u8BC4\u8BBA","\u64AD\u653E","\u4E0B\u4E00\u9996\u64AD\u653E"],["\u6536\u85CF\u5230\u6B4C\u5355","\u5206\u4EAB","\u590D\u5236\u94FE\u63A5","\u4E0B\u8F7D"]],item:a,type:"song",children:t("div",{tabIndex:2,className:d("item grid items-center hover:bg-gray-100 focus:bg-gray-200 focus:outline-none ui_grid_template_song",{"bg-gray-50":r%2===0}),children:[e("div",{className:"index px-2",children:e(k,{index:r,id:a.id})}),e("div",{className:"heart text-center",children:e(_,{id:a.id})}),e("div",{className:"download text-center",children:e(I,{})}),e("div",{className:"name px-2",children:e($,{item:a})}),e("div",{className:"artist flex-none px-2 truncate text-gray-400",children:e(B,{artists:a.ar})}),e("div",{className:"album truncate flex-none px-2",children:e(R,{name:a.al.name,id:a.al.name})}),e("div",{className:"duration text-gray-400 truncate flex-none px-2",children:E(a.dt).format("mm:ss")}),e("div",{className:"",children:e(j,{pop:a.pop})})]})},a.id))})]}),ie=l.exports.memo(ne),oe={"--grid-template-columns":"60px 6fr min-content"},de=({artists:s=[]})=>e("div",{className:"artists_list _list",style:oe,children:s.map((a,r)=>t("div",{className:d("item relative grid items-center hover:bg-gray-100",{"bg-gray-50":r%2===1}),children:[e(i,{to:`/artist/${a.id}`,className:"absolute inset-0"}),e("div",{className:"cover",children:e("img",{className:"",src:`${a.img1v1Url}?param=60y60`,alt:""})}),t("div",{className:"name px-2.5 text-sm",children:[a.name,a.alia&&t("span",{className:"text-gray-400",children:["(",a==null?void 0:a.alias[0],")"]})]}),a.accountId&&e("span",{className:"account bg-red-500 w-4 h-4 rounded-full text-white flex-center",children:e(te,{size:12,stroke:3})})]},a.id))}),ue={"--grid-template-columns":"60px 1fr 1fr"},me=({albums:s=[]})=>e("div",{className:"albums_list _list",style:ue,children:s.map((a,r)=>t("div",{tabIndex:2,className:d("item grid items-center relative hover:bg-gray-100",{"bg-gray-50":r%2===1}),children:[e(i,{className:"absolute inset-0 z-0",to:`/playlist/album/${a.id}`}),e("div",{className:"cover",children:e("img",{src:`${a.picUrl}?param=60y60`,alt:""})}),t("div",{className:"name px-5 text-sm",children:[a.name,a.alias.length>0&&e("span",{className:"text-gray-400",children:`\uFF08${a.alias}\uFF09`})]}),e("div",{className:"artist truncate",children:t(i,{to:`/artist/${a.artist.id}`,className:"ui_text_gray_hover relative z-10",children:[a.artist.name,a.artist.alias.length>0&&e("span",{className:"text-gray-400",children:`\uFF08${a.artist.alias}\uFF09`})]})})]},a.id))}),he=l.exports.memo(me),pe=({videos:s=[]})=>{const a=s.map(({type:r,title:n,coverUrl:o,playTime:c,creator:u,vid:m,durationms:p})=>({id:m,type:r,title:n,creator:u,playCount:c,duration:p,cover:o}));return e("div",{className:"videos_list py-5 px-10",children:e(re,{list:a})})},ge=l.exports.memo(pe),Ne={"--grid-template-columns":"60px 6fr 2fr 5fr"},xe=({playlists:s=[]})=>e("div",{className:"playlists_list _list",style:Ne,children:s.map((a,r)=>t("div",{className:d("item grid items-center relative hover:bg-gray-100",{"bg-gray-50":r%2===1}),children:[e(i,{className:"absolute inset-0 z-0",to:`/playlist/music/${a.id}`}),e("div",{className:"cover",children:e("img",{className:"",src:`${a.coverImgUrl}?param=60y60`,alt:""})}),e("div",{className:"name px-3",children:a.name}),t("div",{className:"trackCount text-gray-400",children:[a.trackCount,"\u9996"]}),t("div",{className:"creator text-gray-300",children:["by \xA0",e(i,{to:`/user/${a.creator.userId}`,className:"ui_text_black_hover relative z-10",children:a.creator.nickname})]})]},a.id))}),ve="_lrc_1aibo_1",ye="_content_1aibo_5",b={lrc:ve,content:ye},fe=({lyrics:s=[]})=>{const a=l.exports.useRef(),[r,n]=l.exports.useState(!1);l.exports.useEffect(()=>{a.current=s.join(`
`).replace(/<b>|<\/b>/gm,"")},[s]);const o=()=>{const c=document.createElement("textarea");c.setAttribute("readonly","readonly"),c.textContent=a.current,document.body.appendChild(c),c.select(),document.execCommand("copy")&&(document.execCommand("copy"),console.log("\u590D\u5236\u6210\u529F")),document.body.removeChild(c)};return t("div",{className:d(b.lrc,"flex pb-2"),children:[e("div",{className:d(b.content,"w-2/3 px-2 text-gray-500"),children:s.slice(0,r?1/0:4).map((c,u)=>e("div",{dangerouslySetInnerHTML:{__html:c}},c+u))}),t("div",{className:"actions w-1/3 flex flex-col justify-between",children:[t("div",{className:"flex space-x-2.5",children:[t("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full",onClick:()=>n(!r),children:[r?"\u6536\u8D77":"\u5C55\u5F00","\u6B4C\u8BCD"]}),e("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full clip",onClick:o,children:"\u590D\u5236\u6B4C\u8BCD"})]}),r&&t("div",{className:"flex space-x-2.5",children:[e("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full",onClick:()=>n(!1),children:"\u6536\u8D77\u6B4C\u8BCD"}),e("button",{type:"button",className:"flex-center border border-gray-400 px-3 h-6 hover:bg-gray-300 rounded-full clip",onClick:o,children:"\u590D\u5236\u6B4C\u8BCD"})]})]})]})},be=l.exports.memo(fe),Ce=({songs:s=[]})=>t("div",{className:"lyrics_list",children:[e("div",{className:"thead",children:t("div",{className:"item grid items-center text-gray-400 ui_grid_template_song",children:[e("div",{className:"index"}),e("div",{className:"heart"}),e("div",{className:"download"}),e("div",{className:"name",children:"\u97F3\u4E50\u6807\u9898"}),e("div",{className:"artist",children:"\u6B4C\u624B"}),e("div",{className:"album",children:"\u4E13\u8F91"}),e("div",{className:"duration",children:"\u65F6\u957F"}),e("div",{className:"text-gray-400",children:"\u70ED\u5EA6"})]})}),e("div",{className:"tbody",children:s.map((a,r)=>e(F,{schema:[["\u8BC4\u8BBA","\u64AD\u653E","\u4E0B\u4E00\u9996\u64AD\u653E"],["\u6536\u85CF\u5230\u6B4C\u5355","\u5206\u4EAB","\u590D\u5236\u94FE\u63A5","\u4E0B\u8F7D"]],item:a,type:"song",children:t("div",{tabIndex:2,className:d("item grid items-center hover:bg-gray-100 focus:outline-none focus:bg-gray-200 ui_grid_template_song",{"bg-gray-50":r%2===0}),children:[e("div",{className:"index pr-2",children:e(k,{index:r,id:a.id})}),e("div",{className:"heart",children:e(_,{id:a.id})}),e("div",{className:"download",children:e(I,{})}),e("div",{className:"name flex",children:e($,{item:a})}),e("div",{className:"artist truncate",children:e(B,{artists:a.ar})}),e("div",{className:"album truncate",children:e(R,{name:a.al.name,id:a.al.id})}),e("div",{className:"duration text-gray-400 truncate",children:E(a.dt).format("mm:ss")}),e("div",{children:e(j,{pop:a.pop})}),e(be,{lyrics:a.lyrics})]})},a.id))})]}),Fe=l.exports.memo(Ce),_e={"--grid-template-columns":"60px 5fr 2fr"},$e=({djRadios:s=[]})=>e("div",{className:"djRadios_list _list",style:_e,children:s.map((a,r)=>t("div",{className:d("item grid items-center hover:bg-gray-100",{"bg-gray-50":r%2===0}),children:[e(i,{to:`/playlist/dj/${a.id}`,className:"cover",children:e("img",{className:"",src:`${a.picUrl}?param=60y60`,alt:""})}),e("div",{className:"px-5",children:e(i,{to:`/playlist/dj/${a.id}`,className:"name",children:a.name})}),t("div",{className:"dj text-gray-300",children:["by \xA0",e(i,{to:`/user/${a.dj.userId}`,className:"ui_text_gray_hover",children:a.dj.nickname})]})]},a.id))}),Be=l.exports.memo($e),Ee={"--grid-template-columns":"60px 5fr 2fr"},Ae=({userprofiles:s=[]})=>e("div",{className:"userprofiles_list _list",style:Ee,children:s.map((a,r)=>t(i,{to:`/user/${a.userId}`,className:d("item grid items-center hover:bg-gray-100",{"bg-gray-50":r%2===1}),children:[e("div",{className:"rounded-full overflow-hidden",children:e("img",{src:`${a.avatarUrl}?param=60y60`,alt:""})}),t("div",{className:"name px-5",children:[a.nickname,"\xA0",e(le,{size:16,gender:a.gender})]}),e("div",{className:"signature text-gray-400 ml-auto",children:a.signature})]},a.userId))}),De=l.exports.memo(Ae),we=["\u5355\u66F2","\u6B4C\u624B","\u4E13\u8F91","\u89C6\u9891","\u6B4C\u5355","\u6B4C\u8BCD","\u4E3B\u64AD\u7535\u53F0","\u7528\u6237"],L={\u5355\u66F2:{code:1,unit:"\u9996",limit:100,Node:ie,countName:"songCount"},\u6B4C\u624B:{code:100,unit:"\u4F4D",limit:20,Node:de,countName:"artistCount"},\u4E13\u8F91:{code:10,unit:"\u5F20",limit:20,Node:he,countName:"albumCount"},\u89C6\u9891:{code:1014,unit:"\u4E2A",limit:24,Node:ge,countName:"videoCount"},\u6B4C\u5355:{code:1e3,unit:"\u4E2A",limit:20,Node:xe,countName:"playlistCount"},\u6B4C\u8BCD:{code:1006,unit:"\u9996",limit:20,Node:Fe,countName:"songCount"},\u4E3B\u64AD\u7535\u53F0:{code:1009,unit:"\u4E2A",limit:100,Node:Be,countName:"djRadiosCount"},\u7528\u6237:{code:1002,unit:"\u4F4D",limit:20,Node:De,countName:"userprofileCount"}},Se={artist:({item:s})=>{var a;return t(i,{to:`/artist/${s.id}`,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",children:[e("img",{className:"h-10 object-fit rounded-full",src:`${s.picUrl}?param=60y60`,alt:""}),t("div",{className:"px-2 flex-1 w-0",children:[t("div",{className:"truncate text-sm",children:["\u6B4C\u624B\uFF1A",s.name,((a=s.alias)==null?void 0:a.length)>0&&e("span",{className:"text-gray-400",children:`(${s.alias})`})]}),t("div",{className:"text-gray-400",children:["\u7C89\u4E1D\u6570:",q(s.fansSize),",\u6B4C\u66F2:",s.musicSize]})]})]})},album:({item:s})=>{var a;return t(i,{to:`/playlist/album/${s.id}`,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",children:[e("img",{className:"h-10",src:`${s.blurPicUrl}?param=60y60`,alt:""}),t("div",{className:"px-2 flex-1 w-0",children:[t("div",{className:"text-sm truncate",children:["\u4E13\u8F91\uFF1A",s.name,((a=s.alias)==null?void 0:a.length)>0&&e("span",{className:"text-gray-400",children:`(${s.alias})`})]}),e("div",{className:"text-gray-400",children:s.artist.name})]})]})},orpheus:({item:s})=>null,new_mlog:({item:s})=>null,playlist:({item:s})=>t(i,{to:`/playlist/music/${s.id}`,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",title:s.name,children:[e("img",{className:"h-10",src:`${s.coverImgUrl}?param=60y60`,alt:""}),t("div",{className:"px-2 flex-1 w-0",children:[t("div",{className:"text-sm truncate",children:["\u6B4C\u5355\uFF1A",s.name]}),e("div",{className:"text-gray-400",children:s.creator.name})]})]}),concert:({item:s})=>t("a",{target:"_blank",href:s.url,className:"h-16 w-1/3 flex items-center bg-gray-100 rounded overflow-hidden px-2",title:s.title,children:[e("img",{className:"h-10",src:`${s.cover}?param=60y60`,alt:""}),t("div",{className:"px-2 flex-1 w-0",children:[t("div",{className:"text-sm truncate",children:["\u6F14\u5531\u4F1A\uFF1A",s.title]}),e("div",{className:"text-gray-400 truncate",children:s.artists})]})]})},ke=({keywords:s})=>{var o;const{data:a,isLoading:r}=K({keywords:s}),n=(a==null?void 0:a.result)||{};return((o=n==null?void 0:n.orders)==null?void 0:o.length)===0?null:r?e(A,{}):t("div",{className:"py-4",children:[e("div",{className:"text-gray-500",children:"\u4F60\u53EF\u80FD\u611F\u5174\u8DA3"}),e("div",{className:"mt-2 flex gap-3",children:n.orders.map(c=>l.exports.createElement(Se[c],{item:n[c][0],key:c}))})]})},Ie=l.exports.memo(ke),Re=()=>{var c;const{keywords:s="",type:a=""}=C(),r=D(),{count:n=0}=w(S);l.exports.useEffect(()=>{r(W({keywords:s}))},[s]);const o=((c=L[a])==null?void 0:c.unit)||"";return t("div",{className:"domSearch overflow-auto max-h-full flex-auto",children:[t("div",{className:"px-8 py-5",children:[t("div",{className:"h1",children:["\u641C\u7D22 ",s]}),e(Ie,{keywords:s}),t("div",{className:"mt-5 flex items-center",children:[e("div",{className:"flex gap-4",children:we.map(u=>e(O,{to:encodeURIComponent(u),className:({isActive:m})=>d("text-sm",m&&"font-bold ui_underline"),children:u},u))}),t("div",{className:"ml-auto text-gray-400",children:["\u627E\u5230 ",n,o," ",a]})]})]}),e(J,{})]})},je=l.exports.memo(Re);const Le=()=>{console.log("entry search");const{keywords:s="",type:a=""}=C(),r=D(),[n,o]=l.exports.useState(1),[c,u]=l.exports.useState({}),[m,p]=l.exports.useState(0),{code:P,limit:g,Node:U,countName:z}=L[a],{keywords:M}=w(S),[G,{isLoading:H}]=X();l.exports.useEffect(()=>{r(Y({count:m}))},[m]),l.exports.useEffect(()=>{M||r(Z({keywords:s}))},[s]);const V=async h=>{var f;const N=await G({keywords:s,limit:g,type:P,offset:(h-1)*g}),y=((f=N==null?void 0:N.data)==null?void 0:f.result)||{};u(y),p(y[z])},v=h=>{o(h),V(h)};return l.exports.useEffect(()=>{r(ee()),v(1)},[s,a]),H?e("div",{className:"pt-48 flex-center",children:e(A,{})}):t(se,{children:[l.exports.createElement(U,c),e(ae,{total:Math.ceil(m/g),page:n,func:v})]})},Pe=l.exports.memo(Le),Ue=()=>e(Q,{children:t(x,{path:":keywords",element:e(je,{}),children:[e(x,{path:":type",element:e(Pe,{})}),e(x,{index:!0,element:e(T,{to:"\u5355\u66F2",replace:!0})})]})}),la=l.exports.memo(Ue);export{la as default};
