(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[4725],{1569:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var n=a(7329),r=(a(4916),a(4765),a(2222),a(7327),a(1249),a(8309),a(3804)),c=a.n(r),l=a(5325),s=a(847),o=a(4184),u=a.n(o),i=a(6198),m=a(9158),f=a(8234),h=a(9351),d=a(5200);const p=function(e){var t=e.handleSearch,a=(0,l.useDispatch)(),n=(0,r.useState)(!1),o=(0,h.Z)(n,2),u=o[0],m=o[1],f=(0,r.useRef)(),p=(0,l.useSelector)((function(e){return e.search})).searchHistory;return(0,r.useEffect)((function(){f.current.clientHeight>66&&m(!0)}),[]),c().createElement(c().Fragment,null,c().createElement("div",{className:"subtitle flex items-center px-5 py-2 text-gray-500"},c().createElement("span",{className:"text-sm"},"搜索历史")," ",c().createElement("button",{type:"button",onClick:function(){a((0,i.Uz)([]))}},c().createElement(d.IconTrash,{size:16})),u&&c().createElement("button",{type:"button",onClick:function(){return m(!1)},className:"ml-auto ui_text_black_hover"},"查看全部")),c().createElement("div",{className:"px-5",style:u?{height:66,overflow:"hidden"}:null,ref:f},c().createElement("div",{className:"searchHistory flex flex-wrap -m-1"},p.map((function(e){return c().createElement(s.Link,{key:e,to:"/search/".concat(e),onClick:function(){return t(e)},className:"item group hover:bg-gray-100 border rounded-full relative m-1 py-1 px-4"},e,c().createElement("button",{type:"button",className:"ico absolute opacity-0 group-hover:opacity-100 inset-y-0 m-auto text-gray-400",onClick:function(t){var n;t.preventDefault(),t.stopPropagation(),n=e,a((0,i.Uz)(p.filter((function(e){return e!==n}))))}},c().createElement(d.IconX,{size:14,stroke:2})))})))))},x=function(){var e,t=(0,l.useDispatch)(),a=(0,l.useSelector)((function(e){return e.search})),r=a.searchValue,o=a.searchHot,h=a.searchSuggest,d=a.searchHistory,x=(0,l.useSelector)((function(e){return e.mask})).searchVisibility,E=function(e){t((0,m.xJ)()),t((0,i.gI)({searchValue:e})),t((0,i.Uz)([e].concat((0,n.Z)(d.filter((function(t){return t!==e}))))))};return x?c().createElement(f.Z,null,c().createElement("div",{className:"absolute domHeader_search_box shadow rounded bg-white py-2 z-10"},r?c().createElement("div",{className:"domHeader_search_box_value overflow-auto h-full flex-auto"},c().createElement(s.Link,{to:"/search/".concat(r),onClick:function(){return E(r)}},'搜索"',c().createElement("span",{className:"ui_link"},r),'"相关的结果>'),null==h||null===(e=h.order)||void 0===e?void 0:e.map((function(e,t){return c().createElement("div",{key:e},h[e].map((function(e){return c().createElement("div",{key:e.id},e.name)})))}))):c().createElement("div",{className:"domHeader_search_box_noValue overflow-auto h-full flex-auto"},d.length>0&&c().createElement(p,{handleSearch:E}),c().createElement("div",{className:"subtitle px-5 py-3 text-sm text-gray-400"},"热搜榜"),c().createElement("div",{className:"list"},o.map((function(e,t){return c().createElement(s.Link,{to:"/search/".concat(e.searchWord),onClick:function(){return E(e.searchWord)},className:"item flex items-center w-full hover:bg-gray-100",key:e.content},c().createElement("span",{className:u()("index flex-center text-base",t<3?"text-red-500":"text-gray-300")},t+1),c().createElement("div",{className:"aside flex-auto"},c().createElement("div",{className:"name flex items-baseline"},c().createElement("span",{className:"searchWord font-bold text-sm"},e.searchWord)," ",e.iconUrl&&c().createElement(c().Fragment,null,c().createElement("img",{className:"ico max-w-8 max-h-3",src:e.iconUrl,alt:""})," "),c().createElement("span",{className:"text-gray-400"},e.score)),c().createElement("div",{className:"content mt-2 text-gray-400"},e.content)))})))))):null}}}]);