"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[9259],{68809:(e,t,a)=>{a.r(t);var n=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=a(63038),c=(0,n.Z)(l),u=a(48926),o=(0,n.Z)(u),i=a(49064),r=(0,n.Z)(i),s=a(87757),m=(0,n.Z)(s);a(92222),a(21249),a(68309),a(57327),a(69600);var f=a(87363),d=(0,n.Z)(f),E=a(66711),_=a(21624),N=a(16719),x=a(93011),b=a(90266),y=a(63233),p=a(15295),k=(0,n.Z)(p),h=a(27704),v=(0,n.Z)(h);a(55875),exports.default=function(){var e=(0,_.useDispatch)(),t=(0,_.useSelector)((function(e){return e.common})).baseUrl,a=(0,_.useSelector)((function(e){return e.account})),n=a.profile,l=a.playlist,u=(0,_.useSelector)((function(e){return e.mask})),i=u.contextMenuVisibility,s=u.contextMenuX,p=u.contextMenuY,h=u.contextMenuItem,M=u.contextMenuTotal,P=u.contextMenuSechma,I=u.contextMenuType,C=u.contextMenuItemId,g=(0,_.useSelector)((function(e){return e.inset})),z=g.globalX,S=g.globalY,w=l.filter((function(e){return!1===e.subscribed})),D="".concat(t,"/").concat(I,"?id=").concat(C,"&userId=").concat(n.userId);(0,f.useEffect)((function(){e((0,x.setContextMenuShareLink)({contextMenuShareLink:D}))}),[]);var L=function(){e((0,b.setAudioImmediate)({currentSong:h})),e((0,x.setDialogReset)())},T=function(){e((0,b.setAudioImmediateNext)({currentSong:h})),e((0,x.setDialogReset)())},V=function(){console.log("播放歌单")},Z=function(){console.log("下一首播放歌单")},R=function(){var t=(0,o.default)(m.default.mark((function t(){var a,n;return m.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,y.apiMVSub)({mvid:C,t:1});case 3:a=t.sent,n=a.message,e((0,x.setDialogReset)()),e((0,x.setToast)(n)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),j=function(){(0,k.default)(D,(function(){e((0,x.setToast)("复制链接成功"))})),e((0,x.setDialogReset)())},A=function(){e((0,x.setDialogCreatePlaylistShow)())},F=(0,f.useCallback)((function(){return e((0,x.setDialogShareShow)())}),[]),O=(0,f.useMemo)((function(){var t,a=(t=function(){return e((0,x.setDialogReset)())},{评论:function(e){var a=e.contextMenuItem,n=e.contextMenuTotal,l=e.contextMenuType;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement(E.Link,{to:"/comment/".concat(l,"/").concat(a.id),onClick:t,className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconMessage,{size:22,stroke:1})),"查看评论 (",n,")"))},播放:function(e){var t=e.handlePlay;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconPlayerPlay,{size:22,stroke:1})),"播放(Enter)"))},下一首播放:function(e){var t=e.handlePlayNext;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconArrowForward,{size:22,stroke:1})),"下一首播放"))},播放歌单:function(e){var t=e.handlePlayPlaylist;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconPlayerPlay,{size:22,stroke:1})),"播放(Enter)"))},下一首播放歌单:function(e){var t=e.handlePlayNextPlaylist;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconArrowForward,{size:22,stroke:1})),"下一首播放"))},查看歌单:function(e){var a=e.contextMenuItem;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement(E.Link,{to:"/playlist/music/".concat(a.id),onClick:t,className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconPlayerPlay,{size:22,stroke:1})),"查看歌单"))},播放MV:function(e){var a=e.contextMenuItem,n=e.contextMenuType;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement(E.Link,{to:"/player/".concat(n,"/").concat(a.id),onClick:t,className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconPlayerPlay,{size:22,stroke:1})),"播放MV"))},收藏MV:function(e){var t=e.handleSubscribeMV;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconFolderPlus,{size:22,stroke:1})),"收藏MV"))},收藏到歌单:function(e){var t=e.handleCreatePlaylist,a=e.ownPlaylist,n=void 0===a?[]:a;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("span",{className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconFolderPlus,{size:22,stroke:1})),"收藏到歌单(Ctrl+S)",d.default.createElement("i",{className:"arrow"})),d.default.createElement("ul",{className:"ui_contextmenu sub"},d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconCirclePlus,{size:22,stroke:1})),"创建新歌单")),d.default.createElement("li",{className:"hr"}),n.map((function(e){return d.default.createElement("li",{className:"ui_contextmenu_item",key:e.id},d.default.createElement("button",{type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},10===e.privacy?d.default.createElement(N.IconLock,{size:22,stroke:1}):d.default.createElement(N.IconMusic,{size:22,stroke:1})),e.name))}))))},分享:function(e){var t=e.handleDialogShare;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{onClick:t,type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconShare,{size:22,stroke:1})),"分享....."))},复制链接:function(e){var t=e.handleCopyLink;return d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",onClick:t,className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconLink,{size:22,stroke:1})),"复制链接"))},不感兴趣:function(e){return(0,r.default)(e),d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("span",{className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconCircleX,{size:22,stroke:1})),"不感兴趣",d.default.createElement("i",{className:"arrow"})),d.default.createElement("ul",{className:"ui_contextmenu sub"},d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"}),"创建新歌单")),d.default.createElement("li",{className:"hr"}),d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"}),"创建新歌单")),d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"}),"创建新歌单"))))},下载:function(){return d.default.createElement("li",{className:"ui_contextmenu_item "},d.default.createElement("span",{className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconDownload,{size:22,stroke:1})),"下载(L)",d.default.createElement("i",{className:"arrow"})),d.default.createElement("ul",{className:"ui_contextmenu sub"},d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconCirclePlus,{size:22,stroke:1})),"创建新歌单")),d.default.createElement("li",{className:"hr"}),d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconMusic,{size:22,stroke:1})),"创建新歌单")),d.default.createElement("li",{className:"ui_contextmenu_item"},d.default.createElement("button",{type:"button",className:"ui_contextmenu_btn "},d.default.createElement("i",{className:"ico"},d.default.createElement(N.IconMusic,{size:22,stroke:1})),"创建新歌单"))))}});return P.map((function(e){return[e.join(","),e.map((function(e){return[e,a[e]]}))]}))}),[P]);return i?d.default.createElement(v.default,null,d.default.createElement("ul",{id:"contextmenu",className:"ui_contextmenu divide-y",style:{left:s-z,top:p-S}},O.map((function(e){var t=(0,c.default)(e,2),a=t[0],n=t[1];return d.default.createElement("div",{key:a},n.map((function(e){var t=(0,c.default)(e,2),a=t[0],n=t[1];return d.default.createElement(n,{contextMenuTotal:M,contextMenuItem:h,handlePlay:L,handlePlayNext:T,handlePlayPlaylist:V,handlePlayNextPlaylist:Z,handleDialogShare:F,handleCopyLink:j,handleCreatePlaylist:A,handleSubscribeMV:R,ownPlaylist:w,contextMenuType:I,key:a})})))})))):null}},35376:(e,t,a)=>{a.r(t);var n=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=a(68809);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(0,n.Z)(l).default}})},55875:(e,t,a)=>{a.r(t)}}]);