(self.webpackChunkwyy=self.webpackChunkwyy||[]).push([[5465],{1259:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(7329),r=a(2137),c=a(9351),l=a(7757),s=a.n(l),m=(a(8309),a(2222),a(3804)),i=a.n(m),o=a(5325),u=a(847),d=a(9965),f=a(5200),v=a(898),x=a(5754),E=a(120),p=a(8157),h=a(8458),N=a(3847);const g=(0,m.memo)((function(){console.log("friend");var e=(0,o.useSelector)((function(e){return e.account})).profile,t=(0,m.useState)([]),a=(0,c.Z)(t,2),l=a[0],g=a[1],k=(0,m.useState)([]),_=(0,c.Z)(k,2),w=_[0],y=_[1],b=(0,o.useDispatch)(),Z=(0,m.useRef)(),F=(0,m.useRef)(),I=(0,m.useRef)(-1),L=function(){var e=(0,r.Z)(s().mark((function e(){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.oy)({limit:5});case 3:t=e.sent,a=t.hot,y(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.Z)(s().mark((function e(){var t,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.Nz)({lasttime:I.current});case 3:t=e.sent,a=t.event,r=t.lasttime,I.current=r,g((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(a))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){g([]),L()}),[]),(0,E.Z)(z,Z,F),i().createElement("div",{className:"domFriend h-full overflow-auto",ref:Z},i().createElement("div",{className:"flex divide-x"},i().createElement("div",{className:"domFriend_left relative flex-auto"},i().createElement("div",{className:"domFriend_header h-14 px-8 flex items-center sticky top-0 z-10 bg-white"},i().createElement("span",{className:"h1"},"动态"),i().createElement("button",{type:"button",className:"flex ml-auto items-center ui_theme_bg_color text-white h-6 px-3 rounded-full"},i().createElement(f.IconPlus,{size:12,stroke:5}),"写动态")),i().createElement("div",{className:"domFriend_content"},i().createElement("div",{className:"px-8"},i().createElement(h.Z,{list:l})),i().createElement("div",{className:"flex-center",ref:F},0===l.length?i().createElement("div",{className:"empty text-center text-gray-400 pt-48"},"暂无动态"):i().createElement(p.Z,null)))),i().createElement("div",{className:"domFriend_right flex-none",style:{width:250}},i().createElement("div",{className:"domFriend_user"},e.userId?i().createElement("div",{className:"logined h-40 pt-8 bg-gray-100"},i().createElement("div",{className:"top flex px-5 items-start"},i().createElement(u.Link,{to:"/user/".concat(e.userId),className:"avatar w-12 h-12 rounded-full overflow-hidden"},i().createElement("img",{className:"",src:"".concat(e.avatarUrl,"?param=100y100"),alt:""})),i().createElement("div",{className:"flex-center"},i().createElement(u.Link,{to:"/user/".concat(e.userId),className:"nickname ml-2.5"},e.nickname)," ",i().createElement(x.ZP,{gender:e.gender,size:14}))),i().createElement("div",{className:"infos flex divide-x text-center mt-4"},i().createElement(u.Link,{to:"/user/".concat(e.userId,"/dynamic"),className:"info flex-1 ui_text_black_hover"},i().createElement("div",{className:"num text-xl"},e.eventCount),i().createElement("div",{className:"string"},"动态")),i().createElement(u.Link,{to:"/user/".concat(e.userId,"/follow"),className:"info flex-1 ui_text_black_hover"},i().createElement("div",{className:"num text-xl"},e.follows),i().createElement("div",{className:"string"},"关注")),i().createElement(u.Link,{to:"/user/".concat(e.userId,"/fans"),className:"info flex-1 ui_text_black_hover"},i().createElement("div",{className:"num text-xl"},e.followeds),i().createElement("div",{className:"string"},"粉丝")))):i().createElement("div",{className:"nologin px-5"},i().createElement("div",{style:{height:170}}),i().createElement("div",{className:"tips text-center text-gray-500"},"登录网易云音乐，可以享受无限收藏的乐趣，并且无限同步到手机"),i().createElement("button",{type:"button",className:"login ui_theme_bg_color text-white w-full h-10 mt-4",onClick:function(){return b((0,v.a6)(!0))}},"立即登录"))),i().createElement("div",{className:"domFriend_hotTopic mt-5"},i().createElement("div",{className:"header flex px-5 mb-2.5"},i().createElement("span",{className:"font-bold"},"热门话题"),i().createElement(u.Link,{className:"text-gray-400 ml-auto",to:"/friend/hotTopic"},"更多 >")),i().createElement(N.Z,{list:w})))))}))}}]);