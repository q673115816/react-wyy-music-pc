{"version":3,"file":"User_Fans.d95da521.js","mappings":"4TAAA,e,aAGA,WACA,WACA,W,aACA,W,8BAEe,IAAAA,OAAK,YAAa,IAAVC,EAAU,EAAVA,IACrBC,QAAQC,IAAI,aACZ,OAA8B,IAAAC,UAAS,IAAvC,qBAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwB,IAAAF,UAAS,IAAjC,qBAAOG,EAAP,KAAaC,EAAb,KAEMC,EAAU,+CAAG,yHAE4BC,QAAQC,IAAI,EACrD,IAAAC,eAAc,CACZX,IAAAA,KAEF,IAAAY,kBAAiB,CACfZ,IAAAA,MAPW,qCAENI,EAFM,KAENA,QAAaS,EAFP,KAEOA,UAQtBR,EAAWD,GACXG,EAAQM,GAXO,kDAafZ,QAAQC,IAAR,MAbe,0DAAH,qDAiBVY,GAAc,IAAAC,aAAA,+CAAY,WAAOC,GAAP,uGAEV,IAAAC,WAAU,CAC1BD,GAAAA,EACAE,EAAG,IAJuB,iBAE5B,gBAIAX,GAAQ,cAAQ,SAACY,GACfA,EAAMA,EAAMC,WAAU,SAACC,GAAD,OAAUA,EAAKC,SAAWN,MAAKO,UAAW,MAPtC,gDAU5BtB,QAAQC,IAAR,MAV4B,yDAAZ,sDAYjB,IAKH,OAHA,IAAAsB,YAAU,WACRhB,MACC,IAED,+BAAKiB,UAAU,sBACb,+BAAKA,UAAU,uCACb,wBAAC,EAAAC,KAAD,CAAMC,GAAG,MACNvB,EAAQwB,UAFb,OAMA,+BAAKH,UAAU,2BACb,wBAAC,UAAD,CAAaI,KAAMvB,EAAMQ,YAAaA,GACpC,+BAAKW,UAAU,SAAf","sources":["webpack://wyy/./src/pages/User/Fans/index.tsx"],"sourcesContent":["import React, {\n  memo, useCallback, useEffect, useState,\n} from 'react';\nimport { apiUserDetail, apiUserFolloweds, apiFollow } from '@/api';\nimport { Link } from 'react-router-dom';\nimport produce from 'immer';\nimport DomCardList from '../components/CardList';\n\nexport default memo(({ uid }) => {\n  console.log('user_fans');\n  const [profile, setProfile] = useState({});\n  const [data, setData] = useState([]);\n\n  const handleInit = async () => {\n    try {\n      const [{ profile }, { followeds }] = await Promise.all([\n        apiUserDetail({\n          uid,\n        }),\n        apiUserFolloweds({\n          uid,\n        }),\n      ]);\n      setProfile(profile);\n      setData(followeds);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleClick = useCallback(async (id) => {\n    try {\n      const { } = await apiFollow({\n        id,\n        t: 1,\n      });\n      setData(produce((draft) => {\n        draft[draft.findIndex((item) => item.userId === id)].followed = true;\n      }));\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  useEffect(() => {\n    handleInit();\n  }, []);\n  return (\n    <div className=\"domUser_followlist\">\n      <div className=\"h1 domUser_subpage_header ui_header\">\n        <Link to=\"./\">\n          {profile.nickname}\n        </Link>\n        的粉丝\n      </div>\n      <div className=\"domUser_followlist_main\">\n        <DomCardList list={data} handleClick={handleClick}>\n          <div className=\"empty\">\n            还没有粉丝\n          </div>\n        </DomCardList>\n      </div>\n    </div>\n  );\n});\n"],"names":["memo","uid","console","log","useState","profile","setProfile","data","setData","handleInit","Promise","all","apiUserDetail","apiUserFolloweds","followeds","handleClick","useCallback","id","apiFollow","t","draft","findIndex","item","userId","followed","useEffect","className","Link","to","nickname","list"],"sourceRoot":""}