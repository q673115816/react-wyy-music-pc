{"version":3,"file":"Home_Dj.c24ceae2.js","mappings":"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","sources":["webpack://wyy/./src/pages/Home/Dj/Home.tsx","webpack://wyy/./src/pages/Home/Dj/Toplist/index.tsx","webpack://wyy/./src/pages/Home/Dj/index.tsx"],"sourcesContent":["import React, { useEffect, useState, memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Lazyload from 'react-lazyload';\nimport { setHomeDj } from '@/reducers/home/slice';\nimport Slider from 'react-slick';\nimport {\n  IconChevronLeft,\n  IconChevronRight,\n  IconChartBar,\n} from '@tabler/icons';\nimport {\n  apiDjBanner,\n  apiDjCatelist,\n  apiDjCategoryRecommend,\n  apiDjPersonalizeRecommend,\n  apiDjRadioHot,\n} from '@/api';\nimport DomSwiper from '@/components/Swiper';\nimport DomLoading from '@/components/Loading';\n\nimport './style.scss';\nimport classNames from 'classnames';\n\nconst DomDjNormal = memo(({ item = {} }) => (\n  <div className=\"item\">\n    <div className=\"cover relative rounded border overflow-hidden\">\n      <Link to={`/playlist/dj/${item.id}`} className=\"ui_aspect-ratio-1/1\">\n        <Lazyload overflow resize>\n          <img className=\"\" src={item.picUrl} alt=\"\" />\n        </Lazyload>\n        <div className=\"absolute bottom-0 left-0 right-0 h-1/4 ui_linear_mask_bottom\" />\n        <div className=\"absolute left-0 bottom-0 max-w-full px-2 py-1 text-white truncate\">\n          {item.name}\n        </div>\n      </Link>\n    </div>\n    <div className=\"footer mt-2 text-sm\">\n      <Link\n        to={`/playlist/dj/${item.id}`}\n        className=\"text-gray-600 hover:text-black\"\n      >\n        {item.rcmdtext}\n      </Link>\n    </div>\n  </div>\n));\n\nconst PrevArrow = ({ onClick }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    className=\"absolute right-full inset-y-0 z-10 w-8 h-8 flex-center text-gray-500 m-auto\"\n  >\n    <IconChevronLeft size={30} stroke={1} />\n  </button>\n);\n\nconst NextArrow = ({ onClick }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    className=\"absolute left-full inset-y-0 z-10 w-8 h-8 flex-center text-gray-500 m-auto\"\n  >\n    <IconChevronRight size={30} stroke={1} />\n  </button>\n);\n\nconst DomCategary = ({ catelist = [] }) => {\n  const settings = {\n    speed: 500,\n    infinite: false,\n    slidesToShow: 8,\n    slidesToScroll: 8,\n    draggable: false,\n    prevArrow: <PrevArrow />,\n    nextArrow: <NextArrow />,\n  };\n  return (\n    <div className=\"domHome_dj_nav px-10 mt-9\">\n      <Slider {...settings}>\n        <div className=\"item\">\n          <Link to=\"/home/dj/toplist\">\n            <div className=\"inner\">\n              <div className=\"btn flex-center ui_themeColor\">\n                <IconChartBar stroke={1} />\n              </div>\n              <div className=\"name text-gray-500 mt-2\">\n                排行榜\n              </div>\n            </div>\n          </Link>\n        </div>\n        {\n          catelist.map((item) => (\n            <div className=\"item\" key={item.id}>\n              <Link to={`/dj-category/${item.name}/${item.id}`}>\n                <div className=\"inner\">\n                  <div className=\"btn flex-center ui_themeColor\">\n                    <img className=\"w-8 h-8\" src={item.pic56x56Url} alt=\"\" />\n                  </div>\n                  <div className=\"name text-gray-500 mt-2\">\n                    {item.name}\n                  </div>\n                </div>\n              </Link>\n            </div>\n          ))\n        }\n      </Slider>\n    </div>\n  );\n};\n\nconst navs = [\n  '创作翻唱',\n  '声之剧场',\n  '音乐故事',\n  '情感调频',\n  '声音恋人'];\n\nexport default memo(() => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(true);\n  const {\n    DjBanner,\n    category,\n    catelist,\n    DjPersonalizeRecommend,\n    result,\n  } = useSelector(({ home }) => home.dj);\n\n  const handleInit = async () => {\n    try {\n      const [\n        DjBanner,\n        category,\n        catelist = [],\n        DjPersonalizeRecommend,\n        创作翻唱,\n        声之剧场,\n        音乐故事,\n        情感调频,\n        声音恋人] = await Promise.all([\n        apiDjBanner(),\n        apiDjCategoryRecommend(),\n        apiDjCatelist(),\n        apiDjPersonalizeRecommend(),\n        apiDjRadioHot({\n          cateId: 2001,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 10001,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 2,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 3,\n          limit: 6,\n        }),\n        apiDjRadioHot({\n          cateId: 3001,\n          limit: 6,\n        }),\n      ]);\n      dispatch(setHomeDj({\n        DjBanner: DjBanner.data,\n        category: category.data,\n        catelist: catelist.categories,\n        DjPersonalizeRecommend: DjPersonalizeRecommend.data,\n        result: {\n          创作翻唱: 创作翻唱.djRadios,\n          声之剧场: 声之剧场.djRadios,\n          音乐故事: 音乐故事.djRadios,\n          情感调频: 情感调频.djRadios,\n          声音恋人: 声音恋人.djRadios,\n        },\n      }));\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, []);\n  if (loading) return <div className=\"flex-center w-full h-full\"><DomLoading /></div>;\n  return (\n    <div className=\"domHome_content px-8 overflow-auto max-h-full flex-auto\">\n      <div className=\"domHome_dj pb-16 ui_w1100\">\n        <div className=\"domHome_dj_banner\">\n          {\n            DjBanner.length > 0 && (\n              <DomSwiper list={DjBanner} coverSrc=\"pic\" />\n            )\n          }\n        </div>\n        <div className=\"domHome_item\">\n          <DomCategary catelist={catelist} />\n        </div>\n        <div className=\"domHome_item mt-8\">\n          <div className=\"domHome_linktitle h1\">电台个性推荐</div>\n          <div className=\"mt-4 grid grid-cols-5 gap-5\">\n            {\n              DjPersonalizeRecommend.slice(0, 5)\n                .map((item) => (\n                  <DomDjNormal item={item} key={item.id} />\n                ))\n            }\n          </div>\n        </div>\n        {\n          navs.map((name) => (\n            <div key={name} className=\"domHome_item mt-8\">\n              <Link className=\"domHome_linktitle h1\" to={`/dj-category/${name}`}>\n                {name}\n                &gt;\n              </Link>\n              <div className=\"mt-4 grid grid-cols-5 gap-5\">\n                {\n                  result[name].slice(0, 5)\n                    .map((item) => (\n                      <DomDjNormal item={item} key={item.id} />\n                    ))\n                }\n              </div>\n            </div>\n          ))\n        }\n      </div>\n\n    </div>\n  );\n});\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from 'react';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport dayjs from 'dayjs';\nimport {\n  IconPlayerPlay, IconArrowUp, IconArrowDown, IconMinus,\n} from '@tabler/icons';\nimport classNames from 'classnames';\nimport { Link, NavLink } from 'react-router-dom';\nimport { apiDjProgramToplist, apiDjToplist } from '@/api';\nimport './style.scss';\n\nconst navs = [\n  ['节目榜', '/home/dj/toplist'],\n  ['新晋电台榜', '/home/dj/toplist/now'],\n  ['热门电台榜', '/home/dj/toplist/hot'],\n];\n\nconst switchs = {\n  default: {\n    map({\n      lastRank,\n      rank,\n      score,\n      program: {\n        id,\n        name,\n        coverUrl,\n        radio: {\n          name: userName,\n          id: userId,\n          category,\n        },\n      },\n    }) {\n      return {\n        id,\n        name,\n        lastRank,\n        rank,\n        coverUrl,\n        score,\n        userName,\n        userId,\n        category,\n      };\n    },\n  },\n  other: {\n    map({\n      id,\n      name,\n      lastRank,\n      rank,\n      picUrl: coverUrl,\n      score,\n      dj: {\n        nickname: userName,\n        userId,\n      },\n      category,\n    }) {\n      return {\n        id,\n        name,\n        lastRank,\n        rank,\n        coverUrl,\n        score,\n        userName,\n        userId,\n        category,\n      };\n    },\n  },\n};\n\nconst TransRank = memo(({ lastRank, rank }) => {\n  switch (true) {\n    case (lastRank === -1):\n      return <div className=\"text-green-500\">new</div>;\n    case (lastRank - rank < 0):\n      return (\n        <div className=\"flex-center text-gray-500\">\n          <IconArrowDown size={10} className=\"text-blue-500\" />\n          {-lastRank + rank}\n        </div>\n      );\n    case (lastRank - rank === 0):\n      return (\n        <div className=\"flex-center text-gray-500\">\n          <IconMinus size={10} />\n          0\n        </div>\n      );\n    case (lastRank - rank > 0):\n      return (\n        <div className=\"flex-center text-gray-500\">\n          <IconArrowUp size={10} className=\"text-red-500\" />\n          {lastRank - rank}\n        </div>\n      );\n    default:\n      return <div />;\n  }\n});\n\nconst DomHeader = memo(({ updateTime }) => (\n  <div className=\"domHome_dj_toplist_header relative py-7\">\n    <div className=\"domHome_dj_toplist_nav m-auto w-min flex rounded-full border\" style={{ borderColor: '#bbb' }}>\n      {\n        navs.map(([name, path]) => (\n          <NavLink\n            key={name}\n            to={path}\n            exact\n            activeStyle={{ backgroundColor: '#bbb' }}\n            activeClassName=\"text-white\"\n            className=\"domHome_dj_toplist_nav_link flex-center w-28 h-8 rounded-full text-center hover:bg-gray-100\"\n          >\n            {name}\n          </NavLink>\n        ))\n      }\n    </div>\n    <div className=\"absolute flex-center top-1/2 transform -translate-y-1/2 right-8 text-gray-400\">\n      最近更新：\n      {updateTime && dayjs(updateTime).format('MM月DD日')}\n      <div className=\"relative ui_group\">\n        <span className=\"block flex-center  border rounded-full w-4 h-4 flex-none\">?</span>\n        <div className=\"absolute text-gray-500 top-6 right-0 shadow rounded p-4 w-48 border hidden ui_group-hover:block bg-white\">\n          选取云音乐中7天内发布的热度最高的节目，热度由节目播放、赞、分享数量总和计算\n        </div>\n      </div>\n    </div>\n  </div>\n));\n\nconst DomItem = memo(({ item, index, maxScore }) => (\n  <div\n    tabIndex=\"2\"\n    className={classNames('item h-20 flex items-center hover:bg-gray-100 focus:bg-gray-100 focus:outline-none', { 'bg-gray-50': index % 2 === 0 })}\n    key={item.id}\n  >\n    <div className=\"index flex flex-col items-center justify-center\">\n      <div className={classNames('font-bold text-sm', {\n        'text-red-500': index < 3,\n        'text-gray-400': index > 2,\n      })}\n      >\n        {index + 1}\n      </div>\n      <div>\n        <TransRank lastRank={item.lastRank} rank={item.rank} />\n      </div>\n    </div>\n    <button type=\"button\" className=\"cover relative\">\n      <img src={`${item.coverUrl}?param=60y60`} alt=\"\" />\n      <i className=\"ico ui_themeColor absolute inset-0 flex-center rounded-full w-6 h-6 m-auto bg-white bg-opacity-90\">\n        <IconPlayerPlay size={16} className=\"fill-current\" />\n      </i>\n    </button>\n    <div className=\"name flex-auto truncate\">\n      {item.name}\n    </div>\n    <div className=\"radio flex-auto truncate\">\n      <Link\n        className=\"ui_text_gray_hover\"\n        to={`/playlist/dj/${item.userId}`}\n      >\n        {item.userName}\n      </Link>\n    </div>\n    <div className=\"category\">\n      <Link to=\"/\" className=\"ui_text_gray_hover border border-current\">\n        {item.category}\n      </Link>\n    </div>\n    <div className=\"score\">\n      <div className=\"rounded bg-gray-300 overflow-hidden h-2\">\n        <div className=\"h-full bg-gray-500 w-0\" style={{ width: `${(item.score / maxScore) * 100}%` }} />\n      </div>\n    </div>\n  </div>\n));\n\nexport default memo(({ type }) => {\n  const [data, setData] = useState([]);\n  const [updateTime, setUpdateTime] = useState();\n  const memoType = useMemo(() => (type ? 'other' : 'default'), [type]);\n  // const obj = {\n  //   lastRank,\n  //   rank,\n  //   name,\n  //   id,\n  //   coverUrl,\n  //   score,\n  //   category,\n  //   radio: {\n  //     userName,\n  //     userId,\n  //   }\n  // };\n  const handleInit = async () => {\n    try {\n      const { toplist, updateTime } = type\n        ? (await apiDjToplist({ type }))\n        : (await apiDjProgramToplist());\n      unstable_batchedUpdates(() => {\n        setData(toplist.map(switchs[memoType].map));\n        setUpdateTime(updateTime);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const maxScore = useMemo(() => data[0]?.score ?? 0, [data]);\n\n  useEffect(() => {\n    handleInit();\n  }, [type]);\n  return (\n    <div className=\"domHome_dj_toplist h-full overflow-auto\">\n      <DomHeader updateTime={updateTime} />\n      <div className=\"domHome_dj_toplist_main\">\n        <div className=\"list\">\n          {\n            data.map((item, index) => (\n              <DomItem item={item} index={index} key={item.id} maxScore={maxScore} />\n            ))\n          }\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { memo } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport useMemoParams from '@/hooks/useMemoParams';\nimport DomHome from './Home';\nimport DomToplist from './Toplist';\n\nexport default memo(() => (\n  <Switch>\n    <Route path=\"/home/dj/toplist/:type?\">\n      {useMemoParams(DomToplist)}\n    </Route>\n    <Route path=\"/home/dj\">\n      <DomHome />\n    </Route>\n  </Switch>\n));\n"],"names":["DomDjNormal","memo","item","className","Link","to","id","overflow","resize","src","picUrl","alt","name","rcmdtext","PrevArrow","onClick","type","IconChevronLeft","size","stroke","NextArrow","IconChevronRight","DomCategary","catelist","settings","speed","infinite","slidesToShow","slidesToScroll","draggable","prevArrow","nextArrow","IconChartBar","map","key","pic56x56Url","navs","dispatch","useDispatch","useState","loading","setLoading","useSelector","home","dj","DjBanner","category","DjPersonalizeRecommend","result","handleInit","Promise","all","apiDjBanner","apiDjCategoryRecommend","apiDjCatelist","apiDjPersonalizeRecommend","apiDjRadioHot","cateId","limit","创作翻唱","声之剧场","音乐故事","情感调频","声音恋人","setHomeDj","data","categories","djRadios","console","log","useEffect","length","list","coverSrc","slice","switchs","default","lastRank","rank","score","program","coverUrl","radio","userName","userId","other","nickname","TransRank","IconArrowDown","IconMinus","IconArrowUp","DomHeader","updateTime","style","borderColor","path","NavLink","exact","activeStyle","backgroundColor","activeClassName","dayjs","format","DomItem","index","maxScore","tabIndex","classNames","IconPlayerPlay","width","setData","setUpdateTime","memoType","useMemo","apiDjToplist","apiDjProgramToplist","toplist","unstable_batchedUpdates","Switch","Route","useMemoParams","DomToplist"],"sourceRoot":""}