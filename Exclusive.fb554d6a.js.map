{"version":3,"file":"Exclusive.fb554d6a.js","mappings":"2NAeA,SAAeA,EAAAA,EAAAA,OAAK,WAClB,IAAQC,GAAWC,EAAAA,EAAAA,cAAXD,OACFE,GAAWC,EAAAA,EAAAA,KACjB,GAA8BC,EAAAA,EAAAA,IAAe,qBAAGC,aAAxCC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAEVC,GAASC,EAAAA,EAAAA,QAAO,GAKhBC,GAAYD,EAAAA,EAAAA,QAAuB,MACnCE,GAAcF,EAAAA,EAAAA,QAAuB,MAmB3C,OAlBAG,EAAAA,EAAAA,IANmB,YACjBC,EAAAA,EAAAA,eAAc,CAAEC,MAHJ,GAGWN,OAAAA,IACvBA,EAAOO,SAJK,KAQUL,EAAWC,IACnCK,EAAAA,EAAAA,YAAU,WACO,SAAXhB,EACFE,GAASe,EAAAA,EAAAA,4BACAP,EAAUK,UACnBL,EAAUK,QAAQR,UAAYA,KAE/B,KACHW,EAAAA,EAAAA,kBACE,kBAAM,WAAM,MACVhB,GACEiB,EAAAA,EAAAA,uBAAsB,CACpBZ,WAAW,UAAAG,EAAUK,eAAV,eAAmBR,YAAa,QAIjD,IAGA,yBAAKa,UAAU,2BAA2BC,IAAKX,GAC7C,yBAAKU,UAAU,YACb,yBAAKA,UAAU,WAAf,QACA,kBAAC,IAAD,CAAQA,UAAU,aAAaE,MAAM,cAAcC,IAAI,eACpDjB,EAAOkB,KAAI,SAACC,GAAD,OACV,yBAAKC,IAAKD,EAAKE,QACb,kBAAC,EAAAC,KAAD,CACEC,GACEJ,EAAKK,QAAL,wBACqBL,EAAKK,SAD1B,qBAEkBL,EAAKM,IAEzBX,UAAU,gDAEV,yBACEY,QAAS,OACTC,IAAKR,EAAKE,OACVP,UAAU,kDACVc,IAAI,KAEN,0BAAMd,UAAU,uHACd,kBAAC,EAAAe,eAAD,CAAgBC,KAAM,GAAIhB,UAAU,mBAGxC,yBAAKA,UAAU,QACb,kBAAC,EAAAQ,KAAD,CACEC,GAAE,qBAAgBJ,EAAKM,IACvBX,UAAU,+BAETK,EAAKY,YAMhB,yBAAKhB,IAAKV","sources":["webpack://wyy/./src/pages/Exclusive/Exclusive.tsx"],"sourcesContent":["import React, { memo, useEffect, useLayoutEffect, useRef } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { IconPlayerPlay } from \"@tabler/icons\";\nimport { apiPersonalizedPrivatecontentList } from \"@/api\";\nimport useInfinite from \"@/hooks/useInfinite\";\nimport { useAppDispatch, useAppSelector } from \"@/reducers/hooks\";\nimport {\n  ResultProps,\n  setExclusiveResultAdd,\n  setExclusiveResultEmpty,\n  setExclusiveScrollTop,\n  handleGetData,\n} from \"@/reducers/exclusive/slice\";\nimport Resize from \"@/components/ResizeObserver\";\n\nexport default memo(() => {\n  const { action } = useHistory();\n  const dispatch = useAppDispatch();\n  const { result, scrollTop } = useAppSelector(({ exclusive }) => exclusive);\n  const limit = 60;\n  const offset = useRef(0);\n  const handleInit = () => {\n    handleGetData({ limit, offset });\n    offset.current += limit;\n  };\n  const DomScroll = useRef<HTMLDivElement>(null);\n  const DomObserver = useRef<HTMLDivElement>(null);\n  useInfinite(handleInit, DomScroll, DomObserver);\n  useEffect(() => {\n    if (action === \"PUSH\") {\n      dispatch(setExclusiveResultEmpty());\n    } else if (DomScroll.current) {\n      DomScroll.current.scrollTop = scrollTop;\n    }\n  }, []);\n  useLayoutEffect(\n    () => () => {\n      dispatch(\n        setExclusiveScrollTop({\n          scrollTop: DomScroll.current?.scrollTop || 0,\n        })\n      );\n    },\n    []\n  );\n  return (\n    <div className=\"overflow-auto p-8 h-full\" ref={DomScroll}>\n      <div className=\"ui_w1100\">\n        <div className=\"h1 pb-4\">独家放送</div>\n        <Resize className=\"grid gap-5\" small=\"grid-cols-2\" big=\"grid-cols-3\">\n          {result.map((item: ResultProps) => (\n            <div key={item.picUrl}>\n              <Link\n                to={\n                  item.videoId\n                    ? `/player/video/${item.videoId}`\n                    : `/player/mv/${item.id}`\n                }\n                className=\"flex relative rounded border overflow-hidden\"\n              >\n                <img\n                  loading={\"lazy\"}\n                  src={item.picUrl}\n                  className=\"w-full h-full object-cover ui_aspect-ratio-24/9\"\n                  alt=\"\"\n                />\n                <span className=\"ico absolute top-2 left-2 rounded-full text-white w-6 h-6 bg-black bg-opacity-40 flex-center border border-gray-200\">\n                  <IconPlayerPlay size={14} className=\"fill-current\" />\n                </span>\n              </Link>\n              <div className=\"mt-2\">\n                <Link\n                  to={`/player/mv/${item.id}`}\n                  className=\"text-sm ui_text_black_hover\"\n                >\n                  {item.name}\n                </Link>\n              </div>\n            </div>\n          ))}\n        </Resize>\n        <div ref={DomObserver} />\n      </div>\n    </div>\n  );\n});\n"],"names":["memo","action","useHistory","dispatch","useAppDispatch","useAppSelector","exclusive","result","scrollTop","offset","useRef","DomScroll","DomObserver","useInfinite","handleGetData","limit","current","useEffect","setExclusiveResultEmpty","useLayoutEffect","setExclusiveScrollTop","className","ref","small","big","map","item","key","picUrl","Link","to","videoId","id","loading","src","alt","IconPlayerPlay","size","name"],"sourceRoot":""}