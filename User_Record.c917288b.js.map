{"version":3,"file":"User_Record.c917288b.js","mappings":"0SAYA,SAAeA,EAAAA,EAAAA,OAAK,YAAa,IAAVC,EAAU,EAAVA,IACbC,GAAYC,EAAAA,EAAAA,cAAY,qBAAGC,WAA3BF,QAER,IAAIA,MAAAA,OAAA,EAAAA,EAASG,UAAWC,OAAOL,GAAM,OAAO,kBAAC,EAAAM,SAAD,CAAUC,GAAG,MACzD,OAAwBC,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAaC,EAAb,KACMC,EAAU,mCAAG,kHAEqBC,EAAAA,EAAAA,IAAc,CAChDd,IAAAA,EACAS,KAAAA,IAJa,gBAEPM,EAFO,EAEPA,QAASC,EAFF,EAEEA,SAIjBJ,EAAiB,IAATH,EAAaO,EAAWD,GANjB,gDAQfE,QAAQC,IAAR,MARe,yDAAH,qDAgBhB,OAJAC,EAAAA,EAAAA,YAAU,WACRN,MACC,CAACJ,EAAMT,IAGR,yBAAKoB,UAAU,uCACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,gBAAf,UACA,yBAAKA,UAAU,2DACb,4BACEC,QAAS,kBAAMX,EAAQ,IACvBD,KAAK,SACLW,UAAWE,GAAAA,CAAW,0BAA2B,CAAE,YAAsB,IAATb,KAHlE,QAOA,4BACEY,QAAS,kBAAMX,EAAQ,IACvBD,KAAK,SACLW,UAAWE,GAAAA,CAAW,0BAA2B,CAAE,YAAsB,IAATb,KAHlE,UASJ,yBAAKW,UAAU,kDAAkDG,MAAO,CAAE,qBAAsB,mCAC9F,yBAAKH,UAAU,uBACZT,EAAKa,KAAI,WAAsBC,GAAtB,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,UAAT,OACR,kBAAC,IAAD,CACEC,KAAMF,EACNG,IAAKH,EAAKI,GACVC,OAAQ,CACN,CACE,KACA,KACA,SAEF,CACE,QACA,KACA,OACA,QAIJ,yBACEC,SAAS,IACTZ,UAAWE,GAAAA,CAAW,qHAAsHG,EAAQ,GAAM,GAAK,eAE/J,yBAAKL,UAAU,uBACb,kBAAC,IAAD,CAASU,GAAIJ,EAAKI,GAAIL,MAAOA,KAE/B,yBAAKL,UAAU,SACb,kBAAC,IAAD,CAAUU,GAAIJ,EAAKI,MAErB,yBAAKV,UAAU,YACb,kBAAC,IAAD,OAEF,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAASQ,KAAMF,KAEjB,yBAAKN,UAAU,2BACZO,EADH","sources":["webpack://wyy/./src/pages/User/Record/index.tsx"],"sourcesContent":["import React, { useEffect, useState, memo } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { apiUserRecord } from '@/api';\nimport DomMenuCreate from '@/components/MenuCreate';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport DomRank from '@/components/Table/Rank';\nimport DomHeart from '@/components/Table/Heart';\nimport DomDownload from '@/components/Table/Download';\nimport DomName from '@/components/Table/Name';\n// import './style.scss';\n\nexport default memo(({ uid }) => {\n  const { profile } = useSelector(({ account }) => account);\n  // console.log(profile, uid);\n  if (profile?.userId !== Number(uid)) return <Redirect to=\"/\" />;\n  const [type, setType] = useState(1);\n  const [data, setData] = useState([]);\n  const handleInit = async () => {\n    try {\n      const { allData, weekData } = await apiUserRecord({\n        uid,\n        type,\n      });\n      setData(type === 1 ? weekData : allData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, [type, uid]);\n\n  return (\n    <div className=\"domUser_record h-full flex flex-col\">\n      <div className=\"flex-none\">\n        <div className=\"h1 ui_header\">我的听歌排行</div>\n        <div className=\"domUser_record_nav px-8 pb-2 border-b space-x-8 text-sm\">\n          <button\n            onClick={() => setType(1)}\n            type=\"button\"\n            className={classNames('domUser_record_nav_link', { 'font-bold': type === 1 })}\n          >\n            最近一周\n          </button>\n          <button\n            onClick={() => setType(0)}\n            type=\"button\"\n            className={classNames('domUser_record_nav_link', { 'font-bold': type === 0 })}\n          >\n            所有时间\n          </button>\n        </div>\n      </div>\n      <div className=\"overflow-auto h-0 flex-auto domUser_record_main\" style={{ '--ui_grid_template': '36px / 24px 24px 24px 10fr 1fr' }}>\n        <div className=\"domUser_record_list\">\n          {data.map(({ song, playCount }, index) => (\n            <DomMenuCreate\n              item={song}\n              key={song.id}\n              schema={[\n                [\n                  '评论',\n                  '播放',\n                  '下一首播放',\n                ],\n                [\n                  '收藏到歌单',\n                  '分享',\n                  '复制链接',\n                  '下载',\n                ],\n              ]}\n            >\n              <div\n                tabIndex=\"2\"\n                className={classNames('domUser_record_item focus:outline-none focus:bg-gray-200 items-center hover:bg-gray-100 ui_grid_template px-8 grid', index % 2 === 1 && 'bg-gray-50')}\n              >\n                <div className=\"index text-gray-400\">\n                  <DomRank id={song.id} index={index} />\n                </div>\n                <div className=\"heart\">\n                  <DomHeart id={song.id} />\n                </div>\n                <div className=\"download\">\n                  <DomDownload />\n                </div>\n                <div className=\"name\">\n                  <DomName item={song} />\n                </div>\n                <div className=\"playCount text-gray-400\">\n                  {playCount}\n                  次\n                </div>\n              </div>\n            </DomMenuCreate>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n});\n"],"names":["memo","uid","profile","useSelector","account","userId","Number","Redirect","to","useState","type","setType","data","setData","handleInit","apiUserRecord","allData","weekData","console","log","useEffect","className","onClick","classNames","style","map","index","song","playCount","item","key","id","schema","tabIndex"],"sourceRoot":""}