"use strict";(this.webpackChunkwyy=this.webpackChunkwyy||[]).push([[4725],{70716:(e,t,a)=>{a.r(t);var r=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=a(63038),n=(0,r.Z)(l);a(74916),a(64765),a(57327),a(21249);var c=a(87363),u=(0,r.Z)(c),s=a(66711),o=a(16719),i=a(1343),d=a(80309);exports.default=(0,c.memo)((function(e){var t=e.handleSearch,a=(0,i.useAppDispatch)(),r=(0,c.useState)(!1),l=(0,n.default)(r,2),f=l[0],m=l[1],h=(0,c.useRef)(null),p=(0,i.useAppSelector)((function(e){return e.search})).searchHistory;return(0,c.useEffect)((function(){h.current&&h.current.clientHeight>66&&m(!0)}),[]),u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"subtitle flex items-center px-5 py-2 text-gray-500"},u.default.createElement("span",{className:"text-sm"},"搜索历史")," ",u.default.createElement("button",{type:"button",onClick:function(){a((0,d.setSearchHistory)([]))}},u.default.createElement(o.IconTrash,{size:16})),f&&u.default.createElement("button",{type:"button",onClick:function(){return m(!1)},className:"ml-auto ui_text_black_hover"},"查看全部")),u.default.createElement("div",{className:"px-5",style:f?{height:66,overflow:"hidden"}:null,ref:h},u.default.createElement("div",{className:"searchHistory flex flex-wrap -m-1"},p.map((function(e){return u.default.createElement(s.Link,{key:e,to:"/search/".concat(e),onClick:function(){return t(e)},className:"item group hover:bg-gray-100 border rounded-full relative m-1 py-1 px-4"},e,u.default.createElement("button",{type:"button",className:"ico absolute opacity-0 group-hover:opacity-100 inset-y-0 m-auto text-gray-400",onClick:function(t){var r;t.preventDefault(),t.stopPropagation(),r=e,a((0,d.setSearchHistory)(p.filter((function(e){return e!==r}))))}},u.default.createElement(o.IconX,{size:14,stroke:2})))})))))}))},78358:(e,t,a)=>{a.r(t);var r=a(29604);Object.defineProperty(t,"__esModule",{value:!0}),a(21249);var l=a(87363),n=(0,r.Z)(l),c=a(66711),u=a(94184),s=(0,r.Z)(u);exports.default=(0,l.memo)((function(e){var t=e.list,a=void 0===t?[]:t,r=e.handleSearch;return n.default.createElement("div",{className:"list"},a.map((function(e,t){return n.default.createElement(c.Link,{to:"/search/".concat(e.searchWord),onClick:function(){return r(e.searchWord)},className:"item flex items-center w-full hover:bg-gray-100",key:e.content},n.default.createElement("span",{className:(0,s.default)("index flex-center text-base flex-none",t<3?"text-red-500":"text-gray-300")},t+1),n.default.createElement("div",{className:"aside flex-auto w-0 px-1"},n.default.createElement("div",{className:"name flex items-center gap-1"},n.default.createElement("span",{className:(0,s.default)("searchWord",t<3?"font-bold":"")},e.searchWord),e.iconUrl&&n.default.createElement("img",{className:"h-2.5",src:e.iconUrl,alt:"hot"}),n.default.createElement("span",{className:"text-gray-400"},e.score)),n.default.createElement("div",{className:"content mt-2 text-gray-400 truncate"},e.content)))})))}))},59068:(e,t,a)=>{a.r(t);var r=a(29604);Object.defineProperty(t,"__esModule",{value:!0});var l=a(319),n=(0,r.Z)(l);a(74916),a(64765),a(92222),a(57327),a(21249),a(68309);var c=a(87363),u=(0,r.Z)(c),s=a(1343),o=a(66711),i=a(80309),d=a(93011),f=a(27704),m=(0,r.Z)(f),h=a(70716),p=(0,r.Z)(h),v=a(78358),y=(0,r.Z)(v);exports.default=(0,c.memo)((function(){var e,t=(0,s.useAppDispatch)(),a=(0,s.useAppSelector)((function(e){return e.search})),r=a.searchValue,l=a.searchHot,c=a.searchSuggest,f=a.searchHistory,h=(0,s.useAppSelector)((function(e){return e.mask})).searchVisibility,v=function(e){t((0,d.setDialogReset)()),t((0,i.setSearchValue)({searchValue:e})),t((0,i.setSearchHistory)([e].concat((0,n.default)(f.filter((function(t){return t!==e}))))))};return h?u.default.createElement(m.default,null,u.default.createElement("div",{className:"absolute domHeader_search_box shadow rounded bg-white py-2 z-10"},r?u.default.createElement("div",{className:"domHeader_search_box_value overflow-auto h-full flex-auto"},u.default.createElement(o.Link,{to:"/search/".concat(r),onClick:function(){return v(r)}},'搜索"',u.default.createElement("span",{className:"ui_link"},r),'"相关的结果>'),null==c||null===(e=c.order)||void 0===e?void 0:e.map((function(e,t){return u.default.createElement("div",{key:e},c[e].map((function(e){return u.default.createElement("div",{key:e.id},e.name)})))}))):u.default.createElement("div",{className:"domHeader_search_box_noValue overflow-auto h-full flex-auto"},f.length>0&&u.default.createElement(p.default,{handleSearch:v}),u.default.createElement("div",{className:"subtitle px-5 py-3 text-sm text-gray-400"},"热搜榜"),u.default.createElement(y.default,{list:l,handleSearch:v})))):null}))}}]);