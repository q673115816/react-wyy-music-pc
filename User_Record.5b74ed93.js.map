{"version":3,"file":"User_Record.5b74ed93.js","mappings":"+PAAA,e,aACA,WACA,WACA,W,aACA,WACA,W,aACA,W,aACA,W,aACA,W,aACA,W,8BAGe,IAAAA,OAAK,YAAa,IAAVC,EAAU,EAAVA,IACbC,GAAY,IAAAC,cAAY,qBAAGC,WAA3BF,QAER,IAAIA,MAAAA,OAAA,EAAAA,EAASG,UAAWC,OAAOL,GAAM,OAAO,wBAAC,EAAAM,SAAD,CAAUC,GAAG,MACzD,OAAwB,IAAAC,UAAS,GAAjC,qBAAOC,EAAP,KAAaC,EAAb,KACA,GAAwB,IAAAF,UAAS,IAAjC,qBAAOG,EAAP,KAAaC,EAAb,KACMC,EAAU,+CAAG,wHAEqB,IAAAC,eAAc,CAChDd,IAAAA,EACAS,KAAAA,IAJa,gBAEPM,EAFO,EAEPA,QAASC,EAFF,EAEEA,SAIjBJ,EAAiB,IAATH,EAAaO,EAAWD,GANjB,gDAQfE,QAAQC,IAAR,MARe,yDAAH,qDAgBhB,OAJA,IAAAC,YAAU,WACRN,MACC,CAACJ,EAAMT,IAGR,+BAAKoB,UAAU,uCACb,+BAAKA,UAAU,aACb,+BAAKA,UAAU,gBAAf,UACA,+BAAKA,UAAU,2DACb,kCACEC,QAAS,kBAAMX,EAAQ,IACvBD,KAAK,SACLW,WAAW,aAAW,0BAA2B,CAAE,YAAsB,IAATX,KAHlE,QAOA,kCACEY,QAAS,kBAAMX,EAAQ,IACvBD,KAAK,SACLW,WAAW,aAAW,0BAA2B,CAAE,YAAsB,IAATX,KAHlE,UASJ,+BAAKW,UAAU,kDAAkDE,MAAO,CAAE,qBAAsB,mCAC9F,+BAAKF,UAAU,uBACZT,EAAKY,KAAI,WAAsBC,GAAtB,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,UAAT,OACR,wBAAC,UAAD,CACEC,KAAMF,EACNG,IAAKH,EAAKI,GACVC,OAAQ,CACN,CACE,KACA,KACA,SAEF,CACE,QACA,KACA,OACA,QAIJ,+BACEC,SAAS,IACTX,WAAW,aAAW,qHAAsHI,EAAQ,GAAM,GAAK,eAE/J,+BAAKJ,UAAU,uBACb,wBAAC,UAAD,CAASS,GAAIJ,EAAKI,GAAIL,MAAOA,KAE/B,+BAAKJ,UAAU,SACb,wBAAC,UAAD,CAAUS,GAAIJ,EAAKI,MAErB,+BAAKT,UAAU,YACb,wBAAC,UAAD,OAEF,+BAAKA,UAAU,QACb,wBAAC,UAAD,CAASO,KAAMF,KAEjB,+BAAKL,UAAU,2BACZM,EADH","sources":["webpack://wyy/./src/pages/User/Record/index.tsx"],"sourcesContent":["import React, { useEffect, useState, memo } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { apiUserRecord } from '@/api';\nimport DomMenuCreate from '@/components/MenuCreate';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport DomRank from '@/components/Table/Rank';\nimport DomHeart from '@/components/Table/Heart';\nimport DomDownload from '@/components/Table/Download';\nimport DomName from '@/components/Table/Name';\n// import './style.scss';\n\nexport default memo(({ uid }) => {\n  const { profile } = useSelector(({ account }) => account);\n  // console.log(profile, uid);\n  if (profile?.userId !== Number(uid)) return <Redirect to=\"/\" />;\n  const [type, setType] = useState(1);\n  const [data, setData] = useState([]);\n  const handleInit = async () => {\n    try {\n      const { allData, weekData } = await apiUserRecord({\n        uid,\n        type,\n      });\n      setData(type === 1 ? weekData : allData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    handleInit();\n  }, [type, uid]);\n\n  return (\n    <div className=\"domUser_record h-full flex flex-col\">\n      <div className=\"flex-none\">\n        <div className=\"h1 ui_header\">我的听歌排行</div>\n        <div className=\"domUser_record_nav px-8 pb-2 border-b space-x-8 text-sm\">\n          <button\n            onClick={() => setType(1)}\n            type=\"button\"\n            className={classNames('domUser_record_nav_link', { 'font-bold': type === 1 })}\n          >\n            最近一周\n          </button>\n          <button\n            onClick={() => setType(0)}\n            type=\"button\"\n            className={classNames('domUser_record_nav_link', { 'font-bold': type === 0 })}\n          >\n            所有时间\n          </button>\n        </div>\n      </div>\n      <div className=\"overflow-auto h-0 flex-auto domUser_record_main\" style={{ '--ui_grid_template': '36px / 24px 24px 24px 10fr 1fr' }}>\n        <div className=\"domUser_record_list\">\n          {data.map(({ song, playCount }, index) => (\n            <DomMenuCreate\n              item={song}\n              key={song.id}\n              schema={[\n                [\n                  '评论',\n                  '播放',\n                  '下一首播放',\n                ],\n                [\n                  '收藏到歌单',\n                  '分享',\n                  '复制链接',\n                  '下载',\n                ],\n              ]}\n            >\n              <div\n                tabIndex=\"2\"\n                className={classNames('domUser_record_item focus:outline-none focus:bg-gray-200 items-center hover:bg-gray-100 ui_grid_template px-8 grid', index % 2 === 1 && 'bg-gray-50')}\n              >\n                <div className=\"index text-gray-400\">\n                  <DomRank id={song.id} index={index} />\n                </div>\n                <div className=\"heart\">\n                  <DomHeart id={song.id} />\n                </div>\n                <div className=\"download\">\n                  <DomDownload />\n                </div>\n                <div className=\"name\">\n                  <DomName item={song} />\n                </div>\n                <div className=\"playCount text-gray-400\">\n                  {playCount}\n                  次\n                </div>\n              </div>\n            </DomMenuCreate>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n});\n"],"names":["memo","uid","profile","useSelector","account","userId","Number","Redirect","to","useState","type","setType","data","setData","handleInit","apiUserRecord","allData","weekData","console","log","useEffect","className","onClick","style","map","index","song","playCount","item","key","id","schema","tabIndex"],"sourceRoot":""}